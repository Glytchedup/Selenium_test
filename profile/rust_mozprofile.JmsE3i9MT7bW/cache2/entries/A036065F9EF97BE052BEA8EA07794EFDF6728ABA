//>>built
require({cache:{"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(l,m,g,k,f,d,e,c,b,a,h){c=l("dijit.form.TextBox"+(e("dojo-bidi")?"_NoBidi":""),[c,b],{templateString:a,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',
_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=g.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;
if(b){var h=this.domNode.getElementsByTagName("INPUT");if(h)for(a=0;a<h.length;a++)h[a].style.fontFamily=b}}}catch(c){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=m.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(d(this._phspan,"mousedown",function(a){a.preventDefault()}),d(this._phspan,"touchend, pointerup, MSPointerUp",f.hitch(this,function(){this.focus()}))));this._phspan.innerHTML=
"";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,h){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){k.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.",
"","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){k.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});
9>e("ie")&&(c.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},h._setSelectionRange=b._setSelectionRange=function(a,b,h){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",h-b),a.select())});e("dojo-bidi")&&(c=l("dijit.form.TextBox",c,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));
return c})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q){m=m("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,d.hitch(this,"_setStateClass"))},
this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",
!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(h){b=b.concat(l.map(b,function(a){return a+h}),"dijit"+h)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var h="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(h);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?
a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var h=this.stateNode||this.domNode,c={};l.forEach(h.className.split(" "),function(a){c[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete c[a]});l.forEach(b,function(a){c[a]=!0});var d=[],q;for(q in c)d.push(q);h.className=d.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,h){function c(h){k.toggle(a,b+"Active",h)}if(!this.disabled&&!this.readOnly)switch(h.type){case "mouseover":case "MSPointerOver":case "pointerover":k.toggle(a,
b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":k.toggle(a,b+"Hover",!1);c(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":c(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":c(!1);break;case "focus":case "focusin":k.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":k.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});c(function(){function c(a,
b,h){if(!h||!g.isDescendant(h,b))for(;b&&b!=h;b=b.parentNode)if(b._cssState){var d=q.getEnclosingWidget(b);d&&(b==d.domNode?d._cssMouseEvent(a):d._subnodeCssMouseEvent(b,b._cssState,a))}}var d=a.body(),f;e(d,b.over,function(a){c(a,a.target,a.relatedTarget)});e(d,b.out,function(a){c(a,a.target,a.relatedTarget)});e(d,h.press,function(a){f=a.target;c(a,f)});e(d,h.release,function(a){c(a,f);f=null});e(d,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var h=
q.getEnclosingWidget(b);h&&h._subnodeCssMouseEvent(b,b._cssState,a)}})});return m})},"forecast/views/OtbTable":function(){define("common/widgets/DayTable common/widgets/_HandlesMixin common/widgets/form/ToggleButtonGroup dojo/_base/lang dojo/i18n!common/nls/common dojo/dom-construct dojo/on dojo/date dojo/date/stamp dijit/_WidgetBase common/util widget/OverlayMixin dojo/query".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q){function n(a){var b=a.field;return k.mixin({renderCell:function(a,h,c){h=this.enabledSets;
a=a[b]||{};h.otb&&d.create("span",{className:"otb",innerHTML:null==a.current?0:a.current},c);h.stly&&d.create("span",{className:"stly",innerHTML:null==a.lastYear?0:a.lastYear},c);h.variance&&(a=a.current-a.lastYear,c=d.create("span",{className:"variance",innerHTML:null==a||isNaN(a)?0:a},c),0>a&&c.classList.add("negative"))}},a)}function v(a){return n({field:a,label:function(b,h,c){b=this.view.namesModel.getDemandForecastSegmentName(a);d.create("span",{innerHTML:b},c)}})}var r=l.createSubclass([],
{enabledSets:null,showYear:!0,constructor:function(){this.enabledSets=["otb"]},_addEventsAndWeekends:function(a){var b=this.eventsAndWeekendsData;a&&b&&Object.keys(b).forEach(function(h){var c=a[h];c||(c=a[h]={});c.weekendIndicator=b[h].weekEnd;c.eventIndicator=b[h].eventIndicator;c.eventName=b[h].eventName})},_setDataAttr:function(a){var b=[n({field:"enabledData",label:function(a,b,h){d.create("span",{innerHTML:"\x26nbsp;"},h)},renderCell:function(a,b,h){var c={otb:"OTB",stly:"STLY",variance:"Var"},
q=this.enabledSets;["otb","stly","variance"].forEach(function(a){var b=c[a];q[a]&&d.create("span",{className:a,innerHTML:b},h)})}})],h=[];if(a){var c=this,q={};c.view.namesModel.getDemandForecastSegmentNames().forEach(function(a){q[a.id]=c.view.namesModel.getDemandForecastSegmentOrder(a.id)});var e=[];Object.keys(q).forEach(function(a){e[q[a]]=a});e.forEach(function(a){null!=a&&(b.push(v(a)),h.push(a))})}b.push(n({field:"total",label:f.total,renderCell:function(a,b,c){this.enabledSets.otb&&(b=h.reduce(function(b,
h){return b+(a[h]&&a[h].current||0)},0),d.create("span",{className:"otb",innerHTML:b},c));this.enabledSets.stly&&(b=h.reduce(function(b,h){return b+(a[h]&&a[h].lastYear||0)},0),d.create("span",{className:"stly",innerHTML:b},c));this.enabledSets.variance&&(b=h.reduce(function(b,h){var c;a[h]&&(c=a[h].current-a[h].lastYear);return b+(isNaN(c)?0:c)},0),c=d.create("span",{className:"variance",innerHTML:isNaN(b)?0:b},c),0>b&&c.classList.add("negative"))}}));this.set("rows",b);this._addEventsAndWeekends(a);
this.inherited(arguments)},_setEnabledSetsAttr:function(a){var b={};a&&a.forEach(function(a){b[a]=!0});this._set("enabledSets",b);this.render(this.data)},_setEventsAndWeekendsDataAttr:function(a){this._set("eventsAndWeekendsData",a);this._addEventsAndWeekends(this.data);this.render()}});return a.createSubclass([q,m],{baseClass:"otb-table",targetDate:null,buildRendering:function(){this.inherited(arguments);var a=this.containerNode=this.domNode;d.place('\x3cspan class\x3d"arrow arrow-left tall-button show-hover"\x3e\x3cspan class\x3d"icon left-arrow-heavy disabled"\x3e\x3c/span\x3e\x3c/span\x3e',
a);var b=d.create("div",{className:"table-container"},a);d.place('\x3cspan class\x3d"arrow arrow-right tall-button show-hover"\x3e\x3cspan class\x3d"icon right-arrow-heavy disabled"\x3e\x3c/span\x3e\x3c/span\x3e',a);a=this._titleBar=d.create("div",{className:"title-bar"},b);d.create("h2",{innerHTML:"On the Books"},a);var h=this._toggleButtons=new g({buttons:[{label:f.otb,name:"otb"},{label:f.stly,name:"stly"},{label:f.variance,name:"variance"}],value:"otb"});h.placeAt(a);this.own(h);(this._table=
new r({view:this})).placeAt(b)},postCreate:function(){this.inherited(arguments);var a=this;this.own(this._toggleButtons.watch("value",function(b,h,c){a._table.set("enabledSets",c)}));this.on(".arrow:mousedown",function(a){a.preventDefault();a.stopPropagation()});this.on(".arrow:click",function(b){b.preventDefault();b.stopPropagation();if(a._minDate){b=a._table.get("targetDate");var h=a._table.get("centerDate")||b,d=this.classList.contains("arrow-left")?-7:7,q=0>=c.compare(h,a._minDate)&&0>d,e=0<=
c.compare(h,a._maxDate)&&0<d;q||e&&0>=c.compare(b,h)||(h=c.add(h,"day",d),2>=Math.abs(c.difference(h,b,"week"))&&a._table.set("centerDate",h))}})},load:function(){this.model.get("targetDate")&&this.showOverlay(this.model.load())},reset:function(){this._table.set("centerDate",null);this._toggleButtons.set("value",["otb"])},_getDataAttr:h.proxyGetter("_table","data"),_setDataAttr:function(a){if(a){var h=Object.keys(a).sort();this._minDate=b.fromISOString(h[0]);this._maxDate=b.fromISOString(h[h.length-
1])}return this._table.set("data",a)},_setEventsAndWeekendsDataAttr:function(a){this._table.set("eventsAndWeekendsData",a)},_setNamesModelAttr:function(a){this._set("namesModel",a)},_setModelAttr:function(a){this.removeHandles("model");this.set("data",a.get("data"));this._set("model",a);if(a){var b=this;this.addHandle(a.on("load-complete",function(){b.set("data",a.get("data"))}),"model")}},_getTargetDateAttr:h.proxyGetter("model","targetDate"),_setTargetDateAttr:function(a){this._table.set("targetDate",
a);this._table.set("centerDate",a);var b=this.model.get("targetDate");if(!b||0!==c.compare(a,b,"date"))this.model.set("targetDate",a),this.load()},_setWeekendIndicatorModelAttr:function(a){this._set("weekendIndicatorModel",a);var b=this;a.loaded().then(function(){b._table.isWeekend=a.isWeekend.bind(a);b._table._render()})}})})},"common/widgets/DayGraph":function(){define("dijit/_WidgetBase dijit/Tooltip dojo/aspect dojo/date dojo/date/locale dojo/date/stamp dojo/Deferred dojo/dom-construct dojo/on dojo/store/Memory dojox/charting/Chart dojox/charting/axis2d/Default dojox/charting/plot2d/Grid common/widgets/Legend common/util common/widgets/_EventTooltipMixin ./ChartTheme dojo/query".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s){var p=q.createSubclass([],{constructor:function(a,b){this.graph=b.graph},_getMaxLabelSize:function(){var a=this.inherited(arguments);a&&(a.majLabelH=26);return a},createText:function(a,b,h,d,q,e,f,n,p){p=this.graph._getColumnProperties().width;var g=this.inherited(arguments,["html",b,h,d-4,q,"",f,n,p]),v=g.firstElementChild;v.innerHTML="";v.classList.add("date-label");c.create("div",{className:"marker"},v);e.isWeekend&&v.classList.add("weekend");c.create("div",
{className:"date-day",innerHTML:e.weekDay},v);c.create("span",{className:"date-date",innerHTML:e.date},v);if("Y"===e.eventIndicator){var r=c.create("span",{className:"icon event"},v);this.graph.setEventText(r,e.eventName)}e.isTargetDate&&v.classList.add("target-date");e.monthName&&c.create("div",{className:"month",innerHTML:e.monthName},v);return g}});return l.createSubclass([t],{baseClass:"day-graph",mainPlotName:null,numberOfDays:31,user:"",buildRendering:function(){this.inherited(arguments);var a=
this.containerNode=this.domNode,b=c.create("div",{className:"heading"},a);(this.legend=new v).placeAt(b);b=c.create("div",{className:"chart-outer"},a);c.place('\x3cspan class\x3d"arrow arrow-left tall-button"\x3e\x3cspan class\x3d"icon left-arrow-heavy disabled"\x3e\x3c/span\x3e\x3c/span\x3e',b);c.place('\x3cspan class\x3d"arrow arrow-right tall-button"\x3e\x3cspan class\x3d"icon right-arrow-heavy disabled"\x3e\x3c/span\x3e\x3c/span\x3e',b);var q=this._weekMarker=c.create("div",{className:"week-selector"},
b);c.create("span",{className:"icon arrow arrow-left"},q);c.create("span",{className:"icon arrow arrow-right"},q);this._targetDateMarker=c.create("div",{className:"target-date-marker"},b);b=this._chartInner=c.create("div",{className:"chart-inner"},b);b=this._chartNode=c.create("div",{className:"chart"},b);b=this.chart=new h(b,{margins:{l:0,r:0,t:0,b:0}});b.setTheme(s);var e=this;b.addAxis("x",{type:p,graph:this,dropLabels:!1,labelFunc:function(a){a=e.store.data[a-1];var b=d.fromISOString(a.date),
h={weekDay:f.format(b,{selector:"date",datePattern:"EEE"}).slice(0,2),date:b.getDate(),isWeekend:e.isWeekend(a.date),eventIndicator:a.eventIndicator,eventName:a.eventName,isTargetDate:0===k.compare(b,e.targetDate,"date")};a.showMonth&&(h.monthName=f.format(b,{selector:"date",datePattern:"MMMM"}));return h}});this._footer=c.create("div",{className:"footer"},a)},postCreate:function(){this.inherited(arguments);var a=this;this.on(".arrow:click",function(b){b.stopPropagation();b.preventDefault();b=this.parentNode===
a._weekMarker?7:30;b=this.classList.contains("arrow-left")?-b:b;a.emit("increment-date",{detail:{count:b}})})},resize:function(){this.inherited(arguments);var a=this._chartInner;this.chart.resize(a.clientWidth,a.clientHeight);this.render()},startup:function(){this._started||(this.inherited(arguments),this.resize(),this.own(g.after(this.chart,"render",this._postRender.bind(this))))},addGridLines:function(){this.chart.addPlot("gridLines",{type:n,hMajorLines:!0,hMinorLines:!0})},removeGridLines:function(){this.chart.removePlot("gridLines")},
isWeekend:function(a){"string"!==typeof a&&(a=r.toISODate(a));return"Y"===this.store.get(a).weekendIndicator},_indexToDate:function(a){return k.add(this._startDate,"day",a)},_dateToIndex:function(a){a=d.toISOString(a,{selector:"date"});for(var b=this.data,h=0,c=b.length;h<c;h++)if(b[h].date===a)return h},_getDefaultPlot:function(){return"default"},_getColumnProperties:function(){var a=this.chart,b=a.plots[this._getDefaultPlot()];return a.stack[b].getBarProperties()},_configureYAxis:function(){},_configurePlots:function(){},
_createStore:function(b){var h=[];if(this.targetDate&&b)for(var c=this.numberOfDays,d=k.add(this.targetDate,"day",-Math.floor(c/2)),q,e,f=!1,n=0;n<c;n++)e=k.add(d,"day",n),q=r.toISODate(e),h[n]=Object.create(b[q]||Object.prototype,{date:{value:q}}),1===e.getDate()&&!f&&(f=h[n].showMonth=!0);return new a({data:h,idProperty:"date"})},render:function(){if(!this._rendering){var a=new e;this._rendering=a.promise;var b=this;setTimeout(function(){b._rendering=null;b._renderTimeout=null;b._render();a.resolve()})}return this._rendering},
_render:function(){if(this._started&&this.targetDate&&this.data){var a={vertical:!0,minorTick:{length:4},majorTick:{length:4},includeZero:!0,min:0,minorLabels:!1,labelFunc:function(a){return"0"===a?" ":a}};this._configureYAxis(a);this.chart.addAxis("y",a);this._configurePlots();this.chart.render()}},_postRender:function(){function a(b){return parseFloat(b.style.left)}if(this.targetDate){var b=Array.prototype.slice.call(this._chartNode.querySelectorAll(".date-label"));b.sort(function(b,h){var c=a(b),
d=a(h);return c-d});for(var h,c,d,q,e,f=0,n=b.length-1;f<n;f++)c=b[f],q=b[f+1],c.classList.contains("weekend")&&q.classList.contains("weekend")&&(d=c.firstElementChild,e=parseFloat(c.style.width),h||(h=a(q),h-=a(c)+e),d.style.width=e+h+1+"px");e=this.domNode.querySelector(".date-label .month");c=e.parentElement.offsetLeft+e.offsetLeft+e.offsetWidth;d=e.parentElement.parentElement.parentElement.offsetWidth;c>d&&(e.style.position="relative",e.style.left=d-c+"px");e=Math.floor(this.numberOfDays/2);c=
this._getColumnProperties().gap;d=b[e];f=this._targetDateMarker;f.style.width=parseFloat(d.style.width)+2*c+"px";f.style.left=a(d)-c+"px";d=this._weekMarker;f=b[e-3];b=b[e+3];e=a(b)+parseFloat(b.style.width)-a(f);d.style.width=e+2*c+"px";d.style.left=a(f)-c+"px";var p=this.chart;Object.keys(p.plots).forEach(function(a){var b=p.stack[p.plots[a]];b.group.rawNode.setAttribute("class","plot-"+a);b.series.forEach(function(a){a.group.rawNode.setAttribute("class","series-"+a.name)})})}},_updateStore:function(){this._startDate=
k.add(this.targetDate,"day",-Math.floor(this.numberOfDays/2));this._endDate=k.add(this._startDate,"day",this.numberOfDays-1);this.store=this._createStore(this.data)},_updateFooter:function(){this._footer.textContent="Forecast as of "+r.formatTimestamp(this.time)+" "+this.user},_setTimeAttr:function(a){this._set("time",a);this._updateFooter()},_setUserAttr:function(a){this._set("user",a);this._updateFooter()},_setDataAttr:function(a){this._set("data",a);this._updateStore();this.render()},_setTargetDateAttr:function(a){this._set("targetDate",
a);this._updateStore();this.render()},_setWeekendIndicatorModelAttr:function(a){this._set("weekendIndicatorModel",a);var b=this;a.loaded().then(function(){b.isWeekend=a.isWeekend.bind(a);b.render()})}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q){var n=l("dijit.DialogUnderlay",[c,b],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",
dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){k.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(d(this.domNode,"keydown",m.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var h=e.getBox(this.ownerDocument);b.top=
h.t+"px";b.left=h.l+"px";a.width=h.w+"px";a.height=h.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var b=e.get(this.ownerDocument);this._modalConnects=[h.on("resize",m.hitch(this,"layout")),d(b,"scroll",m.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();
this.inherited(arguments)},_onKeyDown:function(){}});n.show=function(a,b){var h=n._singleton;!h||h._destroyed?h=q._underlay=n._singleton=new n(a):a&&h.set(a);f.set(h.domNode,"zIndex",b);h.open||h.show()};n.hide=function(){var a=n._singleton;a&&!a._destroyed&&a.hide()};return n})},"common/widgets/form/_ButtonMixin":function(){define(["dojo/_base/declare"],function(l){return l(null,{_setDisabledAttr:function(){this.inherited(arguments);this.focusNode.removeAttribute("disabled")}})})},"put-selector/put":function(){(function(l){var m,
g=/[-+,> ]/;l([],m=function(k,f){function d(h){function q(){s&&(t&&s!=t)&&(t==h&&(f||(f=g.test(w)&&k.createDocumentFragment()))?f:t).insertBefore(s,r||null)}for(var f,v,r,t,s,p=arguments,l=p[0],A=0;A<p.length;A++){var w=p[A];if("object"==typeof w){v=!1;if(w instanceof Array){s=k.createDocumentFragment();for(var C=0;C<w.length;C++)s.appendChild(d(w[C]));w=s}if(w.nodeType)s=w,q(),t=w,r=0;else for(C in w)s[C]=w[C]}else if(v)v=!1,s.appendChild(k.createTextNode(w));else{1>A&&(h=null);v=!0;if(l=w.replace(e,
function(e,f,n,g,v,l){f&&(q(),"-"==f||"+"==f?(t=(r=s||t).parentNode,s=null,"+"==f&&(r=r.nextSibling)):("\x3c"==f?t=s=(s||t).parentNode:(","==f?t=h:s&&(t=s),s=null),r=0),s&&(t=s));if((e=!n&&g)||!s&&(n||v))"$"==e?(e=p[++A],t.appendChild(k.createTextNode(e))):(e=e||d.defaultTag,(f=a&&p[A+1]&&p[A+1].name)&&(e="\x3c"+e+' name\x3d"'+f+'"\x3e'),s=b&&~(c=e.indexOf("|"))?k.createElementNS(b[e.slice(0,c)],e.slice(c+1)):k.createElement(e));if(n)if("$"==g&&(g=p[++A]),"#"==n)s.id=g;else if(f=(e=s.className)&&
(" "+e+" ").replace(" "+g+" "," "),"."==n)s.className=e?(f+g).substring(1):g;else if("!"==w){var D;a?d("div",s,"\x3c").innerHTML="":(D=s.parentNode)&&D.removeChild(s)}else f=f.substring(1,f.length-1),f!=e&&(s.className=f);v&&("$"==l&&(l=p[++A]),"style"==v?s.style.cssText=l:(n="!"==v.charAt(0)?(v=v.substring(1))&&"removeAttribute":"setAttribute",l=""===l?v:l,b&&~(c=v.indexOf("|"))?s[n+"NS"](b[v.slice(0,c)],v.slice(c+1),l):s[n](v,l)));return""}))throw new SyntaxError("Unexpected char "+l+" in "+w);
q();t=l=s||t}}h&&f&&h.appendChild(f);return l}g=f||g;var e=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,c,b=!1;k=k||document;var a="object"==typeof k.createElement;d.addNamespace=function(a,c){k.createElementNS?(b||(b={}))[a]=c:k.namespaces.add(a,c)};d.defaultTag="div";d.forDocument=m;return d})})(function(l,m,g){g=g||m;"function"===typeof define?define([],function(){return g()}):"undefined"==typeof window?require("./node-html")(module,g):put=g()})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel",
"dojo/_base/lang","dojo/_base/array","./lambda"],function(l,m,g,k){var f={};m.mixin(k,{filter:function(d,e,c){"string"==typeof d&&(d=d.split(""));c=c||l.global;e=k.lambda(e);var b=[],a,h,q;if(m.isArray(d)){h=0;for(q=d.length;h<q;++h)a=d[h],e.call(c,a,h,d)&&b.push(a)}else if("function"==typeof d.hasNext&&"function"==typeof d.next)for(h=0;d.hasNext();)a=d.next(),e.call(c,a,h++,d)&&b.push(a);else for(h in d)h in f||(a=d[h],e.call(c,a,h,d)&&b.push(a));return b},forEach:function(d,e,c){"string"==typeof d&&
(d=d.split(""));c=c||l.global;e=k.lambda(e);var b,a;if(m.isArray(d)){b=0;for(a=d.length;b<a;e.call(c,d[b],b,d),++b);}else if("function"==typeof d.hasNext&&"function"==typeof d.next)for(b=0;d.hasNext();e.call(c,d.next(),b++,d));else for(b in d)b in f||e.call(c,d[b],b,d);return c},map:function(d,e,c){"string"==typeof d&&(d=d.split(""));c=c||l.global;e=k.lambda(e);var b,a,h;if(m.isArray(d)){b=Array(a=d.length);for(h=0;h<a;b[h]=e.call(c,d[h],h,d),++h);}else if("function"==typeof d.hasNext&&"function"==
typeof d.next){b=[];for(h=0;d.hasNext();b.push(e.call(c,d.next(),h++,d)));}else for(h in b=[],d)h in f||b.push(e.call(c,d[h],h,d));return b},every:function(d,e,c){"string"==typeof d&&(d=d.split(""));c=c||l.global;e=k.lambda(e);var b,a;if(m.isArray(d)){b=0;for(a=d.length;b<a;++b)if(!e.call(c,d[b],b,d))return!1}else if("function"==typeof d.hasNext&&"function"==typeof d.next)for(b=0;d.hasNext();){if(!e.call(c,d.next(),b++,d))return!1}else for(b in d)if(!(b in f)&&!e.call(c,d[b],b,d))return!1;return!0},
some:function(d,e,c){"string"==typeof d&&(d=d.split(""));c=c||l.global;e=k.lambda(e);var b,a;if(m.isArray(d)){b=0;for(a=d.length;b<a;++b)if(e.call(c,d[b],b,d))return!0}else if("function"==typeof d.hasNext&&"function"==typeof d.next)for(b=0;d.hasNext();){if(e.call(c,d.next(),b++,d))return!0}else for(b in d)if(!(b in f)&&e.call(c,d[b],b,d))return!0;return!1}});return k})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(l,m,g,k,f,d,e){function c(a,b,c,e){var v=d.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&f.body(a.ownerDocument).appendChild(a);var r=null;l.some(b,function(b){var h=b.corner,d=b.pos,f=0,g={w:{L:v.l+v.w-d.x,R:d.x-v.l,M:v.w}[h.charAt(1)],h:{T:v.t+v.h-d.y,B:d.y-v.t,M:v.h}[h.charAt(0)]},s=a.style;s.left=s.right="auto";c&&(f=c(a,b.aroundCorner,h,g,e),f="undefined"==typeof f?0:f);var t=a.style,k=t.display,l=t.visibility;"none"==t.display&&
(t.visibility="hidden",t.display="");s=m.position(a);t.display=k;t.visibility=l;k={L:d.x,R:d.x-s.w,M:Math.max(v.l,Math.min(v.l+v.w,d.x+(s.w>>1))-s.w)}[h.charAt(1)];l={T:d.y,B:d.y-s.h,M:Math.max(v.t,Math.min(v.t+v.h,d.y+(s.h>>1))-s.h)}[h.charAt(0)];d=Math.max(v.l,k);t=Math.max(v.t,l);k=Math.min(v.l+v.w,k+s.w);l=Math.min(v.t+v.h,l+s.h);k-=d;l-=t;f+=s.w-k+(s.h-l);if(null==r||f<r.overflow)r={corner:h,aroundCorner:b.aroundCorner,x:d,y:t,w:k,h:l,overflow:f,spaceAvailable:g};return!f});r.overflow&&c&&c(a,
r.aroundCorner,r.corner,r.spaceAvailable,e);b=r.y;var t=r.x,s=f.body(a.ownerDocument);/relative|absolute/.test(g.get(s,"position"))&&(b-=g.get(s,"marginTop"),t-=g.get(s,"marginLeft"));s=a.style;s.top=b+"px";s.left=t+"px";s.right="auto";return r}var b={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return e.place={at:function(a,h,d,e,f){d=l.map(d,function(a){var c={corner:a,aroundCorner:b[a],pos:{x:h.x,y:h.y}};e&&(c.pos.x+="L"==a.charAt(1)?e.x:-e.x,c.pos.y+="T"==a.charAt(0)?e.y:-e.y);return c});return c(a,d,f)},
around:function(a,b,d,e,f){function r(a,b){x.push({aroundCorner:a,corner:b,pos:{x:{L:C,R:C+u,M:C+(u>>1)}[a.charAt(1)],y:{T:z,B:z+G,M:z+(G>>1)}[a.charAt(0)]}})}var t;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(t=m.position(b,!0),/^(above|below)/.test(d[0])){var s=m.getBorderExtents(b),p=b.firstChild?m.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},D=m.getBorderExtents(a),A=a.firstChild?m.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};t.y+=Math.min(s.t+p.t,D.t+A.t);t.h-=
Math.min(s.t+p.t,D.t+A.t)+Math.min(s.b+p.b,D.b+A.b)}}else t=b;if(b.parentNode){s="absolute"==g.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){p=m.position(b,!0);D=g.getComputedStyle(b);/relative|absolute/.test(D.position)&&(s=!1);if(!s&&/hidden|auto|scroll/.test(D.overflow)){var A=Math.min(t.y+t.h,p.y+p.h),w=Math.min(t.x+t.w,p.x+p.w);t.x=Math.max(t.x,p.x);t.y=Math.max(t.y,p.y);t.h=A-t.y;t.w=w-t.x}"absolute"==D.position&&(s=!0);b=b.parentNode}}var C=t.x,z=t.y,
u="w"in t?t.w:t.w=t.width,G="h"in t?t.h:(k.deprecated("place.around: dijit/place.__Rectangle: { x:"+C+", y:"+z+", height:"+t.height+", width:"+u+" } has been deprecated.  Please use { x:"+C+", y:"+z+", h:"+t.height+", w:"+u+" }","","2.0"),t.h=t.height),x=[];l.forEach(d,function(a){var b=e;switch(a){case "above-centered":r("TM","BM");break;case "below-centered":r("BM","TM");break;case "after-centered":b=!b;case "before-centered":r(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":r(b?
"TL":"TR",b?"TR":"TL");r(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":r(b?"BL":"BR",b?"TL":"TR");r(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":r(b?"TL":"TR",b?"BL":"BR");r(b?"TR":"TL",b?"BR":"BL");break;default:r(a.aroundCorner,a.corner)}});a=c(a,x,f,{w:u,h:G});a.aroundNodePos=t;return a}}})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t){return l("dijit._HasDropDown",t,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){!this.disabled&&!this.readOnly&&("MSPointerDown"!=b.type&&"pointerdown"!=b.type&&b.preventDefault(),this.own(h.once(this.ownerDocument,q.release,a.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(a){var b=this.dropDown,h=!1;if(a&&this._opened){var c=d.position(this._buttonNode,!0);if(!(a.pageX>=c.x&&a.pageX<=c.x+c.w)||!(a.pageY>=c.y&&a.pageY<=c.y+c.h)){for(c=a.target;c&&!h;)f.contains(c,"dijitPopup")?h=!0:c=c.parentNode;if(h){c=a.target;if(b.onItemClick){for(var e;c&&!(e=n.byNode(c));)c=c.parentNode;if(e&&e.onClick&&e.getParent)e.getParent().onItemClick(e,a)}return}}}if(this._opened){if(b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){b.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";f.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(h(this._buttonNode,q.press,a.hitch(this,"_onDropDownMouseDown")),h(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),h(b,"keydown",a.hitch(this,"_onKey")),h(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||
this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var h=this.dropDown,c=a.target;if(h&&(this._opened&&h.handleKey)&&!1===h.handleKey(a))a.stopPropagation(),a.preventDefault();else if(h&&this._opened&&a.keyCode==b.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==b.DOWN_ARROW||(a.keyCode==b.ENTER||a.keyCode==b.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&
("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new m,h=a.hitch(this,function(){this.openDropDown();
b.resolve(this.dropDown)});this.isLoaded()?h():this.loadDropDown(h);return b},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var b=this.dropDown,h=b.domNode,c=this._aroundNode||this.domNode,e=this,q=r.open({parent:this,popup:b,around:c,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){e.closeDropDown(!0)},onCancel:function(){e.closeDropDown(!0)},onClose:function(){k.set(e._popupStateNode,
"popupActive",!1);f.remove(e._popupStateNode,"dijitHasDropDownOpen");e._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&c.offsetWidth>b._popupWrapper.offsetWidth){var c=c.offsetWidth-b._popupWrapper.offsetWidth,n={w:b.domNode.offsetWidth+c};a.isFunction(b.resize)?b.resize(n):d.setMarginBox(h,n);"R"==q.corner[1]&&(b._popupWrapper.style.left=b._popupWrapper.style.left.replace("px","")-c+"px")}k.set(this._popupStateNode,"popupActive","true");f.add(this._popupStateNode,"dijitHasDropDownOpen");
this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",b.id);"presentation"!==h.getAttribute("role")&&!h.getAttribute("aria-labelledby")&&h.setAttribute("aria-labelledby",this.id);return q},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),r.close(this.dropDown),this._opened=
!1)}})})},"widget/DatePicker":function(){define("dojo/dom-construct dojo/dom-geometry dojo/date/stamp dijit/_WidgetBase dijit/form/Button dijit/Calendar dojo/date dojo/cldr/supplemental".split(" "),function(l,m,g,k,f,d,e,c){var b=function(){var a=new Date;return d.createSubclass([],{buildRendering:function(){this.inherited(arguments);this.domNode.classList.add("date-picker-calendar");l.destroy(this.domNode.querySelector(".dijitCalendarDayLabelTemplate").parentNode)},_setValueAttr:function(a,b){var c=
[];if(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var e=this._toDate(a[d]);this._isValidDate(e)&&!this.isDisabledDate(e)&&c.push(this._serialize(e))}}this._set("value",c);this._markSelectedDates(c);if(0<c.length&&(this.set("currentFocus",c[c.length-1]),this._created&&(b||"undefined"===typeof b)))this.onChange(this.get("value"))},_getValueAttr:function(){return this._get("value")||[]},_getNodeByDate:function(a){return(a=this._toDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},
_setCurrentFocusAttr:function(a){a=this._toDate(a);this.inherited(arguments,[a])},_onDayClick:function(a){var b=this.parent&&this.parent.get("maxDates");a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);var c=new this.dateClassObj(a.dijitDateValue);if(a&&!this.isDisabledDate(c)){var d=this._get("value");if(this.rangeJustSelected)this.rangeJustSelected=!1;else{var d=d?d.slice(0):[],e=d.indexOf(this._serialize(c));if(-1!==e)d.splice(e,1),b&&this.parent.set("selectedCount",
this.parent.get("selectedCount")-1);else{if(b&&this.parent.get("selectedCount")===this.parent.get("maxDates"))return;d=this._addDate(d,c);b&&this.parent.set("selectedCount",this.parent.get("selectedCount")+1)}this.set("value",d);this.previouslySelectedDay=new this.dateClassObj(a.dijitDateValue)}this.set("currentFocus",c)}},_selectRange:function(){var a=this.previouslySelectedDay,b=this.get("endRange");(!this.previousRangeStart&&!this.previousRangeEnd?0:!(0>this.dateModule.compare(b,this.previousRangeStart,
"date")||0<this.dateModule.compare(b,this.previousRangeEnd,"date")))?0>this.dateModule.compare(b,a,"date")?this._removeFromRangeRTL(a,b):this._removeFromRangeLTR(a,b):0>this.dateModule.compare(b,a,"date")?this._addToRangeRTL(a,b):this._addToRangeLTR(a,b);this.rangeJustSelected=!0},_addToRange:function(a,b,c){var d=Math.abs(this.dateModule.difference(b,c,"day")),e,f=a?1:-1,g=a?b:c;a=a?c:b;c=[b];for(var p=1;p<=d;p++)e=this.dateModule.add(b,"day",f*p),c.push(e);this.set("value",this._addDates(this._get("value"),
c));null==this.previousRangeStart?this.previousRangeStart=g:0>this.dateModule.compare(a,this.previousRangeStart,"date")&&(this.previousRangeStart=g);null==this.previousRangeEnd?this.previousRangeEnd=a:0<this.dateModule.compare(a,this.previousRangeEnd,"date")&&(this.previousRangeEnd=a);this.previouslySelectedDay=e},_addToRangeLTR:function(a,b){this._addToRange(!0,a,b)},_addToRangeRTL:function(a,b){this._addToRange(!1,a,b)},_removeFromRange:function(a,b,c){var d=Math.abs(this.dateModule.difference(b,
c,"day"));a=a?1:-1;for(var e=[],f,g=0;g<=d;g++)f=this.dateModule.add(b,"day",a*g),e.push(f);this.set("value",this._removeDates(this._get("value"),e));null==this.previousRangeEnd?this.previousRangeEnd=c:0<a*this.dateModule.compare(c,this.previousRangeEnd,"date")&&(this.previousRangeEnd=c);null==this.previousRangeStart?this.previousRangeStart=c:0<a*this.dateModule.compare(c,this.previousRangeStart,"date")&&(this.previousRangeStart=c);this.previouslySelectedDay=this.dateModule.add(f,"day",a)},_removeFromRangeLTR:function(a,
b,c){this._removeFromRange(!0,a,b,c)},_removeFromRangeRTL:function(a,b,c){this._removeFromRange(!1,a,b,c)},_onDayMouseDown:function(a){var b=a.target.parentNode;b&&(b.dijitDateValue&&!b.classList.contains("dijitCalendarDisabledDate"))&&(b.classList.add("dijitCalendarActiveDate"),this._currentNode=b);a.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",new this.dateClassObj(b.dijitDateValue)),this._selectRange()):(this.selectingRange=!1,this.previousRangeEnd=this.previousRangeStart=
null)},_populateGrid:function(){this.inherited(arguments);var a=new this.dateClassObj(this.currentFocus),b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a)[a.getMonth()];if(!this.monthName){var c=this.domNode.querySelector(".dijitCalendarMonthContainer");this.monthName=l.create("th",{colspan:7},c,"only")}this.monthName.innerHTML=b+" "+a.getFullYear()},isDisabledDate:function(b){b=this._toDate(b);var c=(new this.dateClassObj(this.currentFocus)).getMonth(),d=this._toDate(this.endDate);
return b<a||!isNaN(d)&&b>d?!0:b.getMonth()!==c},_createMonthWidget:function(){},_populateControls:function(){},_toDate:function(a){"string"===typeof a?a=g.fromISOString(a):"number"===typeof a&&(a=new this.dateClassObj(a));return this._patchDate(a)},_serialize:function(a){return g.toISOString(a,{selector:"date"})},_addDate:function(a,b){b=this._serialize(b);-1===a.indexOf(b)&&(a=a.concat(b));return a},_addDates:function(a,b){for(var c=0;c<b.length;c++)a=this._addDate(a,b[c]);return a},_removeDate:function(a,
b){b=this._serialize(b);var c=a.indexOf(b);-1!==c&&(a=a.slice(0),a.splice(c,1));return a},_removeDates:function(a,b){for(var c=0;c<b.length;c++)a=this._removeDate(a,b[c]);return a}})}();return k.createSubclass([],{baseClass:"date-picker",numberOfMonths:1,startDate:new Date,selectedCount:0,constructor:function(){this._calendars=[]},buildRendering:function(){this.inherited(arguments);var a=this.containerNode=this.domNode,b=l.create("div",{className:"days"},a),b=l.create("table",null,b),b=l.create("thead",
null,b);this._dayLabels=l.create("tr",null,b);this._calendarList=l.create("div",{className:"calendar-list"},a);b=l.create("div",{className:"controls"},a);a=this._clearButton=new f({label:"Clear"});a.placeAt(b);b=l.create("div",{className:"right-controls"},b);a=this._cancelButton=new f({label:"Cancel"});a.domNode.classList.add("cancel-button");a.placeAt(b);a=this._doneButton=new f({label:"Done"});a.placeAt(b)},postCreate:function(){this.inherited(arguments);var a=this;this._clearButton.on("click",
function(){a.set("value",null);this.emit("clear",{})});this._doneButton.on("click",function(){var b=a.get("value");a.emit("done",{detail:{value:b}})});this._cancelButton.on("click",function(){this.emit("cancel",{})})},_getValueAttr:function(){return this._calendars.reduce(function(a,b){return a.concat(b.get("value"))},[])},_setValueAttr:function(a){this._calendars.forEach(function(b){b.set("value",a)})},_setNumberOfMonthsAttr:function(a){this._set("numberOfMonths",a);this.domNode.classList.remove("scroll");
this._calendars.forEach(function(a){a.destroyRecursive()});var h;a=this._calendars=[];for(var d=this._calendarList,f=0;f<this.numberOfMonths;f++)h=new b({currentFocus:e.add(this.startDate,"month",f),endDate:this.endDate}),d.appendChild(h.domNode),a.push(h);a=this._dayLabels;l.empty(a);if(h){d=h.dateLocaleModule.getNames("days","abbr","standAlone",h.lang);h=c.getFirstDayOfWeek(h.lang);for(f=0;f<d.length;f++)l.create("th",{innerHTML:d[(f+h)%7].slice(0,2),className:"dijitCalendarDateLabel"},a)}1<this.numberOfMonths&&
this.domNode.classList.add("scroll")},_setStartDateAttr:function(a){this._set("startDate",a);this._calendars.forEach(function(b,c){b.set("currentFocus",e.add(a,"month",c))})}})})},"forecast/models/Otb":function(){define("common/models/_Model dojo/date dojo/date/stamp dojo/io-query core/Config common/util".split(" "),function(l,m,g,k,f,d){return l.createSubclass([],{_contextName:"forecastContext",Config:f,targetDate:null,_metaProperties:["mardate","targetDate","Config"],postLoad:function(d){this._data=
this.data=null;d={data:d};this.inherited(arguments,[d])},_dataGetter:function(){if(!this._data&&this.data&&this.data.stays){var d=this._data={};this.data.stays.forEach(function(c){var b=d[c.stayDate]={};c.segments.filter(function(a){return null!=a}).forEach(function(a){b[String(a.id)]={current:a["onTheBooks"in a?"onTheBooks":"actuals"]?a["onTheBooks"in a?"onTheBooks":"actuals"].rooms:0,lastYear:a.stly?a.stly.rooms:0}})})}return this._data},_getLoadUrl:function(){var d=this.Config.get(this._contextName);
return d.contextPath+"api/v1/onthebooks/properties/"+d.propertyCode+"/run/latest/stays"},_getLoadQuery:function(){var e=this.Config.get(this._contextName),c=this.get("targetDate")||new Date,b=m.add(c,"day",-17),c=m.add(c,"day",18);return{startdate:g.toISOString(b,{selector:"date"}),enddate:g.toISOString(c,{selector:"date"}),datadate:d.toISODate(m.add(e.marshaDatePlusOneObj,"day",-1)),embedded:"uisegment"}},_mardateGetter:function(){var d=this.Config.get(this._contextName);this.mardate||(this.mardate=
d.mardate?new Date(d.mardate):m.add(d.marshaDatePlusOneObj,"day",-1));return this.mardate},_marshaDateGetter:function(){return this.Config.get(this._contextName).marshaDatePlusOneObj}})})},"common/widgets/DayGraphTooltip":function(){define("dijit/place dojo/date/locale dojo/dom-construct dojo/mouse dojo/number dojo/on dojox/charting/action2d/Tooltip dojo/query".split(" "),function(l,m,g,k,f,d,e){return e.createSubclass([],{constructor:function(c,b,a,h){this.graph=h;this._handles=[];this._createPopup()},
destroy:function(){for(var c;c=this._handles.pop();)c.destroy?c.destroy():c.remove&&c.remove();this._dialog&&(this._dialog.destroyRecursive(),this._dialog=void 0,this._getDialog=function(){})},own:function(){this._handles=Array.prototype.concat.apply(this._handles,arguments)},set:function(c,b){switch(c){case "date":this._day.textContent=m.format(b,{selector:"date",datePattern:"EEEE"});this._date.textContent=m.format(b,{selector:"date",datePattern:"dd MMM y"});break;default:this["_"+c].textContent=
this.formatNumber(b)}},formatNumber:function(c){return f.format(c)},renderHeading:function(c){this._day=g.create("div",{className:"day-name"},c);this._date=g.create("div",{className:"date"},c)},renderBody:function(){},_createPopup:function(){var c=this,b=this._popupNode=g.create("div",{className:"forecast dijitTooltipDialog daygraph-tooltip"+(this["class"]?" "+this["class"]:"")}),a=g.create("div",{className:"dijitTooltipContainer tooltip-content"},b),h=g.create("div",{className:"tooltip-heading"},
a);g.place('\x3cdiv class\x3d"arrow"\x3e\x3cspan class\x3d"icon"\x3e\x3c/span\x3e\x3c/div\x3e',h);h=g.create("div",{},h);this.renderHeading(h);h=g.create("div",{className:"tooltip-body"},a);this.renderBody(h);this.own(d(b,k.enter,function(){c._mouseOverPopup=!0}),d(b,k.leave,function(){c._mouseOverPopup=!1;setTimeout(function(){c._mouseOverBar||c._closePopup()})}),d(a,".arrow:mousedown",function(a){a.preventDefault();a.stopPropagation()}),d(a,".arrow:click",function(){c.graph.emit("set-date",{detail:{date:c._targetDate}})}))},
_closePopup:function(){var c=this._popupNode;c&&c.parentNode&&c.parentNode.removeChild(c)},onEvent:function(){},process:function(c){var b=this;if("onplotreset"===c.type)this._closePopup();else if("onmouseout"===c.type)this._mouseOverBar=!1,setTimeout(function(){b._mouseOverPopup||b._closePopup()});else if(c.shape){this._mouseOverBar=!0;this.onEvent(c);var a=this._popupNode;c=l.around(a,c.shape?c.shape.rawNode:c.target,["above-centered","below-centered"]);a.classList[0>c.aroundCorner.indexOf("B")?
"add":"remove"]("dijitTooltipAbove");a.classList[0>c.aroundCorner.indexOf("B")?"remove":"add"]("dijitTooltipBelow")}}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r){return m("dijit._MenuBase",[q,r,v,n],{selected:null,_setSelectedAttr:function(a){this.selected!=
a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){f.toggle(this.domNode,"dijitMenuActive",a);f.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(a){var b=h.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var b=this,f="string"==
typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(c(this.containerNode,c.selector(f,e.enter),function(){b.onItemHover(h.byNode(this))}),c(this.containerNode,c.selector(f,e.leave),function(){b.onItemUnhover(h.byNode(this))}),c(this.containerNode,c.selector(f,a),function(a){b.onItemClick(h.byNode(this),a);a.stopPropagation();a.preventDefault()}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,h){this.inherited(arguments);if(a&&(-1==h||a.popup&&1==h))this.onItemClick(a,
b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?
(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),
this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=
this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&
(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var h=a.popup;h.parentMenu=this;this.own(this._mouseoverHandle=c.once(h.domNode,"mouseover",d.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&e.focusChild(a);e._cleanUp()},onExecute:d.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},b);this.currentPopupItem=
a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(k.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);
this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"widget/OverlayMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom-construct"],function(l,m,g,k){return l(null,{overlayAttachPoint:"domNode",overlayContainerNode:null,errorOverlayAttachPoint:"",errorOverlayContainerNode:null,destroy:function(){this._destroyOverlay();
this.inherited(arguments)},_destroyOverlay:function(){this._overlayPromise&&!this._overlayPromise.isFulfilled()&&this._overlayPromise.cancel();k.destroy(this._overlayNode);k.destroy(this._errorOverlayNode);this._overlayNode=this._errorOverlayNode=null},showOverlay:function(f){this._destroyOverlay();var d=this._overlayPromise=f,e=this,c=k.create("div",{className:"overlay overlay-loading"},this.overlayContainerNode||m.getObject(e.overlayAttachPoint,!1,e));if(this.errorOverlayContainerNode||this.errorOverlayAttachPoint)f=
f.otherwise(function(b){"CancelError"!==b.dojoType&&(e._errorOverlayNode=k.create("div",{className:"overlay alert"},this.errorOverlayContainerNode||m.getObject(e.errorOverlayAttachPoint,!1,e))).appendChild(document.createTextNode(b.message||b));throw b;});f=f.always(function(){e._overlayPromise=null;var b=getComputedStyle(c),b=b.transitionDuration||b.webkitTransitionDuration||"0ms",b="ms"===b.slice(-2)?+b.slice(0,-2):1E3*+b.slice(0,-1);setTimeout(function(){k.destroy(c);e._overlayNode=null},b);c.className+=
" overlay-hidden"});return d}})})},"common/widgets/form/DateDropDownButton":function(){define(["dojo/i18n!common/nls/common","dojo/date","dojo/date/locale","./DropDownButton"],function(l,m,g,k){return k.createSubclass([],{pattern:l.datePatternDateSelector,postCreate:function(){this.inherited(arguments);var f=this;this.dropDown.watch("value",function(d,e,c){f.set("label",c)})},_setLabelAttr:function(f){this.formatLabel?f=this.formatLabel(f):f instanceof Date&&(f=g.format(f,{datePattern:this.pattern,
selector:"date"}));this.inherited(arguments,[null==f?"":f])}})})},"common/widgets/form/DateSelector":function(){define("dijit/_WidgetBase dojo/date dojo/dom-construct dojo/on ./DateDropDownButton ../Calendar dojo/query".split(" "),function(l,m,g,k,f,d){var e=new Date((new Date).getFullYear()-1,0,1),c=d.createSubclass([],{_populateControls:function(){this.inherited(arguments);var b=this.currentFocus.getFullYear()-1<e.getFullYear();this.previousYearLabelNode.classList[b?"add":"remove"]("invisible");
b=b&&0===this.currentFocus.getMonth();this.decrementMonth.classList[b?"add":"remove"]("invisible")},_setCurrentFocusAttr:function(b){0>=m.compare(e,b)&&this.inherited(arguments)}});return l.createSubclass([],{baseClass:"date-selector target-only",minDate:null,maxDate:null,increment:7,postMixInProperties:function(){this.inherited(arguments);this.minDate=this.minDate||this._copyDate(this.targetDate);this.maxDate=this.maxDate||this._copyDate(this.targetDate)},buildRendering:function(){this.inherited(arguments);
var b=g.create("div",{className:"target-date-container"},this.domNode),a=this,h=this._targetDateMenu=new c({isDisabledDate:function(b){return-1===m.compare(b,a.minDate,"date")?!0:1===m.compare(b,a.maxDate,"date")?!0:!1}});this._targetDateButton=new f({label:"Select",autoWidth:!1,dropDown:h});g.create("span",{className:"icon arrow arrow-left"},b);b.appendChild(this._targetDateButton.domNode);g.create("span",{className:"icon arrow arrow-right"},b)},postCreate:function(){this.inherited(arguments);var b=
this;this.own(k(this,"span.arrow:mousedown",function(a){a.preventDefault()}),k(this,"span.arrow:click",function(a){a.preventDefault();a=a.target.classList.contains("arrow-left")?-b.increment:b.increment;b.incrementDate(a)}),this._targetDateMenu.watch("value",function(a,c,d){this._ignoreNextChange?this._ignoreNextChange=!1:b._dateChanged(d,c)&&b.set("targetDate",d)}));var a=this.targetDate;a&&this._targetDateMenu.set("value",a)},_dateChanged:function(b,a){return!b||!a||0!==m.compare(b,a,"date")},_copyDate:function(b){if(b)return new Date(b.getFullYear(),
b.getMonth(),b.getDate())},incrementDate:function(b){var a=this.get("targetDate");b=m.add(a,"day",b);-1===m.compare(b,this.minDate,"date")?b=this.minDate:1===m.compare(b,this.maxDate,"date")&&(b=this.maxDate);this.set("targetDate",b)},_setTargetDateAttr:function(b){this._set("targetDate",b);this._targetDateMenu._ignoreNextChange=!0;this._targetDateMenu.set("value",b)},_setMinDateAttr:function(b){b=b>e?b:e;this._set("minDate",this._copyDate(b));this._targetDateMenu.refreshDisabledDates()},_setMaxDateAttr:function(b){this._set("maxDate",
this._copyDate(b));this._targetDateMenu.refreshDisabledDates()}})})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(l,m,g){return m("dojox.charting.Series",g,{constructor:function(g,f,d){l.mixin(this,d);"string"!=typeof this.plot&&(this.plot="default");this.update(f)},clear:function(){this.dyn={}},update:function(g){l.isArray(g)?this.data=g:(this.source=g,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));
this.dirty=!0;this.clear()}})})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q){function n(a,b){return g.doc.createElementNS?g.doc.createElementNS(a,b):g.doc.createElement(b)}function v(a){return r.useSvgWeb?g.doc.createTextNode(a,!0):g.doc.createTextNode(a)}var r=a.svg={};r.useSvgWeb="undefined"!=
typeof window.svgweb;var t=navigator.userAgent,s=m("ios"),p=m("android"),D=m("chrome")||p&&4<=p?"auto":"optimizeLegibility";r.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};r.getRef=function(a){return!a||"none"==a?null:a.match(/^url\(#.+\)$/)?k.byId(a.slice(5,-1)):a.match(/^#dojoUnique\d+$/)?k.byId(a.slice(1)):null};r.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,
3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var A=0;r.Shape=f("dojox.gfx.svg.Shape",h.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=r.getRef(a))&&a.parentNode.removeChild(a)}if(this.clip&&(a=this.rawNode.getAttribute("clip-path")))(a=k.byId(a.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);h.Shape.prototype.destroy.apply(this,arguments)},setFill:function(b){if(!b)return this.fillStyle=null,this.rawNode.setAttribute("fill",
"none"),this.rawNode.setAttribute("fill-opacity",0),this;var c,h=function(a){this.setAttribute(a,c[a].toFixed(8))};if("object"==typeof b&&"type"in b){switch(b.type){case "linear":c=a.makeParameters(a.defaultLinearGradient,b);b=this._setFillObject(c,"linearGradient");d.forEach(["x1","y1","x2","y2"],h,b);break;case "radial":c=a.makeParameters(a.defaultRadialGradient,b);b=this._setFillObject(c,"radialGradient");d.forEach(["cx","cy","r"],h,b);break;case "pattern":c=a.makeParameters(a.defaultPattern,b),
b=this._setFillObject(c,"pattern"),d.forEach(["x","y","width","height"],h,b)}this.fillStyle=c;return this}this.fillStyle=c=a.normalizeColor(b);this.rawNode.setAttribute("fill",c.toCss());this.rawNode.setAttribute("fill-opacity",c.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(c){var h=this.rawNode;if(!c)return this.strokeStyle=null,h.setAttribute("stroke","none"),h.setAttribute("stroke-opacity",0),this;if("string"==typeof c||l.isArray(c)||c instanceof b)c={color:c};
c=this.strokeStyle=a.makeParameters(a.defaultStroke,c);c.color=a.normalizeColor(c.color);if(c){h.setAttribute("stroke",c.color.toCss());h.setAttribute("stroke-opacity",c.color.a);h.setAttribute("stroke-width",c.width);h.setAttribute("stroke-linecap",c.cap);"number"==typeof c.join?(h.setAttribute("stroke-linejoin","miter"),h.setAttribute("stroke-miterlimit",c.join)):h.setAttribute("stroke-linejoin",c.join);var d=c.style.toLowerCase();d in r.dasharray&&(d=r.dasharray[d]);if(d instanceof Array){var d=
l._toArray(d),e;for(e=0;e<d.length;++e)d[e]*=c.width;if("butt"!=c.cap){for(e=0;e<d.length;e+=2)d[e]-=c.width,1>d[e]&&(d[e]=1);for(e=1;e<d.length;e+=2)d[e]+=c.width}d=d.join(",")}h.setAttribute("stroke-dasharray",d);h.setAttribute("dojoGfxStrokeStyle",c.style)}return this},_getParentSurface:function(){for(var b=this.parent;b&&!(b instanceof a.Surface);b=b.parent);return b},_setFillObject:function(b,c){var h=r.xmlns.svg;this.fillStyle=b;var d=this._getParentSurface().defNode,e=this.rawNode.getAttribute("fill");
if(e=r.getRef(e))if(e.tagName.toLowerCase()!=c.toLowerCase()){var f=e.id;e.parentNode.removeChild(e);e=n(h,c);e.setAttribute("id",f);d.appendChild(e)}else for(;e.childNodes.length;)e.removeChild(e.lastChild);else e=n(h,c),e.setAttribute("id",a._base._getUniqueId()),d.appendChild(e);if("pattern"==c)e.setAttribute("patternUnits","userSpaceOnUse"),h=n(h,"image"),h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("width",b.width.toFixed(8)),h.setAttribute("height",b.height.toFixed(8)),h.setAttributeNS?
h.setAttributeNS(r.xmlns.xlink,"xlink:href",b.src):h.setAttribute("xlink:href",b.src),e.appendChild(h);else{e.setAttribute("gradientUnits","userSpaceOnUse");for(d=0;d<b.colors.length;++d){var f=b.colors[d],q=n(h,"stop"),g=f.color=a.normalizeColor(f.color);q.setAttribute("offset",f.offset.toFixed(8));q.setAttribute("stop-color",g.toCss());q.setAttribute("stop-opacity",g.a);e.appendChild(q)}}this.rawNode.setAttribute("fill","url(#"+e.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");
this.rawNode.setAttribute("fill-rule","evenodd");return e},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;"image"!=this.shape.type&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",0);a.setAttribute("stroke",
"none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this},setShape:function(b){this.shape=a.makeParameters(this.shape,b);for(var c in this.shape)"type"!=c&&this.rawNode.setAttribute(c,this.shape[c]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;"polyline"===b&&(a=l.clone(a),a.points=a.points.join(","));var h,d=c.get(this.rawNode,"clip-path");d&&(h=k.byId(d.match(/gfx_clip[\d]+/)[0]))&&h.removeChild(h.childNodes[0]);a?(h?(b=n(r.xmlns.svg,b),h.appendChild(b)):(d="gfx_clip"+ ++A,this.rawNode.setAttribute("clip-path","url(#"+d+")"),h=
n(r.xmlns.svg,"clipPath"),b=n(r.xmlns.svg,b),h.appendChild(b),this.rawNode.parentNode.appendChild(h),c.set(h,"id",d)),c.set(b,a)):(this.rawNode.removeAttribute("clip-path"),h&&h.parentNode.removeChild(h));return this},_removeClipNode:function(){var a,b=c.get(this.rawNode,"clip-path");b&&(a=k.byId(b.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);return a}});r.Group=f("dojox.gfx.svg.Group",r.Shape,{constructor:function(){h.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;
this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);r.Shape.prototype.destroy.apply(this,arguments)}});r.Group.nodeType="g";r.Rect=f("dojox.gfx.svg.Rect",[r.Shape,h.Rect],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;for(var c in this.shape)"type"!=c&&"r"!=c&&this.rawNode.setAttribute(c,this.shape[c]);null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});r.Rect.nodeType="rect";
r.Ellipse=f("dojox.gfx.svg.Ellipse",[r.Shape,h.Ellipse],{});r.Ellipse.nodeType="ellipse";r.Circle=f("dojox.gfx.svg.Circle",[r.Shape,h.Circle],{});r.Circle.nodeType="circle";r.Line=f("dojox.gfx.svg.Line",[r.Shape,h.Line],{});r.Line.nodeType="line";r.Polyline=f("dojox.gfx.svg.Polyline",[r.Shape,h.Polyline],{setShape:function(b,c){b&&b instanceof Array?(this.shape=a.makeParameters(this.shape,{points:b}),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,
b);this.bbox=null;this._normalizePoints();for(var h=[],d=this.shape.points,e=0;e<d.length;++e)h.push(d[e].x.toFixed(8),d[e].y.toFixed(8));this.rawNode.setAttribute("points",h.join(" "));return this}});r.Polyline.nodeType="polyline";r.Image=f("dojox.gfx.svg.Image",[r.Shape,h.Image],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;for(var c in this.shape)"type"!=c&&"src"!=c&&b.setAttribute(c,this.shape[c]);b.setAttribute("preserveAspectRatio","none");b.setAttributeNS?
b.setAttributeNS(r.xmlns.xlink,"xlink:href",this.shape.src):b.setAttribute("xlink:href",this.shape.src);b.__gfxObject__=this;return this}});r.Image.nodeType="image";r.Text=f("dojox.gfx.svg.Text",[r.Shape,h.Text],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;var c=this.shape;b.setAttribute("x",c.x);b.setAttribute("y",c.y);b.setAttribute("text-anchor",c.align);b.setAttribute("text-decoration",c.decoration);b.setAttribute("rotate",c.rotated?90:0);b.setAttribute("kerning",
c.kerning?"auto":0);b.setAttribute("text-rendering",D);b.firstChild?b.firstChild.nodeValue=c.text:b.appendChild(v(c.text));return this},getTextWidth:function(){var a=this.rawNode,b=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var c=0,h=a.firstChild.nodeValue;b.appendChild(a);if(""!=h)for(;!c;)c=a.getBBox?parseInt(a.getBBox().width):68;b.removeChild(a);return c},getBoundingBox:function(){var a=null;if(this.getShape().text)try{a=this.rawNode.getBBox()}catch(b){a={x:0,y:0,width:0,height:0}}return a}});
r.Text.nodeType="text";r.Path=f("dojox.gfx.svg.Path",[r.Shape,q.Path],{_updateWithSegment:function(a){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(a){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});r.Path.nodeType="path";r.TextPath=f("dojox.gfx.svg.TextPath",[r.Shape,q.TextPath],{_updateWithSegment:function(a){this.inherited(arguments);
this._setTextPath()},setShape:function(a){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var b=this.rawNode;if(!b.firstChild){var c=n(r.xmlns.svg,"textPath"),h=v("");c.appendChild(h);b.appendChild(c)}c=(c=b.firstChild.getAttributeNS(r.xmlns.xlink,"href"))&&r.getRef(c);if(!c&&(h=this._getParentSurface())){var h=h.defNode,c=n(r.xmlns.svg,"path"),d=a._base._getUniqueId();c.setAttribute("id",d);h.appendChild(c);b.firstChild.setAttributeNS?
b.firstChild.setAttributeNS(r.xmlns.xlink,"xlink:href","#"+d):b.firstChild.setAttribute("xlink:href","#"+d)}c&&c.setAttribute("d",this.shape.path)}},_setText:function(){var a=this.rawNode;if(!a.firstChild){var b=n(r.xmlns.svg,"textPath"),c=v("");b.appendChild(c);a.appendChild(b)}a=a.firstChild;b=this.text;a.setAttribute("alignment-baseline","middle");switch(b.align){case "middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case "end":a.setAttribute("text-anchor",
"end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor","start"),a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift","0.5ex");a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.firstChild.data=b.text}});r.TextPath.nodeType="text";var w=534<function(){var a=/WebKit\/(\d*)/.exec(t);return a?a[1]:0}();r.Surface=f("dojox.gfx.svg.Surface",h.Surface,{constructor:function(){h.Container._init.call(this)},
destroy:function(){h.Container.clear.call(this,!0);this.defNode=null;this.inherited(arguments)},setDimensions:function(a,b){if(!this.rawNode)return this;this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",b);w&&(this.rawNode.style.width=a,this.rawNode.style.height=b);return this},getDimensions:function(){return this.rawNode?{width:a.normalizedLength(this.rawNode.getAttribute("width")),height:a.normalizedLength(this.rawNode.getAttribute("height"))}:null}});r.createSurface=function(b,
c,h){var d=new r.Surface;d.rawNode=n(r.xmlns.svg,"svg");d.rawNode.setAttribute("overflow","hidden");c&&d.rawNode.setAttribute("width",c);h&&d.rawNode.setAttribute("height",h);c=n(r.xmlns.svg,"defs");d.rawNode.appendChild(c);d.defNode=c;d._parent=k.byId(b);d._parent.appendChild(d.rawNode);a._base._fixMsTouchAction(d);return d};m={_setFont:function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",
a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}};var C=h.Container;f={openBatch:function(){if(!this._batch){var a;a=r.useSvgWeb?g.doc.createDocumentFragment(!0):g.doc.createDocumentFragment();this.fragment=a}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(a){this!=a.getParent()&&(this.fragment?
this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode),C.add.apply(this,arguments),a.setClip(a.clip));return this},remove:function(a,b){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),this.fragment&&this.fragment==a.rawNode.parentNode&&this.fragment.removeChild(a.rawNode),a._removeClipNode(),C.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var b=this.defNode;
if(b){for(;b.lastChild;)b.removeChild(b.lastChild);a.appendChild(b)}return C.clear.apply(this,arguments)},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};q={createObject:function(a,b){if(!this.rawNode)return null;var c=new a,h=n(r.xmlns.svg,a.nodeType);c.setRawNode(h);c.setShape(b);this.add(c);return c}};l.extend(r.Text,m);l.extend(r.TextPath,m);l.extend(r.Group,f);l.extend(r.Group,h.Creator);l.extend(r.Group,q);l.extend(r.Surface,f);l.extend(r.Surface,
h.Creator);l.extend(r.Surface,q);r.fixTarget=function(a,b){a.gfxTarget||(a.gfxTarget=s&&a.target.wholeText?a.target.parentElement.__gfxObject__:a.target.__gfxObject__);return!0};r.useSvgWeb&&(r.createSurface=function(b,c,h){var d=new r.Surface;if(!c||!h){var f=e.position(b);c=c||f.w;h=h||f.h}b=k.byId(b);var f=b.id?b.id+"_svgweb":a._base._getUniqueId(),q=n(r.xmlns.svg,"svg");q.id=f;q.setAttribute("width",c);q.setAttribute("height",h);svgweb.appendChild(q,b);q.addEventListener("SVGLoad",function(){d.rawNode=
this;d.isLoaded=!0;var a=n(r.xmlns.svg,"defs");d.rawNode.appendChild(a);d.defNode=a;if(d.onLoad)d.onLoad(d)},!1);d.isLoaded=!1;return d},r.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,a.parentNode)}}),m={connect:function(a,b,c){"on"===a.substring(0,2)&&(a=a.substring(2));c=2==arguments.length?b:l.hitch(b,c);this.getEventSource().addEventListener(a,c,!1);return[this,a,c]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],!1);delete a[0]}},l.extend(r.Shape,
m),l.extend(r.Surface,m));return r})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(l,m,g,k){return l("dijit.form.ToggleButton",[g,k],{baseClass:"dijitToggleButton",setChecked:function(f){m.deprecated("setChecked("+f+") is deprecated. Use set('checked',"+f+") instead.","","2.0");this.set("checked",f)}})})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),
function(l,m,g,k,f,d,e,c,b){var a=m.getObject("dojox.gfx",!0),h=a._base={};a._hasClass=function(a,b){var c=a.getAttribute("className");return c&&0<=(" "+c+" ").indexOf(" "+b+" ")};a._addClass=function(a,b){var c=a.getAttribute("className")||"";if(!c||0>(" "+c+" ").indexOf(" "+b+" "))a.setAttribute("className",c+(c?" ":"")+b)};a._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};h._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b,h;k("ie")&&(h=f.doc.documentElement.style.fontSize||"",h||(f.doc.documentElement.style.fontSize="100%"));var d=c.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},f.body());for(b in a)d.style.fontSize=b,a[b]=16*Math.round(12*d.offsetHeight/16)/12/1E3;
k("ie")&&(f.doc.documentElement.style.fontSize=h);f.body().removeChild(d);return a};var q=null;h._getCachedFontMeasurements=function(a){if(a||!q)q=h._getFontMeasurements();return q};var n=null,v={};h._getTextBox=function(a,h,d){var e,q,g=arguments.length,r;n||(n=c.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},f.body()));e=n;e.className="";q=e.style;q.borderWidth="0";q.margin="0";q.padding="0";q.outline="0";if(1<g&&h)for(r in h)r in v||(q[r]=h[r]);2<g&&d&&(e.className=
d);e.innerHTML=a;e.getBoundingClientRect?(q=e.getBoundingClientRect(),q={l:q.left,t:q.top,w:q.width||q.right-q.left,h:q.height||q.bottom-q.top}):q=b.getMarginBox(e);e.innerHTML="";return q};h._computeTextLocation=function(a,b,c,h){var d={};switch(a.align){case "end":d.x=a.x-b;break;case "middle":d.x=a.x-b/2;break;default:d.x=a.x}d.y=a.y-c*(h?0.75:1);return d};h._computeTextBoundingBox=function(b){if(!a._base._isRendered(b))return{x:0,y:0,width:0,height:0};var c;c=b.getShape();var d=b.getFont()||a.defaultFont;
b=b.getTextWidth();d=a.normalizedLength(d.size);c=h._computeTextLocation(c,b,d,!0);return{x:c.x,y:c.y,width:b,height:d}};h._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==a};var r=0;h._getUniqueId=function(){var a;do a=l._scopeName+"xUnique"+ ++r;while(e.byId(a));return a};h._fixMsTouchAction=function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};m.mixin(a,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",
points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",
color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var b={};return function(c){var h=
b[c];if(h)return new h;h=b[c]=new Function;h.prototype=a["default"+c];return new h}}(),normalizeColor:function(a){return a instanceof g?a:new g(a)},normalizeParameters:function(a,b){var c;if(b){var h={};for(c in a)c in b&&!(c in h)&&(a[c]=b[c])}return a},makeParameters:function(a,b){var c=null;if(!b)return m.delegate(a);var h={};for(c in a)c in h||(h[c]=m.clone(c in b?b[c]:a[c]));return h},formatNumber:function(a,b){var c=a.toString();if(0<=c.indexOf("e"))c=a.toFixed(4);else{var h=c.indexOf(".");
0<=h&&5<c.length-h&&(c=a.toFixed(4))}return 0>a?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(b){var c=a.getDefault("Font");b=b.split(/\s+/);if(!(5>b.length)){c.style=b[0];c.variant=b[1];c.weight=b[2];var h=b[3].indexOf("/");c.size=0>h?b[3]:b[3].substring(0,h);var d=4;0>h&&("/"==b[4]?d=6:"/"==b[4].charAt(0)&&(d=5));d<b.length&&(c.family=b.slice(d).join(" "))}return c},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/
12},pt2px:function(b){return b*a.px_in_pt()},px2pt:function(b){return b/a.px_in_pt()},normalizedLength:function(b){if(0===b.length)return 0;if(2<b.length){var c=a.px_in_pt(),h=parseFloat(b);switch(b.slice(-2)){case "px":return h;case "pt":return h*c;case "in":return 72*h*c;case "pc":return 12*h*c;case "mm":return h*a.mm_in_pt*c;case "cm":return h*a.cm_in_pt*c}}return parseFloat(b)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,
equalSources:function(a,b){return a&&b&&a===b},switchTo:function(b){var c="string"==typeof b?a[b]:b;c&&(d.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),function(b){a[b]=c[b]}),"string"==typeof b?a.renderer=b:d.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(b){return a.renderer=a[b]&&a[b].Surface===a.Surface?b:null}))}});return a})},"dojox/charting/Theme":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/Color ./SimpleTheme dojox/color/_base dojox/color/Palette dojox/gfx/gradutils".split(" "),
function(l,m,g,k,f,d){var e=m("dojox.charting.Theme",k,{});l.mixin(e,{defineColors:function(c){c=c||{};var b,a=[],h=c.num||5;if(c.colors){b=c.colors.length;for(var e=0;e<h;e++)a.push(c.colors[e%b]);return a}return c.hue?(a=c.saturation||100,b=((c.high||90)+(c.low||30))/2,d.generate(f.fromHsv(c.hue,a,b),"monochromatic").colors):c.generator?f.Palette.generate(c.base,c.generator).colors:a},generateGradient:function(c,b,a){c=l.delegate(c);c.colors=[{offset:0,color:b},{offset:1,color:a}];return c},generateHslColor:function(c,
b){c=new g(c);var a=c.toHsl(),a=f.fromHsl(a.h,a.s,b);a.a=c.a;return a},generateHslGradient:function(c,b,a,h){c=new g(c);var d=c.toHsl();a=f.fromHsl(d.h,d.s,a);h=f.fromHsl(d.h,d.s,h);a.a=h.a=c.a;return e.generateGradient(b,a,h)}});e.defaultMarkers=k.defaultMarkers;e.defaultColors=k.defaultColors;e.defaultTheme=k.defaultTheme;return e})},"dojox/charting/plot2d/Indicator":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare ./CartesianBase ./_PlotEvents ./common ../axis2d/common dojox/gfx dojox/lang/utils dojox/gfx/fx dojo/has".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h){var q=function(a,b){var h=a.declaredClass,d;if(-1!=h.indexOf("svg"))try{return l.mixin({},a.rawNode.getBBox())}catch(e){}else{if(-1!=h.indexOf("vml")){var f=a.rawNode,q=f.style.display;f.style.display="inline";h=c.pt2px(parseFloat(f.currentStyle.width));d=c.pt2px(parseFloat(f.currentStyle.height));h={x:0,y:0,width:h,height:d};n(a,h);f.style.display=q;return h}if(-1!=h.indexOf("silverlight"))return n(a,{width:a.rawNode.actualWidth,height:a.rawNode.actualHeight},0.75);
if(a.getTextWidth)return h=a.getTextWidth(),f=a.getFont(),d=c.normalizedLength(f?f.size:c.defaultFont.size),h={width:h,height:d},n(a,h,0.75),h}return null},n=function(a,b,c){var h=b.width,d=b.height;a=a.getShape();switch(a.align){case "end":b.x=a.x-h;break;case "middle":b.x=a.x-h/2;break;default:b.x=a.x}b.y=a.y-d*(c||1);return b};g=g("dojox.charting.plot2d.Indicator",[k,f],{defaultParams:{vertical:!0,fixed:!0,precision:0,lines:!0,labels:"line",markers:!0},optionalParams:{lineStroke:{},outlineStroke:{},
shadowStroke:{},lineFill:{},stroke:{},outline:{},shadow:{},fill:{},fillFunc:null,labelFunc:null,font:"",fontColor:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerSymbol:"",values:[],offset:{},start:!1,animate:!1},constructor:function(a,c){this.opt=l.clone(this.defaultParams);b.updateWithObject(this.opt,c);"number"==typeof c.values&&(c.values=[c.values]);b.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate},render:function(a,b){if(this.zoom)return this.performZoom(a,
b);if(!this.isDirty())return this;this.cleanGroup(null,!0);if(!this.opt.values)return this;this._updateIndicator();return this},_updateIndicator:function(){var a=this.chart.theme,b=this._hAxis.name,c=this._vAxis.name,h=this._hAxis.getScaler().bounds,e=this._vAxis.getScaler().bounds,f={};f[b]=h.from;f[c]=e.from;var q=this.toPage(f);f[b]=h.to;f[c]=e.to;var n=this.toPage(f),g=this.events(),h=m.map(this.opt.values,function(a,h){return this._renderIndicator(a,h,b,c,q,n,g,this.animate)},this),e=h.length;
if("trend"==this.opt.labels){var f=this.opt.vertical,k=this._data[0][0],l=this._data[e-1][0]-k,k=this.opt.labelFunc?this.opt.labelFunc(-1,this.values,this._data,this.opt.fixed,this.opt.precision):d.getLabel(l,this.opt.fixed,this.opt.precision)+" ("+d.getLabel(100*l/k,!0,2)+"%)";this._renderText(this.getGroup(),k,this.chart.theme,f?(h[0].x+h[e-1].x)/2:h[1].x,f?h[0].y:(h[1].y+h[e-1].y)/2,-1,this.opt.values,this._data)}if((a=void 0!=this.opt.lineFill?this.opt.lineFill:a.indicator.lineFill)&&1<e)f=Math.min(h[0].x1,
h[e-1].x1),k=Math.min(h[0].y1,h[e-1].y1),this.getGroup().createRect({x:f,y:k,width:Math.max(h[0].x2,h[e-1].x2)-f,height:Math.max(h[0].y2,h[e-1].y2)-k}).setFill(a).moveToBack()},_renderIndicator:function(a,b,c,e,f,q,n,g){var k=this.chart.theme,z=this.chart.getCoords(),u=this.opt.vertical,G=this.getGroup().createGroup(),x={};x[c]=u?a:0;x[e]=u?0:a;h("dojo-bidi")&&(x.x=this._getMarkX(x.x));var x=this.toPage(x),B=u?x.x>=f.x&&x.x<=q.x:x.y>=q.y&&x.y<=f.y,K=x.x-z.x,y=x.y-z.y,E=u?K:f.x-z.x,F=u?f.y-z.y:y,H=
u?E:q.x-z.x,I=u?q.y-z.y:F;if(this.opt.lines&&B){var J=this.opt.hasOwnProperty("lineShadow")?this.opt.lineShadow:k.indicator.lineShadow,M=this.opt.hasOwnProperty("lineStroke")?this.opt.lineStroke:k.indicator.lineStroke,L=this.opt.hasOwnProperty("lineOutline")?this.opt.lineOutline:k.indicator.lineOutline;J&&G.createLine({x1:E+J.dx,y1:F+J.dy,x2:H+J.dx,y2:I+J.dy}).setStroke(J);L&&(L=d.makeStroke(L),L.width=2*L.width+(M?M.width:0),G.createLine({x1:E,y1:F,x2:H,y2:I}).setStroke(L));G.createLine({x1:E,y1:F,
x2:H,y2:I}).setStroke(M)}var N;if(this.opt.markers&&B){var O=this._data[b],Q=this;O&&(N=m.map(O,function(b,n){x[c]=u?a:b;x[e]=u?b:a;h("dojo-bidi")&&(x.x=Q._getMarkX(x.x));x=this.toPage(x);if(u?x.y<=f.y&&x.y>=q.y:x.x>=f.x&&x.x<=q.x){K=x.x-z.x;y=x.y-z.y;var g=this.opt.markerSymbol?this.opt.markerSymbol:k.indicator.markerSymbol,r="M"+K+" "+y+" "+g;J=void 0!=this.opt.markerShadow?this.opt.markerShadow:k.indicator.markerShadow;M=void 0!=this.opt.markerStroke?this.opt.markerStroke:k.indicator.markerStroke;
L=void 0!=this.opt.markerOutline?this.opt.markerOutline:k.indicator.markerOutline;J&&G.createPath("M"+(K+J.dx)+" "+(y+J.dy)+" "+g).setFill(J.color).setStroke(J);L&&(L=d.makeStroke(L),L.width=2*L.width+(M?M.width:0),G.createPath(r).setStroke(L));g=G.createPath(r);r=this._shapeFill(void 0!=this.opt.markerFill?this.opt.markerFill:k.indicator.markerFill,g.getBoundingBox());g.setFill(r).setStroke(M)}return b},this))}O=this.opt.start?{x:E,y:u?F:I}:{x:u?E:H,y:u?I:F};this.opt.labels&&("trend"!=this.opt.labels&&
B)&&(this.opt.labelFunc?B=this.opt.labelFunc(b,this.opt.values,this._data,this.opt.fixed,this.opt.precision,this.opt.labels):"markers"==this.opt.labels?(B=m.map(N,function(a){return d.getLabel(a,this.opt.fixed,this.opt.precision)},this),B=1!=B.length?"[ "+B.join(", ")+" ]":B[0]):B=d.getLabel(a,this.opt.fixed,this.opt.precision),this._renderText(G,B,k,O.x,O.y,b,this.opt.values,this._data));n&&this._connectEvents({element:"indicator",run:this.run?this.run[b]:void 0,shape:G,value:a});g&&this._animateIndicator(G,
u,u?F:E,u?F+I:E+H,g);return l.mixin(O,{x1:E,y1:F,x2:H,y2:I})},_animateIndicator:function(b,c,h,d,e){a.animateTransform(l.delegate({shape:b,duration:1200,transform:[{name:"translate",start:c?[0,h]:[h,0],end:[0,0]},{name:"scale",start:c?[1,1/d]:[1/d,1],end:[1,1]},{name:"original"}]},e)).play()},clear:function(){this.inherited(arguments);this._data=[]},addSeries:function(a){this.inherited(arguments);this._data.push(a.data)},_renderText:function(a,b,c,h,f,n,g,k){this.opt.offset&&(h+=this.opt.offset.x,
f+=this.opt.offset.y);b=e.createText.gfx(this.chart,a,h,f,"middle",b,this.opt.font?this.opt.font:c.indicator.font,this.opt.fontColor?this.opt.fontColor:c.indicator.fontColor);h=q(b,b.getShape().text);h.x-=2;h.y-=1;h.width+=4;h.height+=2;h.r=this.opt.radius?this.opt.radius:c.indicator.radius;var l=void 0!=this.opt.shadow?this.opt.shadow:c.indicator.shadow;f=void 0!=this.opt.stroke?this.opt.stroke:c.indicator.stroke;var m=void 0!=this.opt.outline?this.opt.outline:c.indicator.outline;l&&a.createRect(h).setFill(l.color).setStroke(l);
m&&(m=d.makeStroke(m),m.width=2*m.width+(f?f.width:0),a.createRect(h).setStroke(m));c=this.opt.fillFunc?this.opt.fillFunc(n,g,k):void 0!=this.opt.fill?this.opt.fill:c.indicator.fill;a.createRect(h).setFill(this._shapeFill(c,h)).setStroke(f);b.moveToFront()},getSeriesStats:function(){return l.delegate(d.defaultStats)}});h("dojo-bidi")&&g.extend({_getMarkX:function(a){return this.chart.isRightToLeft()?this.chart.axes.x.scaler.bounds.to+this.chart.axes.x.scaler.bounds.from-a:a}});return g})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang",
"dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(l,m,g,k,f){return m("dojox.charting.axis2d.Invisible",g,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(d,e){this.opt=l.clone(this.defaultParams);f.updateWithObject(this.opt,e);f.updateWithPattern(this.opt,e,this.optionalParams)},dependOnData:function(){return!("min"in
this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},setWindow:function(d,e){this.scale=d;this.offset=e;return this.clear()},getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?this.offset:0},calculate:function(d,e,c){if(this.initialized())return this;var b=this.opt;this.labels=b.labels;this.scaler=k.buildScaler(d,
e,c,b);var a=this.scaler.bounds;"scale"in this&&(b.from=a.lower+this.offset,b.to=(a.upper-a.lower)/this.scale+b.from,!isFinite(b.from)||isNaN(b.from)||!isFinite(b.to)||isNaN(b.to)||b.to-b.from>=a.upper-a.lower?(delete b.from,delete b.to,delete this.scale,delete this.offset):(b.from<a.lower?(b.to+=a.lower-b.from,b.from=a.lower):b.to>a.upper&&(b.from+=a.upper-b.to,b.to=a.upper),this.offset=b.from-a.lower),this.scaler=k.buildScaler(d,e,c,b),1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));
return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(l,m,g,k){return l("dijit.form.MappedTextBox",k,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(f){return f.toString?f.toString():""},toString:function(){var f=this.filter(this.get("value"));return null!=
f?"string"==typeof f?f:this.serialize(f,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=g.place("\x3cinput type\x3d'hidden'"+(this.name&&!m("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(l,m,g,k,f,d,e,c){var b=m("dijit.form._TextBoxMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&
this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},
_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(e(this.textbox,"keydown, keypress, paste, cut, input, compositionend",d.hitch(this,
function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case f.SHIFT:case f.ALT:case f.CTRL:case f.META:case f.CAPS_LOCK:case f.NUM_LOCK:case f.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case f.NUMPAD_0:case f.NUMPAD_1:case f.NUMPAD_2:case f.NUMPAD_3:case f.NUMPAD_4:case f.NUMPAD_5:case f.NUMPAD_6:case f.NUMPAD_7:case f.NUMPAD_8:case f.NUMPAD_9:case f.NUMPAD_MULTIPLY:case f.NUMPAD_PLUS:case f.NUMPAD_ENTER:case f.NUMPAD_MINUS:case f.NUMPAD_PERIOD:case f.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==f.SPACE)return;b=!1;for(var c in f)if(f[c]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==f.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var e={faux:!0},g;for(g in a)/^(layer[XY]|returnValue|keyLocation)$/.test(g)||(c=a[g],"function"!=typeof c&&"undefined"!=typeof c&&(e[g]=c));d.mixin(e,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(e)&&(e.preventDefault(),e.stopPropagation());e._wasConsumed||this.defer(function(){this._onInput(e)})})),e(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=d.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=e.once(this.domNode,"mouseup, touchend",d.hitch(this,function(a){this._isTextSelected()||b.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});k("dojo-bidi")&&(b=m("dijit.form._TextBoxMixin",b,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));b._setSelectionRange=c._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};b.selectInputText=c.selectInputText=function(a,c,
d){a=g.byId(a);isNaN(c)&&(c=0);isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),b._setSelectionRange(a,c,d)}catch(e){}};return b})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(l,m,g,k){return l("dijit.form.SimpleTextarea",k,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);g("ie")&&this.cols&&m.add(this.textbox,"dijitTextAreaCols")},filter:function(f){f&&(f=f.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(f){if(this.maxLength){var d=parseInt(this.maxLength),e=this.textbox.value.replace(/\r/g,""),d=e.length-d;if(0<d){var c=this.textbox;if(c.selectionStart){var b=c.selectionStart,
a=0;g("opera")&&(a=(this.textbox.value.substring(0,b).match(/\r/g)||[]).length);this.textbox.value=e.substring(0,b-d-a)+e.substring(b-a);c.setSelectionRange(b-d,b-d)}else this.ownerDocument.selection&&(c.focus(),e=this.ownerDocument.selection.createRange(),e.moveStart("character",-d),e.text="",e.select())}}this.inherited(arguments)}})})},"common/widgets/Legend":function(){define(["dijit/_WidgetBase","dojo/dom-construct"],function(l,m){return l.createSubclass([],{baseClass:"legend",labels:null,_render:function(){this.domNode.innerHTML=
"";for(var g,k=0,f=this.labels.length;k<f;k++){g=this.labels[k];var d=m.create("span",{className:"legend-item legend-"+g.replace(" ","-").toLowerCase()},this.domNode);m.place('\x3cdiv class\x3d"legend-swatch"\x3e\x3c/div\x3e',d);m.place("\x3clabel\x3e"+g+"\x3c/label\x3e",d)}},_setLabelsAttr:function(g){this.labels=g;this._render()}})})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(l,
m,g,k,f,d){var e=l.getObject("dojox.charting.plot2d.common",!0);return l.mixin(e,{doIfLoaded:d.doIfLoaded,makeStroke:function(c){if(!c)return c;if("string"==typeof c||c instanceof g)c={color:c};return k.makeParameters(k.defaultStroke,c)},augmentColor:function(c,b){var a=new g(c),h=new g(b);h.a=a.a;return h},augmentStroke:function(c,b){var a=e.makeStroke(c);a&&(a.color=e.augmentColor(a.color,b));return a},augmentFill:function(c,b){new g(b);return"string"==typeof c||c instanceof g?e.augmentColor(c,
b):c},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(c){for(var b=l.delegate(e.defaultStats),a=0;a<c.length;++a)for(var h=c[a],d=0;d<h.data.length;d++)if(null!==h.data[d]){if("number"==typeof h.data[d]){var d=b.vmin,f=b.vmax;(!("ymin"in h)||!("ymax"in h))&&m.forEach(h.data,function(a,c){if(null!==a){var h=c+1,d=a;isNaN(d)&&(d=0);b.hmin=Math.min(b.hmin,h);b.hmax=Math.max(b.hmax,h);b.vmin=
Math.min(b.vmin,d);b.vmax=Math.max(b.vmax,d)}})}else{var g=b.hmin,r=b.hmax,d=b.vmin,f=b.vmax;(!("xmin"in h)||!("xmax"in h)||!("ymin"in h)||!("ymax"in h))&&m.forEach(h.data,function(a,c){if(null!==a){var h="x"in a?a.x:c+1,d=a.y;isNaN(h)&&(h=0);isNaN(d)&&(d=0);b.hmin=Math.min(b.hmin,h);b.hmax=Math.max(b.hmax,h);b.vmin=Math.min(b.vmin,d);b.vmax=Math.max(b.vmax,d)}});"xmin"in h&&(b.hmin=Math.min(g,h.xmin));"xmax"in h&&(b.hmax=Math.max(r,h.xmax))}"ymin"in h&&(b.vmin=Math.min(d,h.ymin));"ymax"in h&&(b.vmax=
Math.max(f,h.ymax));break}return b},calculateBarSize:function(c,b,a){a||(a=1);var h=b.gap,h=(c-2*h)/a;"minBarSize"in b&&(h=Math.max(h,b.minBarSize));"maxBarSize"in b&&(h=Math.min(h,b.maxBarSize));h=Math.max(h,1);return{size:h,gap:(c-h*a)/2}},collectStackedStats:function(c){var b=l.clone(e.defaultStats);if(c.length){b.hmin=Math.min(b.hmin,1);b.hmax=f.foldl(c,"seed, run -\x3e Math.max(seed, run.data.length)",b.hmax);for(var a=0;a<b.hmax;++a){var h=c[0].data[a],h=h&&("number"==typeof h?h:h.y);isNaN(h)&&
(h=0);b.vmin=Math.min(b.vmin,h);for(var d=1;d<c.length;++d){var n=c[d].data[a],n=n&&("number"==typeof n?n:n.y);isNaN(n)&&(n=0);h+=n}b.vmax=Math.max(b.vmax,h)}}return b},curve:function(c,b){var a=c.slice(0);"x"==b&&(a[a.length]=a[0]);return m.map(a,function(c,d){if(0==d)return"M"+c.x+","+c.y;if(isNaN(b)){if("X"==b||"x"==b||"S"==b){var e,f=a[d-1],g=a[d],k,s,p,l=1/6;1==d?(e="x"==b?a[a.length-2]:f,l=1/3):e=a[d-2];d==a.length-1?(k="x"==b?a[1]:g,l=1/3):k=a[d+1];s=Math.sqrt((g.x-f.x)*(g.x-f.x)+(g.y-f.y)*
(g.y-f.y));p=Math.sqrt((g.x-e.x)*(g.x-e.x)+(g.y-e.y)*(g.y-e.y));var A=Math.sqrt((k.x-f.x)*(k.x-f.x)+(k.y-f.y)*(k.y-f.y)),w=p*l,l=A*l;w>s/2&&l>s/2?(w=s/2,l=s/2):w>s/2?(w=s/2,l=s/2*A/p):l>s/2&&(l=s/2,w=s/2*p/A);"S"==b&&(e==f&&(w=0),g==k&&(l=0));s=f.x+w*(g.x-e.x)/p;e=f.y+w*(g.y-e.y)/p;p=g.x-l*(k.x-f.x)/A;f=g.y-l*(k.y-f.y)/A}}else return g=c.x-a[d-1].x,"C"+(c.x-(b-1)*(g/b))+","+a[d-1].y+" "+(c.x-g/b)+","+c.y+" "+c.x+","+c.y;return"C"+(s+","+e+" "+p+","+f+" "+g.x+","+g.y)}).join(" ")},getLabel:function(c,
b,a){return d.doIfLoaded("dojo/number",function(h){return(b?h.format(c,{places:a}):h.format(c))||""},function(){return b?c.toFixed(a):c.toString()})}})})},"common/widgets/form/DropDownMenuButton":function(){define(["dijit/_WidgetBase","dijit/DropDownMenu","dijit/MenuItem","./DropDownButton"],function(l,m,g,k){return k.createSubclass([],{onSelect:function(){},focus:function(){this.domNode.focus()},_setOptionsAttr:function(f){var d=this;this.dropDown&&this.dropDown.destroyRecursive&&this.dropDown.destroyRecursive();
var e=this.dropDown=new m;f.forEach(function(c){e.addChild(new g({"class":c.classes||"",label:c.label,onClick:function(){d.onSelect(c.value);d.emit("menu-click",{detail:{value:c.value}})}}))});this._set("options",f)}})})},"common/widgets/TooltipDialog":function(){define(["dijit/TooltipDialog"],function(l){return l.createSubclass([],{autofocus:!0,"class":"forecast",_onShow:function(){var l=this.inherited(arguments);this.autofocus&&this.focus();return l},onOpen:function(){this.inherited(arguments);
this.set("open",!0)},onClose:function(){this.inherited(arguments);this.set("open",!1)}})})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(l,m,g,k,f,d,e,c,b,a){var h=l.shape={};h.Shape=g("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=
null;if(f("gfxRegistry")){var a=h.register(this);this.getUID=function(){return a}}},destroy:function(){f("gfxRegistry")&&h.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},
getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b)return null;var c=this._getRealMatrix();return[a.multiplyPoint(c,b.x,b.y),a.multiplyPoint(c,b.x+b.width,b.y),a.multiplyPoint(c,b.x+b.width,b.y+b.height),a.multiplyPoint(c,b.x,b.y+b.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=l.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=
null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=l.makeParameters(l.defaultLinearGradient,a);break;case "radial":b=l.makeParameters(l.defaultRadialGradient,a);break;case "pattern":b=l.makeParameters(l.defaultPattern,a)}else b=l.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this;if("string"==typeof a||m.isArray(a)||a instanceof b)a={color:a};a=this.strokeStyle=l.makeParameters(l.defaultStroke,a);a.color=
l.normalizeColor(a.color);return this},setTransform:function(b){this.matrix=a.clone(b?a.normalize(b):a.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,
a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(b){this.parentMatrix=b?a.clone(b):null;return this._applyTransform()},_getRealMatrix:function(){for(var b=this.matrix,c=this.parent;c;)c.matrix&&(b=a.multiply(c.matrix,
b)),c=c.parent;return b}});h._eventsProcessing={on:function(a,b){return d(this.getEventSource(),a,h.fixCallback(this,l.fixTarget,b))},connect:function(a,b,c){"on"==a.substring(0,2)&&(a=a.substring(2));return this.on(a,c?m.hitch(b,c):b)},disconnect:function(a){return a.remove()}};h.fixCallback=function(a,b,c,h){h||(h=c,c=null);if(m.isString(h)){c=c||k.global;if(!c[h])throw['dojox.gfx.shape.fixCallback: scope["',h,'"] is null (scope\x3d"',c,'")'].join("");return function(d){return b(d,a)?c[h].apply(c,
arguments||[]):void 0}}return!c?function(d){return b(d,a)?h.apply(c,arguments):void 0}:function(d){return b(d,a)?h.apply(c,arguments||[]):void 0}};m.extend(h.Shape,h._eventsProcessing);h.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var c=0;c<this.children.length;++c)if(this.children[c]==
a){b||(a.parent=null,a.parentMatrix=null);this.children.splice(c,1);break}return this},clear:function(a){for(var b,c=0;c<this.children.length;++c)b=this.children[c],b.parent=null,b.parentMatrix=null,a&&b.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var b=null;e.forEach(this.children,function(c){var h=c.getBoundingBox();h&&((c=c.getTransform())&&(h=a.multiplyRectangle(c,h)),b?(b.x=Math.min(b.x,h.x),b.y=Math.min(b.y,h.y),b.endX=Math.max(b.endX,h.x+h.width),b.endY=
Math.max(b.endY,h.y+h.height)):b={x:h.x,y:h.y,endX:h.x+h.width,endY:h.y+h.height})});b&&(b.width=b.endX-b.x,b.height=b.endY-b.y);return b}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.unshift(a);break}return this}};h.Surface=g("dojox.gfx.shape.Surface",
null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){e.forEach(this._nodes,c.destroy);this._nodes=[];e.forEach(this._events,function(a){a&&a.remove()});this._events=[];this.rawNode=null;if(f("ie"))for(;this._parent.lastChild;)c.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(a){},whenLoaded:function(a,
b){var c=m.hitch(a,b);if(this.isLoaded)c(this);else d.once(this,"load",function(a){c(a)})}});m.extend(h.Surface,h._eventsProcessing);h.Rect=g("dojox.gfx.shape.Rect",h.Shape,{constructor:function(a){this.shape=l.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});h.Ellipse=g("dojox.gfx.shape.Ellipse",h.Shape,{constructor:function(a){this.shape=l.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-
a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});h.Circle=g("dojox.gfx.shape.Circle",h.Shape,{constructor:function(a){this.shape=l.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});h.Line=g("dojox.gfx.shape.Line",h.Shape,{constructor:function(a){this.shape=l.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,
a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});h.Polyline=g("dojox.gfx.shape.Polyline",h.Shape,{constructor:function(a){this.shape=l.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&
"number"==typeof a[0]){for(var c=[],h=0;h<b;h+=2)c.push({x:a[h],y:a[h+1]});this.shape.points=c}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,c=a[0],h=c.x,d=c.y,e=c.x,f=c.y,g=1;g<b;++g)c=a[g],h>c.x&&(h=c.x),e<c.x&&(e=c.x),d>c.y&&(d=c.y),f<c.y&&(f=c.y);this.bbox={x:h,y:d,width:e-h,height:f-d}}return this.bbox}});h.Image=g("dojox.gfx.shape.Image",h.Shape,{constructor:function(a){this.shape=l.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},
setStroke:function(){return this},setFill:function(){return this}});h.Text=g(h.Shape,{constructor:function(a){this.fontStyle=null;this.shape=l.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?l.splitFontString(a):l.makeParameters(l.defaultFont,a);this._setFont();return this},getBoundingBox:function(){var a=null;this.getShape().text&&(a=l._base._computeTextBoundingBox(this));return a}});h.Creator={createShape:function(a){switch(a.type){case l.defaultPath.type:return this.createPath(a);
case l.defaultRect.type:return this.createRect(a);case l.defaultCircle.type:return this.createCircle(a);case l.defaultEllipse.type:return this.createEllipse(a);case l.defaultLine.type:return this.createLine(a);case l.defaultPolyline.type:return this.createPolyline(a);case l.defaultImage.type:return this.createImage(a);case l.defaultText.type:return this.createText(a);case l.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(l.Group)},createRect:function(a){return this.createObject(l.Rect,
a)},createEllipse:function(a){return this.createObject(l.Ellipse,a)},createCircle:function(a){return this.createObject(l.Circle,a)},createLine:function(a){return this.createObject(l.Line,a)},createPolyline:function(a){return this.createObject(l.Polyline,a)},createImage:function(a){return this.createObject(l.Image,a)},createText:function(a){return this.createObject(l.Text,a)},createPath:function(a){return this.createObject(l.Path,a)},createTextPath:function(a){return this.createObject(l.TextPath,{}).setText(a)},
createObject:function(a,b){return null}};return h})},"common/widgets/_HandlesMixin":function(){define(["dojo/_base/declare"],function(l){return l(null,{constructor:function(){this._handles={"default":[]}},addHandle:function(l,g){g=g||"default";var k=this._handles[g];k||(k=this._handles[g]=[]);k.push(l)},destroy:function(){this.removeHandles();this.inherited(arguments)},removeHandles:function(l){function g(g){if(g)for(var f;f=g.pop();)f.remove()}if(l)g(this._handles[l]);else for(l in this._handles)g(this._handles[l])}})})},
"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(l,m,g,k,f,d,e,c,b,a,h){var q=function(a,b){var c=a.run&&a.run.data&&a.run.data[a.index];return c&&"number"!=typeof c&&(c.tooltip||c.text)?c.tooltip||c.text:b.tooltipFunc?
b.tooltipFunc(a):a.y},n=Math.PI/4,v=Math.PI/2;d=g(b("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",e,{defaultParams:{text:q,mouseOver:!0},optionalParams:{},constructor:function(a,b,c){this.text=c&&c.text?c.text:q;this.mouseOver=c&&void 0!=c.mouseOver?c.mouseOver:!0;this.connect()},process:function(a){if("onplotreset"===a.type||"onmouseout"===a.type)l.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===a.type&&delete this.angles;else if(a.shape&&!(this.mouseOver&&
"onmouseover"!==a.type||!this.mouseOver&&"onclick"!==a.type)){var d={type:"rect"},e=["after-centered","before-centered"];switch(a.element){case "marker":d.x=a.cx;d.y=a.cy;d.w=d.h=1;break;case "circle":d.x=a.cx-a.cr;d.y=a.cy-a.cr;d.w=d.h=2*a.cr;break;case "spider_circle":d.x=a.cx;d.y=a.cy;d.w=d.h=1;break;case "spider_plot":return;case "column":e=["above-centered","below-centered"];case "bar":d=m.clone(a.shape.getShape());d.w=d.width;d.h=d.height;break;case "candlestick":d.x=a.x;d.y=a.y;d.w=a.width;
d.h=a.height;break;default:this.angles||(this.angles="number"==typeof a.run.data[0]?h.map(h.scanl(a.run.data,"+",0),"* 2 * Math.PI / this",h.foldl(a.run.data,"+",0)):h.map(h.scanl(a.run.data,"a + b.y",0),"* 2 * Math.PI / this",h.foldl(a.run.data,"a + b.y",0)));var g=c._degToRad(a.plot.opt.startAngle),q=(this.angles[a.index]+this.angles[a.index+1])/2+g;d.x=a.cx+a.cr*Math.cos(q);d.y=a.cy+a.cr*Math.sin(q);d.w=d.h=1;if(g&&(0>q||q>2*Math.PI))q=Math.abs(2*Math.PI-Math.abs(q));q<n||(q<v+n?e=["below-centered",
"above-centered"]:q<Math.PI+n?e=["before-centered","after-centered"]:q<2*Math.PI-n&&(e=["above-centered","below-centered"]))}b("dojo-bidi")&&this._recheckPosition(a,d,e);g=this.chart.getCoords();d.x+=g.x;d.y+=g.y;d.x=Math.round(d.x);d.y=Math.round(d.y);d.w=Math.ceil(d.w);d.h=Math.ceil(d.h);this.aroundRect=d;(a=this.text(a,this.plot))&&l.show(this._format(a),this.aroundRect,e);this.mouseOver||(this._handle=f.connect(k.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},
_recheckPosition:function(a,b,c){},_format:function(a){return a}});return b("dojo-bidi")?g("dojox.charting.action2d.Tooltip",[d,a]):d})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(l,m,g,k,f,d){var e={};l.setObject("dojo.dnd.autoscroll",e);e.getViewport=d.getBox;e.V_TRIGGER_AUTOSCROLL=32;e.H_TRIGGER_AUTOSCROLL=32;e.V_AUTOSCROLL_VALUE=16;e.H_AUTOSCROLL_VALUE=16;var c,b=g.doc,a=Infinity,h=Infinity;e.autoScrollStart=
function(e){b=e;c=d.getBox(b);e=g.body(b).parentNode;a=Math.max(e.scrollHeight-c.h,0);h=Math.max(e.scrollWidth-c.w,0)};e.autoScroll=function(f){var n=c||d.getBox(b),v=g.body(b).parentNode,k=0,l=0;f.clientX<e.H_TRIGGER_AUTOSCROLL?k=-e.H_AUTOSCROLL_VALUE:f.clientX>n.w-e.H_TRIGGER_AUTOSCROLL&&(k=Math.min(e.H_AUTOSCROLL_VALUE,h-v.scrollLeft));f.clientY<e.V_TRIGGER_AUTOSCROLL?l=-e.V_AUTOSCROLL_VALUE:f.clientY>n.h-e.V_TRIGGER_AUTOSCROLL&&(l=Math.min(e.V_AUTOSCROLL_VALUE,a-v.scrollTop));window.scrollBy(k,
l)};e._validNodes={div:1,p:1,td:1};e._validOverflow={auto:1,scroll:1};e.autoScrollNodes=function(a){for(var b,c,h,d,l,p,D=0,A=0,w=a.target;w;){if(1==w.nodeType&&w.tagName.toLowerCase()in e._validNodes){h=f.getComputedStyle(w);d=h.overflow.toLowerCase()in e._validOverflow;l=h.overflowX.toLowerCase()in e._validOverflow;p=h.overflowY.toLowerCase()in e._validOverflow;if(d||l||p)b=k.getContentBox(w,h),c=k.position(w,!0);if(d||l){h=Math.min(e.H_TRIGGER_AUTOSCROLL,b.w/2);l=a.pageX-c.x;if(m("webkit")||m("opera"))l+=
g.body().scrollLeft;D=0;0<l&&l<b.w&&(l<h?D=-h:l>b.w-h&&(D=h),w.scrollLeft+=D)}if(d||p){d=Math.min(e.V_TRIGGER_AUTOSCROLL,b.h/2);p=a.pageY-c.y;if(m("webkit")||m("opera"))p+=g.body().scrollTop;A=0;0<p&&p<b.h&&(p<d?A=-d:p>b.h-d&&(A=d),w.scrollTop+=A)}if(D||A)return}try{w=w.parentNode}catch(C){w=null}}e.autoScroll(a)};return e})},"dojox/date/timezone":function(){define(["dojo","dojo/date","dojo/date/locale","dojo/_base/array","dojo/_base/xhr"],function(l,m,g){function k(a){a=a||{};A=l.mixin(A,a.zones||
{});C=l.mixin(C,a.rules||{})}function f(a){D[a]=!0;l.xhrGet({url:require.toUrl((r.timezoneFileBasePath||"dojox/date/zoneinfo")+"/"+a),sync:!0,handleAs:"olson-zoneinfo",load:k,error:function(a){console.error("Error loading zone file:",a);throw a;}})}function d(a){throw Error('Timezone "'+a+'" is either incorrect, or not loaded in the timezone registry.');}function e(a){var b=B[a];if(!b&&(b=a.split("/")[0],b=x[b],!b)){var c=A[a];if("string"==typeof c)return e(c);if(D.backward)d(a);else return f("backward"),
e(a)}return b}function c(a){a=a.match(/(\d+)(?::0*(\d*))?(?::0*(\d*))?([su])?$/);if(!a)return null;a[1]=parseInt(a[1],10);a[2]=a[2]?parseInt(a[2],10):0;a[3]=a[3]?parseInt(a[3],10):0;return a}function b(a,b,c,h,d,e,f){return Date.UTC(a,b,c,h,d,e)+6E4*(f||0)}function a(a){var b=c(a);if(null===b)return 0;b=(0===a.indexOf("-")?-1:1)*1E3*(60*(60*b[1]+b[2])+b[3]);return-b/60/1E3}function h(a,h,d){var e=u[a[3].substr(0,3).toLowerCase()],f=a[4],g=c(a[5]);"u"==g[4]&&(d=0);if(isNaN(f)){if("last"==f.substr(0,
4))return f=G[f.substr(4,3).toLowerCase()],a=new Date(b(h,e+1,1,g[1]-24,g[2],g[3],d)),d=m.add(a,"minute",-d).getUTCDay(),f=f>d?f-d-7:f-d,0!==f&&(a=m.add(a,"hour",24*f)),a;f=G[f.substr(0,3).toLowerCase()];if("undefined"!=f){if("\x3e\x3d"==a[4].substr(3,2))return a=new Date(b(h,e,parseInt(a[4].substr(5),10),g[1],g[2],g[3],d)),d=m.add(a,"minute",-d).getUTCDay(),f=f<d?f-d+7:f-d,0!==f&&(a=m.add(a,"hour",24*f)),a;if("\x3c\x3d"==f.substr(3,2))return a=new Date(b(h,e,parseInt(a[4].substr(5),10),g[1],g[2],
g[3],d)),d=m.add(a,"minute",-d).getUTCDay(),f=f>d?f-d-7:f-d,0!==f&&(a=m.add(a,"hour",24*f)),a}}else return a=new Date(b(h,e,parseInt(f,10),g[1],g[2],g[3],d));return null}function q(b,c){var d=[];l.forEach(C[b[1]]||[],function(e){for(var f=0;2>f;f++)switch(e[f]){case "min":e[f]=s;break;case "max":e[f]=p;break;case "only":break;default:if(e[f]=parseInt(e[f],10),isNaN(e[f]))throw Error("Invalid year found on rule");}"string"==typeof e[6]&&(e[6]=a(e[6]));(e[0]<=c&&e[1]>=c||e[0]==c&&"only"==e[1])&&d.push({r:e,
d:h(e,c,b[0])})});return d}function n(d,e){for(var f=w[d]=[],g=0;g<e.length;g++){var n=e[g],v=f[g]=[],k=null,r=null,A=[];"string"==typeof n[0]&&(n[0]=a(n[0]));0===g?v[0]=Date.UTC(s,0,1,0,0,0,0):(v[0]=f[g-1][1],k=e[g-1],r=f[g-1],A=r[2]);for(var t=(new Date(v[0])).getUTCFullYear(),C=n[3]?parseInt(n[3],10):p,D=[];t<=C;t++)D=D.concat(q(n,t));D.sort(function(a,b){return m.compare(a.d,b.d)});var E,t=0;for(E;E=D[t];t++)C=0<t?D[t-1]:null,0>E.r[5].indexOf("u")&&0>E.r[5].indexOf("s")&&(0===t&&0<g?A.length?
E.d=m.add(E.d,"minute",A[A.length-1].r[6]):0===m.compare(new Date(r[1]),E.d,"date")?E.d=new Date(r[1]):E.d=m.add(E.d,"minute",a(k[1])):0<t&&(E.d=m.add(E.d,"minute",C.r[6])));v[2]=D;if(n[3]){var r=parseInt(n[3],10),A=u[(n[4]||"Jan").substr(0,3).toLowerCase()],C=parseInt(n[5]||"1",10),k=c(n[6]||"0"),z=v[1]=b(r,A,C,k[1],k[2],k[3],"u"==k[4]?0:n[0]);isNaN(z)&&(z=v[1]=h([0,0,0,n[4],n[5],n[6]||"0"],r,"u"==k[4]?0:n[0]).getTime());r=l.filter(D,function(a,b){var c=0<b?6E4*D[b-1].r[6]:0;return a.d.getTime()<
z+c});"u"!=k[4]&&"s"!=k[4]&&(v[1]=r.length?v[1]+6E4*r[r.length-1].r[6]:v[1]+6E4*a(n[1]))}else v[1]=Date.UTC(p,11,31,23,59,59,999)}}function v(a,b){for(var c=b,h=A[c];"string"==typeof h;)c=h,h=A[c];if(!h){if(!D.backward)return f("backward",!0),v(a,b);d(c)}w[b]||n(b,h);for(var c=w[b],e=a.getTime(),g=0,q;q=c[g];g++)if(e>=q[0]&&e<q[1])return{zone:h[g],range:c[g],idx:g};throw Error('No Zone found for "'+b+'" on '+a);}l.experimental("dojox.date.timezone");l.getObject("date.timezone",!0,dojox);var r=l.config,
t="africa antarctica asia australasia backward etcetera europe northamerica pacificnew southamerica".split(" "),s=1835,p=2038,D={},A={},w={},C={},z=r.timezoneLoadingScheme||"preloadAll",t=r.defaultZoneFile||("preloadAll"==z?t:"northamerica");l._contentHandlers["olson-zoneinfo"]=function(a){a=l._contentHandlers.text(a).split("\n");for(var b=[],c="",h=null,c=null,d={zones:{},rules:{}},e=0;e<a.length;e++)if(b=a[e],b.match(/^\s/)&&(b="Zone "+h+b),b=b.split("#")[0],3<b.length)switch(b=b.split(/\s+/),c=
b.shift(),c){case "Zone":h=b.shift();b[0]&&(d.zones[h]||(d.zones[h]=[]),d.zones[h].push(b));break;case "Rule":c=b.shift();d.rules[c]||(d.rules[c]=[]);d.rules[c].push(b);break;case "Link":if(d.zones[b[1]])throw Error("Error with Link "+b[1]);d.zones[b[1]]=b[0]}return d};var u={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},G={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},x={EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",
MST7MDT:"northamerica",PST8PDT:"northamerica",America:"northamerica",Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},B={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia",
"Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/Cordoba":"southamerica",
"America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica","America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica","America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica",
"America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica","America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica","America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica",
"America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica","America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica","America/Montevideo":"southamerica","America/Caracas":"southamerica"},K={US:"S",Chatham:"S",NZ:"S",NT_YK:"S",Edm:"S",Salv:"S",
Canada:"S",StJohns:"S",TC:"S",Guat:"S",Mexico:"S",Haiti:"S",Barb:"S",Belize:"S",CR:"S",Moncton:"S",Swift:"S",Hond:"S",Thule:"S",NZAQ:"S",Zion:"S",ROK:"S",PRC:"S",Taiwan:"S",Ghana:"GMT",SL:"WAT",Chicago:"S",Detroit:"S",Vanc:"S",Denver:"S",Halifax:"S",Cuba:"S",Indianapolis:"S",Starke:"S",Marengo:"S",Pike:"S",Perry:"S",Vincennes:"S",Pulaski:"S",Louisville:"S",CA:"S",Nic:"S",Menominee:"S",Mont:"S",Bahamas:"S",NYC:"S",Regina:"S",Resolute:"ES",DR:"S",Toronto:"S",Winn:"S"};l.setObject("dojox.date.timezone",
{getTzInfo:function(b,c){if("lazyLoad"==z){var h=e(c);if(h)D[h]||f(h);else throw Error("Not a valid timezone ID.");}var d=v(b,c),h=d.zone[0],g;var n=-1;g=d.range[2]||[];for(var q=b.getTime(),p=0,k;k=g[p];p++)q>=k.d.getTime()&&(n=p);g=0<=n?g[n].r:null;h=g?h+g[6]:C[d.zone[1]]&&0<d.idx?h+a(A[c][d.idx-1][1]):h+a(d.zone[1]);q=d.zone;n=q[2];-1<n.indexOf("%s")?(g?(d=g[7],"-"==d&&(d="")):q[1]in K?d=K[q[1]]:0<d.idx?(d=A[c][d.idx-1][2],d=0>d.indexOf("%s")?n.replace("%s","S")==d?"S":"":""):d="",d=n.replace("%s",
d)):-1<n.indexOf("/")?(d=n.split("/"),d=g?d[0===g[6]?0:1]:d[0]):d=n;return{tzOffset:h,tzAbbr:d}},loadZoneData:function(a){k(a)},getAllZones:function(){var a=[],b;for(b in A)a.push(b);a.sort();return a}});"string"==typeof t&&t&&(t=[t]);l.isArray(t)&&l.forEach(t,f);var y=g.format,E=g._getZone;g.format=function(a,b){b=b||{};b.timezone&&!b._tzInfo&&(b._tzInfo=dojox.date.timezone.getTzInfo(a,b.timezone));if(b._tzInfo){var c=a.getTimezoneOffset()-b._tzInfo.tzOffset;a=new Date(a.getTime()+6E4*c)}return y.call(this,
a,b)};g._getZone=function(a,b,c){return c._tzInfo?b?c._tzInfo.tzAbbr:c._tzInfo.tzOffset:E.call(this,a,b,c)}})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(l,m){var g=m.prototype.onMove;return l("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(g,f){f||(f={});f.timeout&&("number"==typeof f.timeout&&0<=f.timeout)&&(this.timeout=f.timeout)},onMoveStop:function(k){k._timer&&(clearTimeout(k._timer),g.call(this,k,k._leftTop));m.prototype.onMoveStop.apply(this,
arguments)},onMove:function(k,f){k._leftTop=f;if(!k._timer){var d=this;k._timer=setTimeout(function(){k._timer=null;g.call(d,k,k._leftTop)},this.timeout)}}})})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(l,m,g,k){l=function(f){function d(b,c){var d=f[b];d&&(f[b]=function(b){if(a)return d.apply(this,arguments);a=!0;try{var h=d.apply(this,arguments);g(h,function(a){c("object"==typeof a&&a||b)});return h}finally{a=!1}})}var e=[],
c=0;f=m.delegate(f);f.notify=function(a,b){c++;for(var d=e.slice(),f=0,g=d.length;f<g;f++)d[f](a,b)};var b=f.query;f.query=function(a,d){d=d||{};var n=b.apply(this,arguments);if(n&&n.forEach){var v=m.mixin({},d);delete v.start;delete v.count;var r=f.queryEngine&&f.queryEngine(a,v),l=c,s=[],p;n.observe=function(a,b){1==s.push(a)&&e.push(p=function(a,h){g(n,function(e){var g=e.length!=d.count,n,p;if(++l!=c)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var v,w=-1,m=-1;if(void 0!==h){n=0;for(p=e.length;n<p;n++){var D=e[n];if(f.getIdentity(D)==h){v=D;w=n;(r||!a)&&e.splice(n,1);break}}}if(r){if(a&&(r.matches?r.matches(a):r([a]).length))n=-1<w?w:e.length,e.splice(n,0,a),m=k.indexOf(r(e),a),e.splice(n,1),d.start&&0==m||!g&&m==e.length?m=-1:e.splice(m,0,a)}else a&&(void 0!==h?m=w:d.start||(m=f.defaultIndex||0,e.splice(m,0,a)));if((-1<w||-1<m)&&(b||!r||w!=m)){g=s.slice();for(n=0;e=g[n];n++)e(a||v,w,m)}})});var h={};h.remove=h.cancel=function(){var b=k.indexOf(s,
a);-1<b&&(s.splice(b,1),s.length||e.splice(k.indexOf(e,p),1))};return h}}return n};var a;d("put",function(a){f.notify(a,f.getIdentity(a))});d("add",function(a){f.notify(a)});d("remove",function(a){f.notify(void 0,a)});return f};m.setObject("dojo.store.Observable",l);return l})},"common/models/WeekendIndicator":function(){define(["dojo/date/stamp","./_Model"],function(l,m){return m.createSubclass([],{postLoad:function(g){this.inherited(arguments);this._weekendDays=[];g&&g.dow?g.dow.forEach(function(g){this._weekendDays[g-
1]=!0},this):console.warn("WeekendIndicator request got an empty response")},isWeekend:function(g){g="string"===typeof g?l.fromISOString(g):g;return this._weekendDays[g.getDay()]||!1},_getLoadUrl:function(){var g=this.Config.get(this._contextName);return g.contextPath+"api/rest/weekendIndicator/v1/properties/"+g.propertyCode}})})},"dojox/charting/plot2d/Grid":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/sniff ./CartesianBase ./common dojox/lang/utils dojox/gfx/fx".split(" "),
function(l,m,g,k,f,d,e,c){var b=function(a,b){return a.value-b.value};return m("dojox.charting.plot2d.Grid",f,{defaultParams:{hMajorLines:!0,hMinorLines:!1,vMajorLines:!0,vMinorLines:!1,hStripes:!1,vStripes:!1,animate:null,enableCache:!1,renderOnAxis:!0},optionalParams:{majorHLine:{},minorHLine:{},majorVLine:{},minorVLine:{},hFill:{},vFill:{},hAlternateFill:{},vAlternateFill:{}},constructor:function(a,b){this.opt=l.clone(this.defaultParams);e.updateWithObject(this.opt,b);e.updateWithPattern(this.opt,
b,this.optionalParams);this.animate=this.opt.animate;this.opt.enableCache&&(this._lineFreePool=[],this._lineUsePool=[],this._rectFreePool=[],this._rectUsePool=[])},addSeries:function(a){return this},getSeriesStats:function(){return l.delegate(d.defaultStats)},cleanGroup:function(){this.inherited(arguments);this.opt.enableCache&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._rectFreePool=this._rectFreePool.concat(this._rectUsePool),this._rectUsePool=[])},
createLine:function(a,b){var c;this.opt.enableCache&&0<this._lineFreePool.length?(c=this._lineFreePool.pop(),c.setShape(b),a.add(c)):c=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(c);return c},createRect:function(a,b){var c;this.opt.enableCache&&0<this._rectFreePool.length?(c=this._rectFreePool.pop(),c.setShape(b),a.add(c)):c=a.createRect(b);this.opt.enableCache&&this._rectUsePool.push(c);return c},render:function(a,b){if(this.zoom)return this.performZoom(a,b);this.dirty=this.isDirty();
if(!this.dirty)return this;this.cleanGroup();var c=this.getGroup(),d=this.chart.theme,e;if(k("ios")&&6>k("ios")||k("android")||k("safari")&&!k("ios")){e=Math.max(0,a.width-b.l-b.r);var f=Math.max(0,a.height-b.t-b.b);c.createRect({x:b.l,y:b.t,width:e,height:f})}if(this._vAxis&&(e=this._vAxis.getTicks(),f=this._vAxis.getScaler(),null!=e&&null!=f)){var g=f.scaler.getTransformerFromModel(f);this.opt.hStripes&&this._renderHRect(e,d.grid,a,b,f,g);this.opt.hMinorLines&&(c=this.opt.minorHLine||d.grid&&d.grid.minorLine||
d.axis.minorTick,this._renderHLines(e.minor,c,a,b,f,g));this.opt.hMajorLines&&(c=this.opt.majorHLine||d.grid&&d.grid.majorLine||d.axis.majorTick,this._renderHLines(e.major,c,a,b,f,g))}this._hAxis&&(e=this._hAxis.getTicks(),f=this._hAxis.getScaler(),null!=e&&null!=f&&(g=f.scaler.getTransformerFromModel(f),this.opt.vStripes&&this._renderVRect(e,d.grid,a,b,f,g),e&&this.opt.vMinorLines&&(c=this.opt.minorVLine||d.grid&&d.grid.minorLine||d.axis.minorTick,this._renderVLines(e.minor,c,a,b,f,g)),e&&this.opt.vMajorLines&&
(c=this.opt.majorVLine||d.grid&&d.grid.majorLine||d.axis.majorTick,this._renderVLines(e.major,c,a,b,f,g))));this.dirty=!1;return this},_renderHLines:function(a,b,c,d,e,f){var k=this.getGroup();g.forEach(a,function(a){if(this.opt.renderOnAxis||a.value!=(this._vAxis.opt.leftBottom?e.bounds.from:e.bounds.to))a=c.height-d.b-f(a.value),a=this.createLine(k,{x1:d.l,y1:a,x2:c.width-d.r,y2:a}).setStroke(b),this.animate&&this._animateGrid(a,"h",d.l,d.r+d.l-c.width)},this)},_renderVLines:function(a,b,c,d,e,
f){var k=this.getGroup();g.forEach(a,function(a){if(this.opt.renderOnAxis||a.value!=(this._hAxis.opt.leftBottom?e.bounds.from:e.bounds.to))a=d.l+f(a.value),a=this.createLine(k,{x1:a,y1:d.t,x2:a,y2:c.height-d.b}).setStroke(b),this.animate&&this._animateGrid(a,"v",c.height-d.b,c.height-d.b-d.t)},this)},_renderHRect:function(a,c,d,e,f,g){var k,l,p;a=a.major.concat(a.minor);a.sort(b);a[0].value>f.bounds.from&&a.splice(0,0,{value:f.bounds.from});a[a.length-1].value<f.bounds.to&&a.push({value:f.bounds.to});
f=this.getGroup();for(var m=0;m<a.length-1;m++)if(k=a[m],l=d.height-e.b-g(k.value),p=d.height-e.b-g(a[m+1].value),k=0==m%2?this.opt.hAlternateFill||c&&c.alternateFill:this.opt.hFill||c&&c.fill)k=this.createRect(f,{x:e.l,y:l,width:d.width-e.r,height:l-p}).setFill(k),this.animate&&this._animateGrid(k,"h",e.l,e.r+e.l-d.width)},_renderVRect:function(a,c,d,e,f,g){var k,l,p;a=a.major.concat(a.minor);a.sort(b);a[0].value>f.bounds.from&&a.splice(0,0,{value:f.bounds.from});a[a.length-1].value<f.bounds.to&&
a.push({value:f.bounds.to});f=this.getGroup();for(var m=0;m<a.length-1;m++)if(k=a[m],l=e.l+g(k.value),p=e.l+g(a[m+1].value),k=0==m%2?this.opt.vAlternateFill||c&&c.alternateFill:this.opt.vFill||c&&c.fill)k=this.createRect(f,{x:l,y:e.t,width:p-l,height:d.width-e.r}).setFill(k),this.animate&&this._animateGrid(k,"v",d.height-e.b,d.height-e.b-e.t)},_animateGrid:function(a,b,d,e){c.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:"h"==b?[d,0]:[0,d],end:[0,0]},{name:"scale",
start:"h"==b?[1/e,1]:[1,1/e],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Markers":function(){define(["dojo/_base/declare","./Default"],function(l,m){return l("dojox.charting.plot2d.Markers",m,{constructor:function(){this.opt.markers=!0}})})},"common/widgets/ChartTheme":function(){define(["dojox/charting/Theme"],function(l){return new l({chart:{fill:null},plotarea:{fill:null},axis:{stroke:{color:"#888c76",width:1},tick:{color:"#888c76",position:"center",font:"normal normal normal 7pt Verdana, Arial, sans-serif",
fontColor:"#888c76",labelGap:4},majorTick:{length:0},minorTick:{length:0}},series:{stroke:{width:0},outline:null,font:"normal normal normal 7pt Verdana, Arial, sans-serif",fontColor:"#131313"},indicator:{lineOutline:null,outline:null,fill:null},seriesThemes:[{fill:"#525252"},{fill:"#b344d7"},{fill:"#6e6e6e"},{fill:"#7b7b7b"}]})})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(l,m){var g=m.getObject("lang.utils",!0,l),k={},f=Object.prototype.toString,d=function(d){if(d)switch(f.call(d)){case "[object Array]":return d.slice(0);
case "[object Object]":return m.delegate(d)}return d};m.mixin(g,{coerceType:function(d,c){switch(typeof d){case "number":return Number(eval("("+c+")"));case "string":return String(c);case "boolean":return Boolean(eval("("+c+")"))}return eval("("+c+")")},updateWithObject:function(e,c,b){if(!c)return e;for(var a in e)if(a in c&&!(a in k)){var h=e[a];h&&"object"==typeof h?g.updateWithObject(h,c[a],b):e[a]=b?g.coerceType(h,c[a]):d(c[a])}return e},updateWithPattern:function(e,c,b,a){if(!c||!b)return e;
for(var h in b)h in c&&!(h in k)&&(e[h]=a?g.coerceType(b[h],c[h]):d(c[h]));return e},merge:function(d,c){if(c){var b=f.call(d),a=f.call(c),h,q;switch(a){case "[object Array]":if(a==b){b=Array(Math.max(d.length,c.length));h=0;for(a=b.length;h<a;++h)b[h]=g.merge(d[h],c[h]);return b}return c.slice(0);case "[object Object]":if(a==b&&d){b=m.delegate(d);for(h in c)h in d?(a=d[h],q=c[h],q!==a&&(b[h]=g.merge(a,q))):b[h]=m.clone(c[h]);return b}return m.clone(c)}}return c}});return g})},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(l,m,g,k){var f=l("dijit.form.NumberTextBoxMixin",null,{pattern:function(d){return"("+(this.focused&&this.editOptions?this._regExpGenerator(m.delegate(d,this.editOptions))+"|":"")+this._regExpGenerator(d)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:g.format,_regExpGenerator:g.regexp,postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(d){var e="number"==typeof d.places?
d.places:0;e&&e++;"number"!=typeof d.max&&(d.max=9*Math.pow(10,15-e));"number"!=typeof d.min&&(d.min=-9*Math.pow(10,15-e));this.inherited(arguments,[d]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var d=this.get("value");"number"==typeof d&&!isNaN(d)&&(d=this.format(d,this.constraints),void 0!==d&&(this.textbox.value=d));this.inherited(arguments)}},format:function(d,e){var c=String(d);if("number"!=
typeof d)return c;if(isNaN(d))return"";if(!("rangeCheck"in this&&this.rangeCheck(d,e))&&!1!==e.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(e=m.mixin({},e,this.editOptions));return this._formatter(d,e)},_parser:g.parse,parse:function(d,e){var c=this._parser(d,m.mixin({},e,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(d,e));return c},_getDisplayedValueAttr:function(){var d=this.inherited(arguments);return isNaN(d)?
this.textbox.value:d},filter:function(d){return null==d||""===d?NaN:this.inherited(arguments)},serialize:function(d,e){return"number"!=typeof d||isNaN(d)?"":this.inherited(arguments)},_setBlurValue:function(){var d=m.hitch(m.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(d,!0)},_setValueAttr:function(d,e,c){if(void 0!==d&&void 0===c)if(c=String(d),"number"==typeof d)if(isNaN(d))c="";else{if("rangeCheck"in this&&this.rangeCheck(d,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=
void 0}else d?d=void 0:(c="",d=NaN);this.inherited(arguments,[d,e,c])},_getValueAttr:function(){var d=this.inherited(arguments);if(isNaN(d)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+g._realNumberRegexp(m.delegate(this.constraints))+"$").test(this.textbox.value))return d=Number(this.textbox.value),isNaN(d)?void 0:d}else return d},isValid:function(d){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);
var e=this.get("value");return!isNaN(e)&&this.rangeCheck(e,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}});l=l("dijit.form.NumberTextBox",[k,f],{baseClass:"dijitTextBox dijitNumberTextBox"});l.Mixin=f;return l})},"common/widgets/form/ToggleButton":function(){define(["dijit/form/ToggleButton","./_ButtonMixin"],function(l,m){return l.createSubclass([m])})},"common/widgets/Calendar":function(){define(["dojo/cldr/supplemental",
"dojo/dom-construct","dijit/Calendar"],function(l,m,g){return g.createSubclass([],{"class":"forecast",buildRendering:function(){this.inherited(arguments);m.destroy(this.domNode.querySelector(".dijitCalendarDayLabelTemplate").parentNode);for(var g=this.domNode.querySelector(".dijitCalendarMonthContainer"),g=m.create("tr",{className:"days"},g,"before"),f=this.dateLocaleModule.getNames("days","abbr","standAlone",this.lang),d=l.getFirstDayOfWeek(this.lang),e=0;e<f.length;e++)m.create("th",{innerHTML:f[(e+
d)%7].slice(0,2),className:"dijitCalendarDateLabel"},g)},refreshDisabledDates:function(){this._populateGrid();this._markSelectedDates([this.value])}})})},"xstyle/has-class":function(){define(["dojo/has"],function(l){var m={};return function(){for(var g,k=arguments,f=0;f<k.length;f++)if(g=k[f],!m[g]){m[g]=!0;var d=g.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),e=l(d[2]),c=-d[4];if((0<c?c<=e&&(-d[5]||c)>=e:!!e)==!d[1])document.documentElement.className+=" has-"+g}}})},"forecast/views/ClearOverridesDialog":function(){define("dojo/date dojo/dom-construct dojo/i18n!common/nls/common dojo/date/stamp common/util common/widgets/Calendar common/widgets/form/DateDropDownButton common/widgets/Dialog common/widgets/_HandlesMixin dijit/form/CheckBox core/Config".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h){return c.createSubclass([b],{baseClass:"date-range-dialog clear-overrides-dialog",buttons:[{label:g.apply,name:"apply"},{label:g.cancel,name:"cancel"}],buildRendering:function(){this.content=m.create("div",{className:"content"});this.inherited(arguments);var b=m.create("label",{innerHTML:g.allExcludesLocked},this.content);this._allCheckBox=new a;this._allCheckBox.placeAt(b);this._buildDateRange()},postCreate:function(){this.inherited(arguments);var a=this;this.on("action",
function(b){switch(b.detail.name){case "apply":a._apply();break;case "cancel":a.hide()}});this._allCheckBox.on("change",function(b){a._startDateDropDown.set("disabled",b);a._endDateDropDown.set("disabled",b)});this._startDateCalendar.on("change",function(b){a._endDateCalendar.set("minDate",b);a._endDateCalendar.refreshDisabledDates()});this._applyButton=this.buttons[0]},reset:function(a){var b=this;this.dateRangeCalendars.forEach(function(a){a.set("value",b.model.get("targetDate"))});a||this._allCheckBox.set("value",
!1)},_apply:function(){var a,b;this._allCheckBox.get("value")?(a=h.get("forecastContext").marshaDatePlusOneObj,b=this.get("maxDate")):(a=this._startDateCalendar.get("value"),b=this._endDateCalendar.get("value"));this.hide();this.emit("clear-overrides",{detail:{startDate:f.toISODate(a),endDate:f.toISODate(b)}})},_buildDateRange:function(){var a=m.create("div",{className:"date-selection-container"},this.content),b={startDate:{label:"Start Date",domNode:m.create("div",null,a)},endDate:{label:"End Date",
domNode:m.create("div",null,a)}},c=this;this.dateRangeCalendars=Object.keys(b).map(function(a){m.create("label",{innerHTML:b[a].label},b[a].domNode);var h=new d({isDisabledDate:function(a){return-1===l.compare(a,this.get("minDate"),"date")||c.get("maxDate")&&1===l.compare(a,c.get("maxDate"),"date")}}),f=new e({autoWidth:!1,dropDown:h,label:g.selectDate,"class":a});f.placeAt(b[a]);c.set("_"+a+"Calendar",h);c.set("_"+a+"DropDown",f);return h});this._startDateCalendar.on("change",function(a){c._endDateCalendar.get("value")<
a&&c._endDateCalendar.set("value",c._startDateCalendar.get("value"))})},_setMaxDateAttr:function(a){this._set("maxDate",a);this.dateRangeCalendars.forEach(function(a){a.refreshDisabledDates()})},_setModelAttr:function(a){this.removeHandles();this._set("model",a);this.set("maxDate",a.get("maxDate"));var b=this;this.addHandle(a.watch("maxDate",function(a,c,d){b.set("maxDate",d)}));this.addHandle(a.watch("targetDate",function(a,c,d){b.dateRangeCalendars.forEach(function(a){a.set("value",d)})}));this.dateRangeCalendars.forEach(function(a){a.set("minDate",
b.model.get("marshaDate"));a.set("value",b.model.get("marshaDate"))})}})})},"forecast/views/RoompoolGrid":function(){define(["../widgets/DataGrid","common/widgets/form/PercentInput","common/util","dijit/registry","dojo/dom-construct"],function(l,m,g,k,f){return l.createSubclass([],{"class":"roompool-grid",dataName:"Roompool",places:1,postCreate:function(){this.inherited(arguments);var d=this;this.on(".nudge:mousedown",function(d){d.preventDefault()});this.on(".nudge \x3e span:click",function(e){if(!d.disabled){for(var c=
e=e.target;"TR"!==c.tagName;)c=c.parentElement;c=c.getAttribute("data-Roompool");e.classList.contains("increment")?d._incrementRoompool(c,1):d._incrementRoompool(c,-1)}})},setItemValue:function(d,e){this.model.setRoompoolPercent(d,e)},_incrementRoompool:function(d,e){var c=this.model,b=c.getRoompoolPercent(d)+e;100<b?b=100:0>b&&(b=0);c.setRoompoolPercent(d,b)},_createHeaderRow:function(d){f.create("td",{className:"label",colspan:2},d);f.create("td",{className:"label",colspan:4,innerHTML:"Rem Dem"},
d);f.create("td",{innerHTML:"STLY",colspan:2},d)},_createRowContent:function(d,e){function c(a,c){var d;d="icon "+c+("increment"===c?" circle-plus":" circle-minus");b.disabled&&(d+=" disabled");f.create("span",{className:d},a)}var b=this,a=e.name,h=e.id,g=this.model;e.fill?(a=f.create("td",{className:"nudge"},d),c(a,"decrement"),a=f.create("td",{className:"percent input"},d),(new m({name:String(h),disabled:this.disabled,value:g.getRoompoolPercent(h)})).placeAt(a),a=f.create("td",{className:"nudge"},
d),c(a,"increment"),f.create("td",{className:"value",innerHTML:this.formatNumber(g.getRoompoolValue(h),0)},d),f.create("td",{className:"percent",innerHTML:this.formatPercent(g.getRoompoolLastYearPercent(h))},d),f.create("td",{className:"value",innerHTML:this.formatNumber(g.getRoompoolLastYearValue(h),0)},d)):"Total"===a?(f.create("td",null,d),f.create("td",{className:"percent",innerHTML:"100"},d),f.create("td",null,d),f.create("td",{className:"value",innerHTML:this.formatNumber(g.get("total.roompools.current"),
0)},d),f.create("td",null,d),f.create("td",{innerHTML:this.formatNumber(g.get("total.roompools.lastYear"))},d)):(f.create("td",null,d),f.create("td",{className:"percent"},d),f.create("td",null,d),f.create("td",{className:"value"},d),f.create("td",null,d),f.create("td",null,d))},_updateRow:function(d,e,c){d=this._gridNode.querySelector("tr[data-"+this.dataName+'\x3d"'+d+'"]');d.querySelector("td.value").textContent=this.formatNumber(c,0);c=d.querySelector("td.percent");k.findWidgets(c)[0].set("value",
e,!1)},_postLoad:function(){this.inherited(arguments);this._totalVariance=this.domNode.querySelector("tr.variance td.value");this._percentVariance=this.domNode.querySelector("tr.variance td.percent");this._originalTotal=this.model.getRoompoolTotal();this.set("totalVariance",0);this.set("total",this._originalTotal)},_setDisabledAttr:function(d){this.inherited(arguments);var e=d?"add":"remove";Array.prototype.slice.call(this.domNode.querySelectorAll(".icon")).forEach(function(c){c.classList[e]("disabled")})},
_setTotalAttr:function(d){this._total.textContent=this.formatNumber(d,0)},_setTotalVarianceAttr:function(d){this._variance.textContent=this.formatNumber(d,0);this._variance.classList[0>d?"add":"remove"]("negative");this._percentVariance.textContent=this.model.getRoompoolTotalVariancePercent();this._percentVariance.classList[0>d?"add":"remove"]("negative")}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(l){return l.dojox})},"dojox/charting/plot2d/Columns":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h){var q=b.lambda("item.purgeGroup()");return g("dojox.charting.plot2d.Columns",[f,d],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(b,c){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));a.updateWithObject(this.opt,c);a.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate},getSeriesStats:function(){var a=
e.collectSimpleStats(this.series);a.hmin-=0.5;a.hmax+=0.5;return a},createRect:function(a,b,c){var d;this.opt.enableCache&&0<a._rectFreePool.length?(d=a._rectFreePool.pop(),d.setShape(c),b.add(d)):d=b.createRect(c);this.opt.enableCache&&a._rectUsePool.push(d);return d},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var d;this.dirty&&(m.forEach(this.series,q),this._eventSeries={},this.cleanGroup(),d=this.getGroup(),c.forEachRev(this.series,
function(a){a.cleanGroup(d)}));for(var h=this.chart.theme,e=this._hScaler.scaler.getTransformerFromModel(this._hScaler),f=this._vScaler.scaler.getTransformerFromModel(this._vScaler),g=Math.max(0,this._vScaler.bounds.lower),A=f(g),w=this.events(),C=this.getBarProperties(),z=this.series.length-1;0<=z;--z){var u=this.series[z];if(!this.dirty&&!u.dirty)h.skip(),this._reconnectEvents(u.name);else{u.cleanGroup();this.opt.enableCache&&(u._rectFreePool=(u._rectFreePool?u._rectFreePool:[]).concat(u._rectUsePool?
u._rectUsePool:[]),u._rectUsePool=[]);var G=h.next("column",[this.opt,u]),x=Array(u.data.length);d=u.group;for(var B=m.some(u.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),K=B?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,y=B?Math.min(u.data.length,Math.ceil(this._hScaler.bounds.to)):u.data.length;K<y;++K){var E=u.data[K];if(null!=E){var F=this.getValue(E,K,z,B),H=f(F.y),I=Math.abs(H-A),J,M;this.opt.styleFunc||"number"!=typeof E?(J="number"!=typeof E?[E]:[],this.opt.styleFunc&&
J.push(this.opt.styleFunc(E)),J=h.addMixin(G,"column",J,!0)):J=h.post(G,"column");if(1<=C.width&&0<=I){var L={x:b.l+e(F.x+0.5)+C.gap+C.thickness*z,y:a.height-b.b-(F.y>g?H:A),width:C.width,height:I};J.series.shadow&&(M=l.clone(L),M.x+=J.series.shadow.dx,M.y+=J.series.shadow.dy,M=this.createRect(u,d,M).setFill(J.series.shadow.color).setStroke(J.series.shadow),this.animate&&this._animateColumn(M,a.height-b.b+A,I));var N=this._plotFill(J.series.fill,a,b),N=this._shapeFill(N,L),N=this.createRect(u,d,L).setFill(N).setStroke(J.series.stroke);
N.setFilter&&J.series.filter&&N.setFilter(J.series.filter);u.dyn.fill=N.getFill();u.dyn.stroke=N.getStroke();if(w){var O={element:"column",index:K,run:u,shape:N,shadow:M,cx:F.x+0.5,cy:F.y,x:B?K:u.data[K].x,y:B?u.data[K]:u.data[K].y};this._connectEvents(O);x[K]=O}!isNaN(F.py)&&F.py>g&&(L.height=H-f(F.py));this.createLabel(d,E,L,J);this.animate&&this._animateColumn(N,a.height-b.b-A,I)}}}this._eventSeries[u.name]=x;u.dirty=!1}}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,a,b);return this},
getValue:function(a,b,c,d){d?(c="number"==typeof a?a:a.y,a=b):(c=a.y,a=a.x-1);return{x:a,y:c}},getBarProperties:function(){var a=e.calculateBarSize(this._hScaler.bounds.scale,this.opt);return{gap:a.gap,width:a.size,thickness:0}},_animateColumn:function(a,b,c){0==c&&(c=1);h.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[0,b-b/c],end:[0,0]},{name:"scale",start:[1,1/c],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"common/widgets/Dialog":function(){define(["dijit/Dialog",
"dojo/_base/lang","./_Buttons"],function(l,m,g){return l.createSubclass([g],{"class":"forecast",duration:0,buildRendering:function(){this.inherited(arguments);this.buttonsNode.classList.add("dijitDialogPaneActionBar");this.domNode.classList.add("forecast")}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(l){return l})},"forecast/widgets/DataGrid":function(){define("common/widgets/_HandlesMixin common/widgets/form/NumberInput common/util dijit/_WidgetBase dijit/registry dojo/dom-construct dojo/number dojo/i18n!common/nls/common".split(" "),
function(l,m,g,k,f,d,e,c){return k.createSubclass([l],{baseClass:"data-grid",dataName:null,numColumns:1,places:1,percentPlaces:1,constructor:function(){this._gridHandles=new l},buildRendering:function(){this.inherited(arguments);this.contentNode=this.containerNode=this.domNode;this._gridNode=d.create("div",{className:"grid"},this.domNode)},destroy:function(){this._gridHandles.removeHandles();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);var b=this;this.domNode.classList.add(this.dataName);
var a=this.dataName,c=this.prefix;c||(c=this.prefix=a+".");this.on("tbody tr:click",function(a){for(a=a.target;"TR"!==a.tagName;)a=a.parentElement;var c=b.dataName;a.hasAttribute("data-"+c)&&b.emit("select-"+c,{detail:{id:b._getRowId(a)}})});this.on("input-change",function(a){b.setItemValue(a.detail.name,a.detail.value)})},getItemIds:function(){return this.model["get"+this.dataName+"Ids"]()},getItemName:function(b){return this.model["get"+this.dataName+"Name"](b)},getItemPercent:function(b){return this.model["get"+
this.dataName+"Percent"](b)},getItemValue:function(b){return this.model["get"+this.dataName+"Value"](b)},getTotalValue:function(){return this.model["get"+this.dataName+"Total"]()},getTotalVariance:function(){return this.model["get"+this.dataName+"TotalVariance"]()},getTotalPercent:function(){if("function"===typeof this.model["get"+this.dataName+"TotalPercent"])return this.model["get"+this.dataName+"TotalPercent"]()},setItemValue:function(b,a){"number"===typeof a&&isNaN(a)&&(a=0.001);this.model["set"+
this.dataName+"Value"](b,a)},setItemPercent:function(b,a){this.model["set"+this.dataName+"Percent"](b,a)},_createHeaderRow:function(b){d.create("td",{className:"label",colspan:2},b);d.create("td",{colspan:2,innerHTML:"Rem Dem"},b)},_createRowContent:function(b,a,c){var e=a.id;if(a.fill){a=this.getItemValue(e);var f=d.create("td",{className:"value"},b);(new m({value:a,name:String(e),disabled:this.disabled,constraints:{min:0,max:c,pattern:"#####",places:0}})).placeAt(f);a=this.getItemPercent(e);d.create("td",
{className:"percent",innerHTML:this.formatPercent(a)},b)}else d.create("td",{className:"value",innerHTML:a.value},b),d.create("td",null,b)},_addRow:function(b,a,c){var e=a.fill,f=a.id,g=this.dataName,k={className:f};e&&(k["data-"+g]=f,k.className+=" "+e);b=d.create("tr",k,b);f="swatch";e&&(f+=" "+e);d.create("td",{className:f},b);d.create("td",{className:"label",title:a.name,innerHTML:a.name},b);this._createRowContent(b,a,c)},_createTable:function(b,a,c,e){var f=d.create("div",{className:"table"},
this._gridNode),f=d.create("table",null,f),g=d.create("thead",null,f),g=d.create("tr",null,g);this._createHeaderRow(g);b=b.slice(a,a+c);c=d.create("tbody",null,f);for(var f=this.dataName,k,g=0;g<b.length;g++)k=b[g].id,k={id:k,name:this.getItemName(k),fill:f.toLowerCase()+(a+g)},this._addRow(c,k,e);return c},_getTypeName:function(){return this.dataName[0].toUpperCase()+this.dataName.slice(1)},_getRowId:function(b){return Number(b.getAttribute("data-"+this.dataName))},_updateRow:function(b,a,c){b=this._gridNode.querySelector("tr[data-"+
this.dataName+'\x3d"'+b+'"]');b.querySelector("td.percent").textContent=this.formatPercent(a);a=b.querySelector("td.value");f.findWidgets(a)[0].set("value",c,!1)},_setModelAttr:function(b){this._set("model",b);this.removeHandles();0<this.getItemIds().length&&this._postLoad();var a=this;this.addHandle(b.on("load-complete",function(){a._postLoad()}));this.addHandle(b.on(this.dataName.toLowerCase()+"-change",function(b){b=b.detail;a._updateRow(b.id,b.percent,b.value);a.set("total",a.getTotalValue());
a.set("totalVariance",a.getTotalVariance());a.set("totalPercent",a.getTotalPercent())}))},_postLoad:function(){var b=this,a=this.getItemIds(),d=a.map(function(a){return{id:a,value:b.getItemValue(a),percent:b.getItemPercent(a)}}),e=this.numColumns,a=Math.ceil(a.length/e),f=this.formatNumber(this.getTotalValue());this._destroyGrid();for(var g,k=0,l=0;l<e;l++)k=l*a,g=this._createTable(d,k,k+a,f);this._addRow(g,{id:"total",name:c.total,value:f});this._addRow(g,{id:"variance",name:c.variance,value:0});
this._total=g.querySelector("tr.total td.value");this._totalPercent=g.querySelector("tr.total td.percent");this._variance=g.querySelector("tr.variance td.value")},_destroyGrid:function(){this._gridHandles.removeHandles();f.findWidgets(this._gridNode).forEach(function(b){b.destroyRecursive&&b.destroyRecursive()});this._gridNode.innerHTML=""},_setDisabledAttr:function(b){this._set("disabled",b);f.findWidgets(this.domNode).forEach(function(a){a.set("disabled",b)})},_setSelectedAttr:function(b){var a=
"data-"+this.dataName,c=this._gridNode;Array.prototype.forEach.call(c.querySelectorAll("tbody tr["+a+"]"),function(a){a.classList.remove("selected")});this.domNode.setAttribute(a,b);(b=c.querySelector("tbody tr."+b))&&b.classList.add("selected")},_setTotalAttr:function(b){this._total.textContent=this.formatNumber(b)},_setTotalPercentAttr:function(b){this._totalPercent&&(this._totalPercent.textContent=this.formatPercent(b))},_setTotalVarianceAttr:function(b){this._variance.textContent=this.formatNumber(b);
this._variance.classList[0>b?"add":"remove"]("negative")},formatNumber:function(b,a){return null==b?"":e.format(b,{places:null!=a?a:this.places})},formatPercent:function(b,a){return null==b?"":e.format(b,{places:null!=a?a:this.percentPlaces})}})})},"dojox/charting/plot2d/StackedBars":function(){define(["dojo/_base/declare","./Bars","./commonStacked"],function(l,m,g){return l("dojox.charting.plot2d.StackedBars",m,{getSeriesStats:function(){var k=g.collectStats(this.series),f;k.hmin-=0.5;k.hmax+=0.5;
f=k.hmin;k.hmin=k.vmin;k.vmin=f;f=k.hmax;k.hmax=k.vmax;k.vmax=f;return k},getValue:function(k,f,d,e){e?k=g.getIndexValue(this.series,d,f):(f=k.x-1,k=g.getValue(this.series,d,k.x),k=[k[0]?k[0].y:null,k[1]?k[1]:null]);return{x:f,y:k[0],py:k[1]}}})})},"common/models/_Model":function(){define("dojo/Stateful dojo/Deferred dojo/Evented dojo/_base/lang dojo/date dojo/request dojo/when core/Config".split(" "),function(l,m,g,k,f,d,e,c){return l.createSubclass([g],{_contextName:"forecastContext",Config:c,_metaProperties:[],
constructor:function(b){this._dirty={};this._committedValues={};var a=this;b&&Object.keys(b).filter(function(b){return!a._isMetaProperty(b)}).forEach(function(c){a._committedValues[c]=b[c]});this._loadedDfd=new m},commit:function(){for(var b in this._committedValues)this._committedValues[b]=k.clone(this[b]);this._dirty={}},get:function(b){return"priorityDatesUrl"===b?this._getPriorityDatesUrl("priority"):"watchDatesUrl"===b?this._getPriorityDatesUrl("watch"):this.inherited(arguments)},getUser:function(){return this.Config.get(this._contextName).loginName},
hasUpdatePrivilege:function(){return"Update"===this.Config.get(this._contextName).updatePrivilege},isAdmin:function(){var b=this.Config.get(this._contextName).isAdminUser;return"false"!==b&&!1!==b&&null!=b&&"null"!==b&&"N"!==b},isDirty:function(){for(var b in this._dirty)if(this._dirty[b])return!0;return!1},equalsCommitted:function(b,a){var c=this._committedValues[a];return b===c||b!==b&&c!==c},load:function(){var b=this;this.emit("load-start",{});return this.loading=this._requestGet(this._getLoadUrl(),
{query:this._getLoadQuery()}).then(function(a){b.loading=null;b.postLoad(a);b._loadedDfd.isResolved()||b._loadedDfd.resolve();b.emit("load-complete",{})}).otherwise(function(a){console.error(a.stack||a);throw a;})},loaded:function(){return this._loadedDfd.promise},postLoad:function(b){this.set(b);this._committedValues=k.clone(b);this._dirty={};return b},postSave:function(b){this.commit();return b},revert:function(){this.set(k.clone(this._committedValues));this._dirty={};this.emit("load-complete",
{})},save:function(){var b=this,a=this.toJSON();return a?this._saveRequest(this._getSaveUrl(),{query:this._getSaveQuery(),data:a}).then(function(a){return b.postSave(a)}).otherwise(function(a){b.emit("error",{detail:{error:Error("Error saving: "+a.message)}});throw a;}):e()},set:function(b,a){if(null!=b)return"string"===typeof b&&!this._isMetaProperty(b)&&(!this._dirty[b]&&!this.equalsCommitted(a,b))&&(this._dirty[b]=!0),this.inherited(arguments)},toJSON:function(){var b=this,a={};Object.keys(this).filter(function(a){return!b._isMetaProperty(a)}).map(function(c){var d;
d=b[c];d=null!=d?d.toJSON?d.toJSON():d:d;a[c]=d});return a},_getFromContext:function(b,a){if(null==this[b]){var c=this.Config.get(this._contextName);this[b]=c[a||b]}return this[b]},_getLoadQuery:function(){},_getLoadUrl:function(){throw Error("Models must override _getLoadUrl");},_getSaveQuery:function(){},_getSaveUrl:function(){throw Error("Models must override _getSaveUrl");},_isMetaProperty:function(b){return"_"===b.charAt(0)||-1!==this._metaProperties.indexOf(b)},_marshaDateGetter:function(){if(null==
this.marshaDate){var b=this.Config.get(this._contextName);this.marshaDate=f.add(b.marshaDatePlusOneObj,"day",-1)}return this.marshaDate},_marshaDatePlusOneGetter:function(){null==this.marshaDatePlusOne&&(this.marshaDatePlusOne=this.Config.get(this._contextName).marshaDatePlusOneObj);return this.marshaDatePlusOne},_requestDelete:function(b,a){return this._requestSend(b,a,"del")},_requestGet:function(b,a){a=a||{};var c=this.Config.get(this._contextName),c=k.mixin(null,a,{handleAs:a.handleAs||"json",
headers:k.mixin({"content-type":"application/json"},a.headers),preventCache:!0,query:k.mixin({eid:c.loginName,propcode:c.propertyCode},a.query)});return d.get(b,c)},_requestPost:function(b,a){return this._requestSend(b,a,"post")},_requestPut:function(b,a){return this._requestSend(b,a,"put")},_requestSend:function(b,a,c){a=a||{};var e=this.Config.get(this._contextName);a=k.mixin(null,a,{handleAs:a.handleAs||"json",headers:k.mixin({"content-type":"application/json"},a.headers),query:k.mixin({eid:e.loginName,
propcode:e.propertyCode},a.query)});"object"===typeof a.data&&(a.data=JSON.stringify(a.data));return d[c](b,a)},_saveRequest:function(b,a){return this._requestPut(b,a)}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(l,m,g,
k,f,d,e,c,b,a,h,q,n,v,r,t,s,p){var D=m("dijit._MasterTooltip",[v,r],{duration:q.defaultDuration,templateString:s,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new t(this.domNode);this.fadeIn=g.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=g.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,d,h,f){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==
a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;f&&this.set("textDir",f);this.containerNode.align=h?"right":"left";var g=n.around(this.domNode,b,d&&d.length?d:A.defaultPosition,!h,c.hitch(this,"orient")),p=g.aroundNodePos;"M"==g.corner.charAt(0)&&"M"==g.aroundCorner.charAt(0)?(this.connectorNode.style.top=p.y+(p.h-this.connectorNode.offsetHeight>>1)-g.y+"px",this.connectorNode.style.left=""):"M"==g.corner.charAt(1)&&"M"==g.aroundCorner.charAt(1)?this.connectorNode.style.left=
p.x+(p.w-this.connectorNode.offsetWidth>>1)-g.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,e,f){this.connectorNode.style.top="";var g=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var n=d.position(this.domNode);if(h("ie")||h("trident"))n.w+=2;var p=Math.min(Math.max(e,1),n.w);d.setMarginBox(this.domNode,{w:p});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=d.position(a),b=this.connectorNode.offsetHeight,a.h>g?(this.connectorNode.style.top=g-(f.h+b>>1)+"px",this.connectorNode.style.bottom=""):
(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,n.w-e)},_onShow:function(){h("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML=
"";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});h("dojo-bidi")&&D.extend({_setAutoTextDir:function(a){this.applyTextDir(a);l.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});p.showTooltip=function(a,b,c,d,h){c&&(c=l.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));A._masterTT||(p._masterTT=
A._masterTT=new D);return A._masterTT.show(a,b,c,d,h)};p.hideTooltip=function(a){return A._masterTT&&A._masterTT.hide(a)};var A=m("dijit.Tooltip",v,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(d){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(c.isArrayLike(d)?d:d?[d]:[],function(a){return k.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(d){d=k.byId(d,this.ownerDocument);
var h=this.selector,e=h?function(b){return a.selector(h,b)}:function(a){return a},f=this;return[a(d,e(b.enter),function(){f._onHover(this)}),a(d,e("focusin"),function(){f._onHover(this)}),a(d,e(b.leave),c.hitch(f,"_onUnHover")),a(d,e("focusout"),c.hitch(f,"_onUnHover"))]},this);this._set("connectId",d)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,
1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);
this.close()},open:function(a){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);b&&(A.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(A.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();l.forEach(this._connections||
[],function(a){l.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});A._MasterTooltip=D;A.show=p.showTooltip;A.hide=p.hideTooltip;A.defaultPosition=["after-centered","before-centered"];return A})},"forecast/views/DemandSegment":function(){define("dijit/_WidgetBase common/widgets/form/Button common/widgets/_Buttons common/widgets/_HandlesMixin ./RoompoolGrid ./RoompoolChart ./SegmentGrid ./SegmentChart dojo/_base/declare dojo/dom-construct dojo/i18n!common/nls/common dojo/date/stamp dojo/Stateful dojo/_base/lang dojo/aspect dojo/date dojo/on dojo/number dojo/topic dijit/registry widget/OverlayMixin dojo/query".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p,D,A,w){return l.createSubclass([g,k,w],{baseClass:"demand-segment",model:null,constructor:function(){this.buttons=[{label:h.cancel,name:"cancel"},{label:h.redistribute,name:"redistribute"}]},buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;var b=a.create("div",{className:"content"},this.buttonsNode,"before");a.create("div",{className:"overlay"},b);var g=a.create("div",{className:"row"},b),b=this._segmentNode=a.create("div",
{className:"demand"},g);a.create("div",{className:"underlay",innerHTML:h.noData},b);a.create("div",{className:"overlay"},b);a.create("div",{className:"header",innerHTML:h.demandSegment},b);b=a.create("div",{className:"content"},b);(this._segmentChart=new c).placeAt(b);(this._segmentGrid=new e).placeAt(b);g=this._roompoolNode=a.create("div",{className:"roompool"},g);a.create("div",{className:"underlay",innerHTML:h.noData},g);a.create("div",{className:"overlay"},g);a.create("div",{className:"header",
innerHTML:h.roomCollection},g);b=a.create("div",{className:"content"},g);(this._roompoolChart=new d).placeAt(b);(this._roompoolGrid=new f).placeAt(b)},postCreate:function(){this.inherited(arguments);var a=this;this.on("action",function(b){function c(a){var b=!0,e=Math.round(d["get"+a+"TotalVariance"]()),f=d["dirty"+a+"Count"](),g=d["get"+a+"Ids"]().length,n=Math.round(d["getOriginal"+a+"Total"]()),p=Math.round(d["getDirty"+a+"Total"]());0<f&&p>n?(D.publish("/forecast/message",h["totalExceededFor"+
a+"s"],!0,!0),b=!1):f===g&&0!==e&&(D.publish("/forecast/message",h["varianceIn"+a+"sMustBeZero"],!0,!0),b=!1);return b}var d=a.model;switch(b.detail.name){case "cancel":a.model.isDirty()?D.publish("/forecast/confirm",{title:h.discardChanges,message:h.youHaveUnsavedChanges,confirmText:h.discard,onConfirm:function(){a.model.revert();a._postLoad()}}):a.emit("cancel",{});break;case "redistribute":if(!d.isValid())break;c("Segment")&&c("Roompool")&&a.redistribute()}});this.on("select-segment",function(b){a._selectSegment(b.detail.id)});
this.on("select-roompool",function(b){a._selectRoompool(b.detail.id)});this._redistributeButton=this.buttons[1]},hide:function(){this.isOpen=!1;this.domNode.classList.add("hidden")},isDirty:function(){return this.model.isDirty()},isValid:function(){return!this.model.needsRedistribution()},redistribute:function(a){this.model.redistribute(a)},save:function(){return this.model.save()},show:function(){this.isOpen=!0;this.domNode.classList.remove("hidden")},_getDateAttr:function(){return this.model.get("date")},
_selectSegment:function(a){var b=this.model.getSegmentIds().indexOf(a);this._segmentNode.setAttribute("data-selected-segment",b);this._segmentChart.set("selected",a)},_selectRoompool:function(a){a=this.model.getRoompoolIds().indexOf(a);this._roompoolNode.setAttribute("data-selected-roompool",a)},_setDisabledAttr:function(a){this._set("disabled",a);A.findWidgets(this.domNode).forEach(function(b){b.set("disabled",a)})},_setHalfDisabled:function(a,b){a.classList[b?"add":"remove"]("disabled");this.disabled||
A.findWidgets(a).forEach(function(a){a.set("disabled",b)})},_setHalfHidden:function(a,b){a.classList[b?"add":"remove"]("hidden")},_setModelAttr:function(a){this.removeHandles();this._set("model",a);this._segmentChart.set({model:a});this._segmentGrid.set({model:a});this._roompoolChart.set({model:a});this._roompoolGrid.set({model:a});var b=this;this.addHandle(a.on("load-start",function(){b.showOverlay(a.loading)}));this.addHandle(a.on("load-complete",function(c){b._postLoad(c.detail);b._selectSegment(a.getSegmentIds()[0])}));
this.addHandle(a.on("load-error",function(a){a=a.detail.error.message;console.error(a.stack||a);D.publish("/forecast/message","Error loading demand data: "+a.message,!0,!0)}));this.addHandle(a.on("segment-change",function(){b._setHalfDisabled(b._roompoolNode,!0);b._redistributeButton.set("disabled",!a.isValid());b.emit("data-change",{})}));this.addHandle(a.on("roompool-change",function(){b._setHalfDisabled(b._segmentNode,!0);b._redistributeButton.set("disabled",!a.isValid());b.emit("data-change",
{})}));a.loading?this.showOverlay(a.loading):this._postLoad()},_setNeedsRedistributeAttr:function(a){this.domNode.classList[a?"add":"remove"]("needs-redistribute");this._redistributeButton.set("disabled",!a);this._set("needsRedistribute",a)},_postLoad:function(a){if(this.isOpen){this.domNode.classList.remove("loading");var b=this.model,c=!a||"redistribute"!==a.reason,d=this.appliedDemand&&null!=this.appliedDemand.value&&b.getSegmentTotal()!==this.appliedDemand.value;c&&d&&b.redistribute(this.appliedDemand.value);
this._segmentTotal=b.getSegmentTotal();this._roompoolTotal=b.getRoompoolTotal();this._setHalfHidden(this._segmentNode,0===b.getSegmentIds().length);this._setHalfHidden(this._roompoolNode,0===b.getRoompoolIds().length);this._setHalfDisabled(this._roompoolNode,!1);this._setHalfDisabled(this._segmentNode,!1);this.set("needsRedistribute",!1);a&&"redistribute"===a.reason&&this.emit("redistribution-complete",{detail:{date:this.model.get("date")}})}}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html".split(" "),
function(l,m,g,k,f,d,e,c,b){return l("dijit.form.DropDownButton",[d,e,c],{baseClass:"dijitDropDownButton",templateString:b,_fillContent:function(){if(this.srcNodeRef){var a=g("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=g("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=k.byNode(a));delete this.dropDownContainer}this.dropDown&&f.hide(this.dropDown);this.inherited(arguments)}},
isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",m.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(l,m,g,k,f,d,e){return l("dijit.form._FormValueMixin",e,{readOnly:!1,
_setReadOnlyAttr:function(c){m.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(c,b){this._handleOnChange(c,b)},_handleOnChange:function(c,b){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},
"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(l,m,g,k,f,d,e,c,b,a){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);g.set(this.focusNode,
"disabled",b);this.valueNode&&g.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(f.isArray(b)?b:[b],function(b){b=this[b];c("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},
_onFocus:function(a){if("mouse"==a&&this.isFocusable())var d=this.own(e(this.focusNode,"focus",function(){k.remove();d.remove()}))[0],g=c("pointer-events")?"pointerup":c("MSPointer")?"MSPointerUp":c("touch-events")?"touchend, mouseup":"mouseup",k=this.own(e(this.ownerDocumentBody,g,f.hitch(this,function(a){k.remove();d.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){b.scrollIntoView(this.domNode)});this.inherited(arguments)},
isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=k.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=
this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&
(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Evented"],function(l,m,g){return m("dojox.charting.action2d.Base",g,{constructor:function(g,f){this.chart=g;this.plot=f?l.isString(f)?this.chart.getPlot(f):f:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare",
"dojo/i18n","./MappedTextBox"],function(l,m,g){return l("dijit.form.RangeBoundTextBox",g,{rangeMessage:"",rangeCheck:function(g,f){return("min"in f?0<=this.compare(g,f.min):!0)&&("max"in f?0>=this.compare(g,f.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var g=this.get("value");if(null==g)return!1;var f=!1;"min"in this.constraints&&(f=this.constraints.min,f=0>this.compare(g,"number"==typeof f&&0<=f&&0!=g?0:f));!f&&"max"in
this.constraints&&(f=this.constraints.max,f=0<this.compare(g,"number"!=typeof f||0<f?f:0));return f},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(g){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(g))},getErrorMessage:function(g){var f=this.get("value");return null!=f&&""!==f&&("number"!=typeof f||!isNaN(f))&&!this.isInRange(g)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);
this.rangeMessage||(this.messages=m.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q){return m("dojo.dnd.Moveable",[d],{handle:"",delay:0,skip:!1,constructor:function(a,c){this.node=k.byId(a);c||(c={});this.handle=c.handle?k.byId(c.handle):
null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:h;this.events=[e(this.handle,b.press,g.hitch(this,"onMouseDown")),e(this.handle,"dragstart",g.hitch(this,"onSelectStart")),e(this.handle,"selectstart",g.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!a.isFormElement(c)){if(this.delay)this.events.push(e(this.handle,
b.move,g.hitch(this,"onMouseMove")),e(this.handle,b.release,g.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);c.stopPropagation();c.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(b){if(!this.skip||
!a.isFormElement(b))b.stopPropagation(),b.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){c.publish("/dnd/move/start",a);f.add(q.body(),"dojoMove");f.add(this.node,"dojoMoveItem")},onMoveStop:function(a){c.publish("/dnd/move/stop",a);f.remove(q.body(),"dojoMove");f.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},
onMoved:function(){}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n){l=l("dijit.TooltipDialog",[c,h,a,b],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:q,_setTitleAttr:"containerNode",
postCreate:function(){this.inherited(arguments);this.own(d(this.containerNode,"keydown",f.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft",
"BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];m.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);e.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+
(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==k.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==k.TAB){var b=a.target;this._getFocusItems(this.containerNode);this._firstFocusItem==this._lastFocusItem?
(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(e.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(e.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}});g("dojo-bidi")&&l.extend({_setTitleAttr:function(a){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||
this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return l})},"forecast/models/Forecast":function(){define("dojo/_base/lang dojo/date dojo/date/stamp dojo/io-query dojo/promise/all dojo/request dojo/Deferred dojo/when core/Config common/util common/models/_Model common/models/_ImplementMixin common/models/UiOrder ./AppliedDemand ./DemandSegment ./Notes".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t){return h.createSubclass([q],
{dateIncrementDelay:500,minDate:null,maxDate:null,targetDate:null,Config:b,_metaProperties:["Config"],constructor:function(){this._demandSegments={};this._requestedDates=[];this._uiOrderModel=new n({_contextName:this._contextName})},clearOverrides:function(a,b){b=b||a;var c=this.Config.get(this._contextName),d=this.runs[0].stays,h=this,e=c.contextPath+"api/rest/demand/uncRemDem";return this.save().then(function(){return h._requestDelete(e,{query:{startdate:a,enddate:b}}).then(function(){d.filter(function(c){return c.stayDate>=
a&&c.stayDate<=b}).forEach(function(a){h._requestedDates[a]=void 0});return h.loadDates(a,b)})})},getAppliedDemand:function(a){a=this.getDemandData(a);return!a?null:a.appliedDemand},getDemandData:function(a){if(!this.dateDemandDataMap)return null;a=this.dateDemandDataMap[a];return!a?null:a.current},getDemandSegmentModel:function(b){var c=this._demandSegments[b],d=this,h=this.Config.get(this._contextName);c||(c=this._demandSegments[b]=new r({segmentNames:this._uiOrderModel.getDemandForecastSegmentNames(),
roompoolNames:this._uiOrderModel.getRoompoolCollectionNames(),standardSegment:this._uiOrderModel.getStandardSegment(),standardRoompool:this._uiOrderModel.getStandardRoomCollection(),date:b,dataDate:a.toISODate(m.add(h.marshaDatePlusOneObj,"day",-1))}),c.load(),c._forecastListener=c.on("load-complete",function(a){a.detail&&"redistribute"===a.detail.reason&&d.emit("data-change",{detail:{date:b,demandSegment:c}})}));return c},getExportUrl:function(b){var c=this.Config.get(this._contextName),d=a.toISODate(m.add(c.marshaDatePlusOneObj,
"day",-1)),h=new Date(c.marshaDatePlusOneObj.getTime());h.setDate(1);h=a.toISODate(h);b=m.add(g.fromISOString(b),"week",2);b=a.toISODate(b);return c.contextPath+"api/oyextract/v2/properties/"+c.propertyCode+"/runs/latest/stays?startdate\x3d"+h+"\x26enddate\x3d"+b+"\x26datadate\x3d"+d},getUiOrder:function(){return this._uiOrderModel},incrementTargetDate:function(a){a=m.add(this.targetDate,"day",a);0<m.compare(a,this.get("maxDate"),"date")?a=this.maxDate:0>m.compare(a,this.get("minDate"),"date")&&(a=
this.minDate);this.set("targetDate",a)},isDirty:function(){var a=this.dateDemandDataMap;return a&&Object.keys(a).some(function(b){return a[b].current.appliedDemand.isDirty()})},loadDates:function(b,c){function d(){"string"!==typeof b&&(b=a.toISODate(b));"string"!==typeof c&&(c=a.toISODate(c));var e=[];h._uiOrderLoadPromise||(h._uiOrderLoadPromise=h._uiOrderModel.load());e.push(h._uiOrderLoadPromise);e.push(h.loadForecastData(b,c));return f(e).then(function(a){h.postLoad(a[1]);h.emit("load-complete",
{detail:{startDate:b,endDate:c}})}).otherwise(function(a){console.error(a.stack||a);h.emit("error",{detail:{error:Error("Error loading data: "+a.message)}});throw a;})}var h=this;h.emit("load-start",{detail:{startDate:b,endDate:c}});return this.loading=this.loading?this.loading.then(function(){return d()}):d()},loadForecastData:function(b,c){var d=this.Config.get(this._contextName),h=a.toISODate(m.add(d.marshaDatePlusOneObj,"day",-1));b||(b=c=h);return this._requestGet(d.contextPath+"api/v1/forecast/properties/"+
d.propertyCode+"/run/latest/stays",{query:{startdate:b,enddate:c,datadate:h,embedded:"ui"}})},postLoad:function(a){function b(a,c){if(a&&c in a)return a[c]}function c(a,d){return d?b(a.stly,"rooms"):"actuals"in a?b(a.actuals,"rooms"):b(a.onTheBooks,"rooms")}function d(a,c){return c?b(a.stly,"addlDem"):"actuals"in a?b(a.actuals,"addlDem"):b(a.additionalDemand,"demand")}function h(a,c){if(!c)return(b(a.groupProjection,"totalDefTentRooms")||0)+(b(a.allotmentResponse,"allotmentCount")||b(a.allotmentResponse,
"userOvrdFcst")||0)}var e=this;this.runId=null;if(a.runs&&0<a.runs.length){var f=a.runs[0].stays;this.runId=a.runs[0].runId;f.forEach(function(a){var f=a.stayDate,g=d(a)||0,n=c(a)||0,k=h(a)||0,q=b(a.demand,"system")||"",r;r=b(a.demand,"applied");a.current={addlDemand:g,transBooked:n,groupProj:k,remDem:q,appliedRemDem:r||0};a.current.appliedDemand=new v(l.mixin({date:f},a.demand));a.current.appliedDemand.set("overridePreset",a.presets);a.current.appliedDemand.watch(function(){e.emit("data-change",
{detail:{date:f,appliedDemand:this}})});a.lastYear={addlDemand:d(a,!0)||0,transBooked:c(a,!0)||0,groupProj:h(a,!0)||0,remDem:b(a.stly,"uncRemDem")||""};a.notes=new t({notes:a.notes,date:f});a.notes.watch("notes",function(){e.emit("data-change",{detail:{date:f,notes:a.notes}})})});var g=this.dateDemandDataMap,n=!1;this.dateDemandDataMap||(n=!0,g=this.dateDemandDataMap={});f.forEach(function(a){g[a.stayDate]=a});n&&(a.status||(a.status={}),a.lastRunTime=a.status.lastUpdTs,this.set(a))}return a},postImplement:function(){this._commitCurrentData()},
postSave:function(){return this.reload()},refresh:function(){var a=this,b=this.Config.get(this._contextName).contextPath+"api/rest/refresh",c={eid:this.Config.get(this._contextName).loginName,propCode:this.Config.get(this._contextName).propertyCode};return this._requestPut(b,{data:c}).then(function(b){a.generatedRunId=b.generatedRunId;return a.reload()})},reload:function(){Object.keys(this._demandSegments).forEach(function(a){this._demandSegments[a]._forecastListener.remove()},this);this.dateDemandDataMap=
null;this._demandSegments={};this._requestedDates=[];this._handleTargetDateChange();return this.loading},revert:function(){var a=this.dateDemandDataMap;return Object.keys(a).forEach(function(b){var c=a[b].current.appliedDemand;c.isDirty()&&c.revert();(b=this._demandSegments[b])&&b.isDirty()&&b.revert()},this)},toJSON:function(){var a=this._getDirtyModelData(),b=this.Config.get(this._contextName),a=a.map(function(a){var b=a.demandSegment.toJSON();return{date:a.date,data:b,lockState:a.appliedDemand.get("lockState")}},
[]),c;0<a.length&&(c={property:b.propertyCode,runs:[{runId:this.runId,stays:a.map(function(a){return{stayDate:a.date,lockState:a.lockState,roompoolcollections:a.data.map(function(a){return{id:a.id,segments:a.segments.map(function(a){return{id:a.id,demand:{srcInd:"D",uncRemDem:null,appliedRemainingForecast:a.appliedRemainingForecast}}})}})}})}]});return c},_capacityGetter:function(){var a=0;this._uiOrderModel.getRoomPools().forEach(function(b){a+=b.capacity});return a},_commitCurrentData:function(){this._getDirtyModelData().forEach(function(a){a.appliedDemand.commit();
a.demandSegment.commit()})},_getDirtyModelData:function(){var a=this.dateDemandDataMap;return Object.keys(a).filter(function(b){return a[b].current.appliedDemand.isDirty()?!0:(b=this._demandSegments[b])&&b.isDirty()?!0:!1},this).map(function(b){return{date:b,appliedDemand:a[b].current.appliedDemand,demandSegment:this._demandSegments[b]}},this)},_getPriorityDatesUrl:function(a){var b=this.Config.get(this._contextName);return b.contextPath+"resource/property/"+b.propertyCode+"/"+a+"dates"},_getImplementUrl:function(){return this.Config.get(this._contextName).contextPath+
"api/rest/implement"},_getSaveQuery:function(){return{embedded:"roompoolcollection.uisegment"}},_getSaveUrl:function(){return this.Config.get(this._contextName).contextPath+"api/rest/demand/uncRemDem"},_handleTargetDateChange:function(){function a(b){var d=c.get("minDate"),h=c.get("maxDate");return 0>m.compare(b,d,"date")?d:0<m.compare(b,h,"date")?h:b}function b(a){var d=c.get("minDate"),h=c.get("maxDate");a=m.difference(d,a,"day");var e=0,f=m.difference(c.get("minDate"),h,"day"),g=a-1,h=a+1,n=c._requestedDates,
k,q;if(n[a]){for(;0<g&&n[g];)g--;for(g++;h<f&&n[h];)h++;h--;0<g&&60>=a-g?(h=Math.max(0,g-1),g=Math.max(0,g-90),k=m.add(d,"day",g),q=m.add(d,"day",h)):h<f&&60>=h-a&&(g=Math.min(f,h+1),h=Math.min(f,h+90),k=m.add(d,"day",g),q=m.add(d,"day",h))}else{e=Math.max(a-90,e);for(f=Math.min(a+90,f);h<f&&!n[h];)h++;for(;g>e&&!n[g];)g--;k=m.add(d,"day",g);q=m.add(d,"day",h)}if(k){for(d=g;d<=h;d++)n[d]=!0;return{startDate:k,endDate:q}}}var c=this;if(this.targetDate){var d=a(this.targetDate);(d=b(d))&&this.loadDates(d.startDate,
d.endDate)}},_marshaDateGetter:function(){return this.Config.get(this._contextName).marshaDatePlusOneObj},_minDateGetter:function(){if(null==this.minDate){var a=this.Config.get(this._contextName),a=m.add(a.marshaDatePlusOneObj,"day",-1);a.setFullYear(a.getFullYear()-1);a.setDate(1);a.setMonth(0);this.minDate=a}return this.minDate},_maxDateGetter:function(){if(null==this.maxDate){var a=this.Config.get(this._contextName);this.maxDate=g.fromISOString(a.kGroup)}return this.maxDate},_priorityDatesUrlGetter:function(){return this._getPriorityDatesUrl("priority")},
_statusGetter:function(){return this.status||{}},_targetDateGetter:function(){null==this.targetDate&&(this.targetDate=this.Config.get(this._contextName).marshaDatePlusOneObj);return this.targetDate},_targetDateSetter:function(a){this.targetDate=a;this._handleTargetDateChange()},_updateEnabledGetter:function(){var a=this._getFromContext("updatePrivilege");return a?0===a.toLowerCase().indexOf("update"):!1},_watchDatesUrlGetter:function(){return this._getPriorityDatesUrl("watch")}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],
function(l){return function(m,g){function k(d){d=l.filter(d,m);var e=g&&g.sort;e&&d.sort("function"==typeof e?e:function(b,a){for(var c,d=0;c=e[d];d++){var f=b[c.attribute],g=a[c.attribute],f=null!=f?f.valueOf():f,g=null!=g?g.valueOf():g;if(f!=g)return!!c.descending==(null==f||f>g)?-1:1}return 0});if(g&&(g.start||g.count)){var c=d.length;d=d.slice(g.start||0,(g.start||0)+(g.count||Infinity));d.total=c}return d}switch(typeof m){default:throw Error("Can not query with a "+typeof m);case "object":case "undefined":var f=
m;m=function(d){for(var e in f){var c=f[e];if(c&&c.test){if(!c.test(d[e],d))return!1}else if(c!=d[e])return!1}return!0};break;case "string":if(!this[m])throw Error("No filter function "+m+" was found in store");m=this[m];case "function":}k.matches=m;return k}})},"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),function(l,m,g,k,f,d,e,
c,b,a,h){return g("dojox.charting.plot2d.Pie",[k,f],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(b,c){this.opt=l.clone(this.defaultParams);a.updateWithObject(this.opt,c);a.updateWithPattern(this.opt,c,this.optionalParams);this.axes=[];this.run=
null;this.dyn=[]},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},setAxis:function(a){return this},addSeries:function(a){this.run=a;return this},getSeriesStats:function(){return l.delegate(d.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(a,d){if(!this.dirty)return this;this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var f=this.group,g=this.chart.theme;if(!this.run||!this.run.data.length)return this;
var k=(a.width-d.l-d.r)/2,s=(a.height-d.t-d.b)/2,p=Math.min(k,s),D="font"in this.opt?this.opt.font:g.series.font,A,w=c._degToRad(this.opt.startAngle),C=w,z,u,G,x,B=this.run.data,K=this.events();this.dyn=[];"radius"in this.opt&&(p=this.opt.radius,x=p-this.opt.labelOffset);var y={cx:d.l+k,cy:d.t+s,r:p};if(this.opt.shadow||g.shadow){z=this.opt.shadow||g.shadow;var E=l.clone(y);E.cx+=z.dx;E.cy+=z.dy;f.createCircle(E).setFill(z.color).setStroke(z)}if(f.setFilter&&(this.opt.filter||g.filter))f.createCircle(y).setFill(g.series.stroke).setFilter(this.opt.filter||
g.filter);if("number"==typeof B[0]){z=b.map(B,"x ? Math.max(x, 0) : 0");if(b.every(z,"\x3c\x3d 0"))return f.createCircle(y).setStroke(g.series.stroke),this.dyn=m.map(z,function(){return{}}),this;u=b.map(z,"/this",b.foldl(z,"+",0));this.opt.labels&&(G=m.map(u,function(a){return 0<a?this._getLabel(100*a)+"%":""},this))}else{z=b.map(B,"x ? Math.max(x.y, 0) : 0");if(b.every(z,"\x3c\x3d 0"))return f.createCircle(y).setStroke(g.series.stroke),this.dyn=m.map(z,function(){return{}}),this;u=b.map(z,"/this",
b.foldl(z,"+",0));this.opt.labels&&(G=m.map(u,function(a,b){if(0>a)return"";var c=B[b];return"text"in c?c.text:this._getLabel(100*a)+"%"},this))}var F=b.map(B,function(a,b){var c=[this.opt,this.run];null!==a&&"number"!=typeof a&&c.push(a);this.opt.styleFunc&&c.push(this.opt.styleFunc(a));return g.next("slice",c,!0)},this);this.opt.labels&&(A=D?e.normalizedLength(e.splitFontString(D).size):0,z=b.foldl1(b.map(G,function(a,b){return e._base._getTextBox(a,{font:F[b].series.font}).w},this),"Math.max(a, b)")/
2,0>this.opt.labelOffset&&(p=Math.min(k-2*z,s-A)+this.opt.labelOffset),x=p-this.opt.labelOffset);var H=Array(u.length);m.some(u,function(b,h){if(0>b)return!1;if(0==b)return this.dyn.push({fill:null,stroke:null}),!1;var e=B[h],g=F[h],k;if(1<=b){k=this._plotFill(g.series.fill,a,d);k=this._shapeFill(k,{x:y.cx-y.r,y:y.cy-y.r,width:2*y.r,height:2*y.r});k=this._pseudoRadialFill(k,{x:y.cx,y:y.cy},y.r);var l=f.createCircle(y).setFill(k).setStroke(g.series.stroke);this.dyn.push({fill:k,stroke:g.series.stroke});
K&&(e={element:"slice",index:h,run:this.run,shape:l,x:h,y:"number"==typeof e?e:e.y,cx:y.cx,cy:y.cy,cr:p},this._connectEvents(e),H[h]=e);return!1}var r=C+2*b*Math.PI;h+1==u.length&&(r=w+2*Math.PI);var l=r-C,A=y.cx+p*Math.cos(C),m=y.cy+p*Math.sin(C),s=y.cx+p*Math.cos(r),t=y.cy+p*Math.sin(r);k=c._degToRad(this.opt.fanSize);if(g.series.fill&&"radial"===g.series.fill.type&&"fan"===this.opt.radGrad&&l>k){var E=f.createGroup(),D=Math.ceil(l/k),I=l/D;k=this._shapeFill(g.series.fill,{x:y.cx-y.r,y:y.cy-y.r,
width:2*y.r,height:2*y.r});for(var z=0;z<D;++z){var x=0==z?A:y.cx+p*Math.cos(C+(z-0.2)*I),J=0==z?m:y.cy+p*Math.sin(C+(z-0.2)*I),G=z==D-1?s:y.cx+p*Math.cos(C+(z+1+0.2)*I),M=z==D-1?t:y.cy+p*Math.sin(C+(z+1+0.2)*I);E.createPath().moveTo(y.cx,y.cy).lineTo(x,J).arcTo(p,p,0,I>Math.PI,!0,G,M).lineTo(y.cx,y.cy).closePath().setFill(this._pseudoRadialFill(k,{x:y.cx,y:y.cy},p,C+(z+0.5)*I,C+(z+0.5)*I))}E.createPath().moveTo(y.cx,y.cy).lineTo(A,m).arcTo(p,p,0,l>Math.PI,!0,s,t).lineTo(y.cx,y.cy).closePath().setStroke(g.series.stroke);
l=E}else l=f.createPath().moveTo(y.cx,y.cy).lineTo(A,m).arcTo(p,p,0,l>Math.PI,!0,s,t).lineTo(y.cx,y.cy).closePath().setStroke(g.series.stroke),(k=g.series.fill)&&"radial"===k.type?(k=this._shapeFill(k,{x:y.cx-y.r,y:y.cy-y.r,width:2*y.r,height:2*y.r}),"linear"===this.opt.radGrad&&(k=this._pseudoRadialFill(k,{x:y.cx,y:y.cy},p,C,r))):k&&"linear"===k.type&&(k=this._plotFill(k,a,d),k=this._shapeFill(k,l.getBoundingBox())),l.setFill(k);this.dyn.push({fill:k,stroke:g.series.stroke});K&&(e={element:"slice",
index:h,run:this.run,shape:l,x:h,y:"number"==typeof e?e:e.y,cx:y.cx,cy:y.cy,cr:p},this._connectEvents(e),H[h]=e);C=r;return!1},this);if(this.opt.labels){var I=h("dojo-bidi")&&this.chart.isRightToLeft();if("default"==this.opt.labelStyle)C=w,m.some(u,function(b,c){if(0>=b)return!1;var d=F[c];if(1<=b)return this.renderLabel(f,y.cx,y.cy+A/2,G[c],d,0<this.opt.labelOffset),!0;var h=C+2*b*Math.PI;c+1==u.length&&(h=w+2*Math.PI);if(this.opt.omitLabels&&0.001>h-C)return!1;var e=(C+h)/2,g=y.cx+x*Math.cos(e),
e=y.cy+x*Math.sin(e)+A/2;this.renderLabel(f,I?a.width-g:g,e,G[c],d,0<this.opt.labelOffset);C=h;return!1},this);else if("columns"==this.opt.labelStyle){var C=w,J=this.opt.omitLabels,M=[];m.forEach(u,function(a,b){var c=C+2*a*Math.PI;b+1==u.length&&(c=w+2*Math.PI);var d=(C+c)/2;M.push({angle:d,left:0>Math.cos(d),theme:F[b],index:b,omit:J?0.001>c-C:!1});C=c});k=e._base._getTextBox("a",{font:D}).h;this._getProperLabelRadius(M,k,1.1*y.r);m.forEach(M,function(b,c){if(!b.omit){var d=y.cx-2*y.r,h=y.cx+2*
y.r,g=e._base._getTextBox(G[c],{font:b.theme.series.font}).w,k=y.cx+b.labelR*Math.cos(b.angle),n=y.cy+b.labelR*Math.sin(b.angle),h=b.left?d+g:h-g,d=b.left?d:h,p=f.createPath().moveTo(y.cx+y.r*Math.cos(b.angle),y.cy+y.r*Math.sin(b.angle));Math.abs(b.labelR*Math.cos(b.angle))<2*y.r-g&&p.lineTo(k,n);p.lineTo(h,n).setStroke(b.theme.series.labelWiring);this.renderLabel(f,I?a.width-g-d:d,n,G[c],b.theme,!1,"left")}},this)}}var L=0;this._eventSeries[this.run.name]=b.map(B,function(a){return 0>=a?null:H[L++]});
h("dojo-bidi")&&this._checkOrientation(this.group,a,d);return this},_getProperLabelRadius:function(a,b,c){var d,h,e=1,f=1;if(1==a.length)a[0].labelR=c;else{for(var g=0;g<a.length;g++){var k=Math.abs(Math.sin(a[g].angle));a[g].left?e>=k&&(e=k,d=a[g]):f>=k&&(f=k,h=a[g])}d.labelR=h.labelR=c;this._calculateLabelR(d,a,b);this._calculateLabelR(h,a,b)}},_calculateLabelR:function(a,b,c){for(var d=a.index,h=b.length,e=a.labelR;!(b[d%h].left^b[(d+1)%h].left);)b[(d+1)%h].omit||(e=(Math.sin(b[d%h].angle)*e+(b[d%
h].left?-c:c))/Math.sin(b[(d+1)%h].angle),e=e<a.labelR?a.labelR:e,b[(d+1)%h].labelR=e),d++;d=a.index;for(h=0==d?h-1:d-1;!(b[d].left^b[h].left);)b[h].omit||(e=(Math.sin(b[d].angle)*e+(b[d].left?c:-c))/Math.sin(b[h].angle),e=e<a.labelR?a.labelR:e,b[h].labelR=e),d--,h--,d=0>d?d+b.length:d,h=0>h?h+b.length:h}})})},"forecast/views/SegmentGrid":function(){define(["../widgets/DataGrid"],function(l){return l.createSubclass([],{"class":"segment-grid",dataName:"Segment",numColumns:2,places:0,percentPlaces:0,
_setVarianceAttr:function(l){this._variance.textContent=l;this._variance.classList[0>l?"add":"remove"]("negative")}})})},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(l,m,g,k){l=m.getObject("color",!0,l);l.Color=g;l.blend=g.blendColors;l.fromRgb=g.fromRgb;l.fromHex=g.fromHex;l.fromArray=g.fromArray;l.fromString=g.fromString;l.greyscale=k.makeGrey;m.mixin(l,{fromCmy:function(f,d,e){m.isArray(f)?(d=f[1],e=f[2],f=f[0]):m.isObject(f)&&(d=
f.m,e=f.y,f=f.c);d=1-d/100;e=1-e/100;return new g({r:Math.round(255*(1-f/100)),g:Math.round(255*d),b:Math.round(255*e)})},fromCmyk:function(f,d,e,c){m.isArray(f)?(d=f[1],e=f[2],c=f[3],f=f[0]):m.isObject(f)&&(d=f.m,e=f.y,c=f.b,f=f.c);d/=100;e/=100;c/=100;f=1-Math.min(1,f/100*(1-c)+c);d=1-Math.min(1,d*(1-c)+c);e=1-Math.min(1,e*(1-c)+c);return new g({r:Math.round(255*f),g:Math.round(255*d),b:Math.round(255*e)})},fromHsl:function(f,d,e){m.isArray(f)?(d=f[1],e=f[2],f=f[0]):m.isObject(f)&&(d=f.s,e=f.l,
f=f.h);d/=100;for(e/=100;0>f;)f+=360;for(;360<=f;)f-=360;var c,b;120>f?(c=(120-f)/60,b=f/60,f=0):240>f?(c=0,b=(240-f)/60,f=(f-120)/60):(c=(f-240)/60,b=0,f=(360-f)/60);c=2*d*Math.min(c,1)+(1-d);b=2*d*Math.min(b,1)+(1-d);f=2*d*Math.min(f,1)+(1-d);0.5>e?(c*=e,b*=e,f*=e):(c=(1-e)*c+2*e-1,b=(1-e)*b+2*e-1,f=(1-e)*f+2*e-1);return new g({r:Math.round(255*c),g:Math.round(255*b),b:Math.round(255*f)})}});l.fromHsv=function(f,d,e){m.isArray(f)?(d=f[1],e=f[2],f=f[0]):m.isObject(f)&&(d=f.s,e=f.v,f=f.h);360==f&&
(f=0);d/=100;e/=100;var c,b,a;if(0==d)b=a=c=e;else{var h=f/60;f=Math.floor(h);var k=h-f,h=e*(1-d),n=e*(1-d*k);d=e*(1-d*(1-k));switch(f){case 0:c=e;b=d;a=h;break;case 1:c=n;b=e;a=h;break;case 2:c=h;b=e;a=d;break;case 3:c=h;b=n;a=e;break;case 4:c=d;b=h;a=e;break;case 5:c=e,b=h,a=n}}return new g({r:Math.round(255*c),g:Math.round(255*b),b:Math.round(255*a)})};m.extend(g,{toCmy:function(){var f=1-this.g/255,d=1-this.b/255;return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*f),y:Math.round(100*d)}},
toCmyk:function(){var f,d,e,c=this.r/255;f=this.g/255;d=this.b/255;e=Math.min(1-c,1-f,1-d);f=(1-f-e)/(1-e);d=(1-d-e)/(1-e);return{c:Math.round(100*((1-c-e)/(1-e))),m:Math.round(100*f),y:Math.round(100*d),b:Math.round(100*e)}},toHsl:function(){var f=this.r/255,d=this.g/255,e=this.b/255,c=Math.min(f,e,d),b=Math.max(f,d,e),a=b-c,h=0,g=0,c=(c+b)/2;0<c&&1>c&&(g=a/(0.5>c?2*c:2-2*c));0<a&&(b==f&&b!=d&&(h+=(d-e)/a),b==d&&b!=e&&(h+=2+(e-f)/a),b==e&&b!=f&&(h+=4+(f-d)/a),h*=60);return{h:h,s:Math.round(100*g),
l:Math.round(100*c)}},toHsv:function(){var f=this.r/255,d=this.g/255,e=this.b/255,c=Math.min(f,e,d),b=Math.max(f,d,e),c=b-c,a=null,h=0==b?0:c/b;0==h?a=0:(a=f==b?60*(d-e)/c:d==b?120+60*(e-f)/c:240+60*(f-d)/c,0>a&&(a+=360));return{h:a,s:Math.round(100*h),v:Math.round(100*b)}}});return l})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(l,m,g,k,f,d){var e=d.typematic={_fireEventAndReload:function(){this._timer=null;
this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(g.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(c,b,a,d,e,f,k,l){if(e!=this._obj){this.stop();this._initialDelay=k||500;this._subsequentDelay=f||0.9;this._minDelay=l||10;this._obj=e;this._node=a;this._count=this._currentTimeout=
-1;this._callback=g.hitch(b,d);this._evt={faux:!0};for(var m in c)"layerX"!=m&&"layerY"!=m&&(b=c[m],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[m]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(c,b,a,d,f,n,v){var r="keyCode"in b?"keyCode":"charCode"in b?"charCode":"charOrCode",t=[k(c,"keyCode"in b?"keydown":"charCode"in b?"keypress":m._keypress,
g.hitch(this,function(g){g[r]==b[r]&&(void 0===b.ctrlKey||b.ctrlKey==g.ctrlKey)&&(void 0===b.altKey||b.altKey==g.altKey)&&(void 0===b.metaKey||b.metaKey==(g.metaKey||!1))&&(void 0===b.shiftKey||b.shiftKey==g.shiftKey)?(g.stopPropagation(),g.preventDefault(),e.trigger(g,a,c,d,b,f,n,v)):e._obj==b&&e.stop()})),k(c,"keyup",g.hitch(this,function(){e._obj==b&&e.stop()}))];return{remove:function(){l.forEach(t,function(a){a.remove()})}}},addMouseListener:function(c,b,a,d,q,n){var v=[k(c,"mousedown",g.hitch(this,
function(f){f.preventDefault();e.trigger(f,b,c,a,c,d,q,n)})),k(c,"mouseup",g.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),k(c,"mouseout",g.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),k(c,"dblclick",g.hitch(this,function(k){k.preventDefault();9>f("ie")&&(e.trigger(k,b,c,a,c,d,q,n),setTimeout(g.hitch(this,e.stop),50))}))];return{remove:function(){l.forEach(v,function(a){a.remove()})}}},addListener:function(c,b,a,d,e,f,g,k){var m=[this.addKeyListener(b,a,d,e,
f,g,k),this.addMouseListener(c,d,e,f,g,k)];return{remove:function(){l.forEach(m,function(a){a.remove()})}}}};return e})},"common/widgets/_Buttons":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","./form/Button"],function(l,m,g,k){return l(null,{buttons:null,buildRendering:function(){this.inherited(arguments);this.buttonsNode=g.create("div",{className:"buttons"},this.domNode)},getButtonByName:function(f){if(this._buttonsByName)return this._buttonsByName[f];console.error("buttons array is not defined")},
_setButtonsAttr:function(f){var d=[],e=this._buttonsByName={},c=this.buttonsNode;f.forEach(function(b){var a=(new k({label:b.label,name:b.name,"class":b["class"],onClick:function(){b.onClick&&b.onClick.call(a);this.emit("action",{detail:m.mixin({},b)})}})).placeAt(c);"left"===b.position&&a.domNode.classList.add("left");d.push(a);e[b.name]=a});this._set("buttons",d)},startup:function(){this._started||(this.inherited(arguments),this.buttons.forEach(function(f){f.startup()}))}})})},"dgrid/util/misc":function(){define(["dojo/has",
"put-selector/put"],function(l,m){l.add("dom-contains",function(b,a,c){return!!c.contains});var g=[],k,f,d,e=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,c={defaultDelay:15,throttle:function(b,a,d){var e=!1;d=d||c.defaultDelay;return function(){e||(e=!0,b.apply(a,arguments),setTimeout(function(){e=!1},d))}},throttleDelayed:function(b,a,d){var e=!1;d=d||c.defaultDelay;return function(){if(!e){e=!0;var c=arguments;setTimeout(function(){e=!1;b.apply(a,c)},d)}}},debounce:function(b,a,d){var e;d=d||c.defaultDelay;
return function(){e&&(clearTimeout(e),e=null);var c=arguments;e=setTimeout(function(){b.apply(a,c)},d)}},each:function(b,a,c){var d,e;if(b)if("number"===typeof b.length){d=0;for(e=b.length;d<e;d++)a.call(c,b[d],d,b)}else for(d in b)a.call(c,b[d],d,b)},contains:function(b,a){return l("dom-contains")?b.contains(a):b.compareDocumentPosition(a)&8},addCssRule:function(b,a){k||(k=m(document.getElementsByTagName("head")[0],"style"),k=k.sheet||k.styleSheet,f=k.deleteRule?"deleteRule":"removeRule",d=k.cssRules?
"cssRules":"rules");var c=g.length;g[c]=(k.cssRules||k.rules).length;k.addRule?k.addRule(b,a):k.insertRule(b+"{"+a+"}",g[c]);return{get:function(a){return k[d][g[c]].style[a]},set:function(a,b){"undefined"!==typeof g[c]&&(k[d][g[c]].style[a]=b)},remove:function(){var a=g[c],b,d;if(void 0!==a){k[f](a);g[c]=void 0;b=c+1;for(d=g.length;b<d;b++)g[b]>a&&g[b]--}}}},escapeCssIdentifier:function(b,a){return b.replace(e,a||"\\$1")}};return c})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base",
"./gfx/renderer!"],function(l,m,g){m.switchTo(g);return m})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(l,m,g,k,f){var d=k.backOut;return m("dojox.charting.action2d.PlotAction",g,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(e,c,b){this.anim={};b||(b={});this.duration=b.duration?b.duration:400;this.easing=b.easing?b.easing:d},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,
this,"process")},disconnect:function(){this.handle&&(l.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);f.forIn(this.anim,function(d){f.forIn(d,function(c){c.action.stop(!0)})});this.anim={}}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(l,
m,g,k,f,d,e,c,b,a,h,q){e=l("dijit.MenuItem"+(d("dojo-bidi")?"_NoBidi":""),[c,b,a,h],{templateString:q,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);g.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&g.set(this.accelKeyNode,"id",this.id+"_accel");m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==d("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this.getParent()._onItemFocus(this);
this.inherited(arguments)},_setSelected:function(a){k.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",
a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,g.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});d("dojo-bidi")&&(e=l("dijit.MenuItem",e,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return e})},"dojox/charting/plot2d/Bars":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/gfx/fx dojox/lang/utils dojox/lang/functional dojox/lang/functional/reversed".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h){var q=h.lambda("item.purgeGroup()");return g("dojox.charting.plot2d.Bars",[f,d],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(a,c){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));b.updateWithObject(this.opt,c);b.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate},getSeriesStats:function(){var a=
e.collectSimpleStats(this.series),b;a.hmin-=0.5;a.hmax+=0.5;b=a.hmin;a.hmin=a.vmin;a.vmin=b;b=a.hmax;a.hmax=a.vmax;a.vmax=b;return a},createRect:function(a,b,c){var d;this.opt.enableCache&&0<a._rectFreePool.length?(d=a._rectFreePool.pop(),d.setShape(c),b.add(d)):d=b.createRect(c);this.opt.enableCache&&a._rectUsePool.push(d);return d},createLabel:function(a,b,c,d){this.opt.labels&&"outside"==this.opt.labelStyle?this.renderLabel(a,c.x+c.width+this.opt.labelOffset,c.y+c.height/2,this._getLabel(isNaN(b.y)?
b:b.y),d,"start"):this.inherited(arguments)},render:function(b,c){if(this.zoom&&!this.isDataDirty())return this.performZoom(b,c);this.dirty=this.isDirty();this.resetEvents();var d;this.dirty&&(m.forEach(this.series,q),this._eventSeries={},this.cleanGroup(),d=this.getGroup(),a.forEachRev(this.series,function(a){a.cleanGroup(d)}));for(var h=this.chart.theme,e=this._hScaler.scaler.getTransformerFromModel(this._hScaler),f=this._vScaler.scaler.getTransformerFromModel(this._vScaler),g=Math.max(0,this._hScaler.bounds.lower),
A=e(g),w=this.events(),C=this.getBarProperties(),z=this.series.length-1;0<=z;--z){var u=this.series[z];if(!this.dirty&&!u.dirty)h.skip(),this._reconnectEvents(u.name);else{u.cleanGroup();this.opt.enableCache&&(u._rectFreePool=(u._rectFreePool?u._rectFreePool:[]).concat(u._rectUsePool?u._rectUsePool:[]),u._rectUsePool=[]);var G=h.next("bar",[this.opt,u]),x=Array(u.data.length);d=u.group;for(var B=m.some(u.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),K=B?Math.max(0,Math.floor(this._vScaler.bounds.from-
1)):0,y=B?Math.min(u.data.length,Math.ceil(this._vScaler.bounds.to)):u.data.length;K<y;++K){var E=u.data[K];if(null!=E){var F=this.getValue(E,K,z,B),H=e(F.y),I=Math.abs(H-A),J,M;this.opt.styleFunc||"number"!=typeof E?(J="number"!=typeof E?[E]:[],this.opt.styleFunc&&J.push(this.opt.styleFunc(E)),J=h.addMixin(G,"bar",J,!0)):J=h.post(G,"bar");if(0<=I&&1<=C.height){H={x:c.l+(F.y<g?H:A),y:b.height-c.b-f(F.x+1.5)+C.gap+C.thickness*(this.series.length-z-1),width:I,height:C.height};J.series.shadow&&(M=l.clone(H),
M.x+=J.series.shadow.dx,M.y+=J.series.shadow.dy,M=this.createRect(u,d,M).setFill(J.series.shadow.color).setStroke(J.series.shadow),this.animate&&this._animateBar(M,c.l+A,-I));var L=this._plotFill(J.series.fill,b,c),L=this._shapeFill(L,H),L=this.createRect(u,d,H).setFill(L).setStroke(J.series.stroke);L.setFilter&&J.series.filter&&L.setFilter(J.series.filter);u.dyn.fill=L.getFill();u.dyn.stroke=L.getStroke();if(w){var N={element:"bar",index:K,run:u,shape:L,shadow:M,cx:F.y,cy:F.x+1.5,x:B?K:u.data[K].x,
y:B?u.data[K]:u.data[K].y};this._connectEvents(N);x[K]=N}!isNaN(F.py)&&F.py>g&&(H.x+=e(F.py),H.width-=e(F.py));this.createLabel(d,E,H,J);this.animate&&this._animateBar(L,c.l+A,-I)}}}this._eventSeries[u.name]=x;u.dirty=!1}}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,b,c);return this},getValue:function(a,b,c,d){d?(c="number"==typeof a?a:a.y,a=b):(c=a.y,a=a.x-1);return{y:c,x:a}},getBarProperties:function(){var a=e.calculateBarSize(this._vScaler.bounds.scale,this.opt);return{gap:a.gap,
height:a.size,thickness:0}},_animateBar:function(a,b,d){0==d&&(d=1);c.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[b-b/d,0],end:[0,0]},{name:"scale",start:[1/d,1],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(l,m,g,k){var f={};l.mixin(k,{foldl:function(d,e,c,b){"string"==typeof d&&(d=d.split(""));b=b||g.global;e=k.lambda(e);
var a,h;if(l.isArray(d)){a=0;for(h=d.length;a<h;c=e.call(b,c,d[a],a,d),++a);}else if("function"==typeof d.hasNext&&"function"==typeof d.next)for(a=0;d.hasNext();c=e.call(b,c,d.next(),a++,d));else for(a in d)a in f||(c=e.call(b,c,d[a],a,d));return c},foldl1:function(d,e,c){"string"==typeof d&&(d=d.split(""));c=c||g.global;e=k.lambda(e);var b,a,h;if(l.isArray(d)){b=d[0];a=1;for(h=d.length;a<h;b=e.call(c,b,d[a],a,d),++a);}else if("function"==typeof d.hasNext&&"function"==typeof d.next){if(d.hasNext()){b=
d.next();for(a=1;d.hasNext();b=e.call(c,b,d.next(),a++,d));}}else for(a in h=!0,d)a in f||(h?(b=d[a],h=!1):b=e.call(c,b,d[a],a,d));return b},foldr:function(d,e,c,b){"string"==typeof d&&(d=d.split(""));b=b||g.global;e=k.lambda(e);for(var a=d.length;0<a;--a,c=e.call(b,c,d[a],a,d));return c},foldr1:function(d,e,c){"string"==typeof d&&(d=d.split(""));c=c||g.global;e=k.lambda(e);for(var b=d.length,a=d[b-1],b=b-1;0<b;--b,a=e.call(c,a,d[b],b,d));return a},reduce:function(d,e,c){return 3>arguments.length?
k.foldl1(d,e):k.foldl(d,e,c)},reduceRight:function(d,e,c){return 3>arguments.length?k.foldr1(d,e):k.foldr(d,e,c)},unfold:function(d,e,c,b,a){a=a||g.global;e=k.lambda(e);c=k.lambda(c);d=k.lambda(d);for(var h=[];!d.call(a,b);h.push(e.call(a,b)),b=c.call(a,b));return h}})})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(l,m){var g={};l.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(k){k={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,
ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(k)];return void 0===k?1:k};g._region=function(g){g=m.normalizeLocale(g);g=g.split("-");var f=g[1];f?4==f.length&&(f=g[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",
am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",
iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",
rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",
bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",
grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",
lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",
sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",
yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return f};g.getWeekend=function(k){var f=g._region(k);k={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f];f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===k&&(k=6);void 0===f&&(f=0);return{start:k,end:f}};return g})},"forecast/views/Notes":function(){define("dijit/_FocusMixin dijit/_WidgetBase dijit/form/SimpleTextarea dojo/date/stamp dojo/dom-construct dojo/store/Memory dojo/topic dojo/i18n!common/nls/common common/util common/widgets/_HandlesMixin common/widgets/form/Button common/widgets/Notes".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q){return q.createSubclass([a],{model:null,noteModel:null,buildRendering:function(){this.inherited(arguments);this.noteArea=(new g({intermediateChanges:!0,rows:8,maxLength:200})).placeAt(this.notesList,"after");var a=this;this.saveButton=(new h({label:c.save,onClick:function(){a._save()}})).placeAt(this._buttons,"first");this._messageLine=f.create("div",{className:"message"},this._buttons,"first");this.cancelButton.set("label",c.cancel);f.create("div",{className:"heading",
innerHTML:"New Entry"},this.noteArea.domNode,"before")},postCreate:function(){this.inherited(arguments);var a=this;this.noteArea.on("input",function(){setTimeout(function(){a.saveButton.set("disabled",0===a.noteArea.get("value").length)})});this.on("save",function(b){a.model.add(b.detail.note)})},cancel:function(){this._cancel()},_cancel:function(){this._pendingPromise&&this._pendingPromise.cancel();if(this.noteModel.isDirty()){var a=this;e.publish("/forecast/confirm",{title:c.discardChanges,message:c.youHaveUnsavedChanges,
confirmText:c.discard,onConfirm:function(){a.noteModel.revert();a.emit("cancel",{})}})}else this.emit("cancel",{})},_save:function(){var a=this;a.saveButton.set({disabled:!0,label:c.saving});this._checkNoteCount();this.noteModel.save().then(function(){a.emit("execute",{});a.emit("save",{detail:{note:a.noteModel}})},function(b){a.saveButton.set("disabled",!1);console.error(b);e.publish("/forecast/message",b.message,!0,!0)}).always(function(){a.saveButton.set("label",c.save)})},_checkNoteCount:function(){var a=
this.model,b=a.get("notes");(b?b.length:0)>=a.get("maxNoteCount")?(this.domNode.classList.add("warning"),this.set("messageLine","Message limit reached for date, saving will delete oldest message")):this.domNode.classList.remove("warning")},_setDateAttr:b.proxySetter("model","date"),_setModelAttr:function(a){function b(){var h=new d({data:a.get("notes")||[],idProperty:"time"});c.set("store",h)}var c=this.notesList;this.noteArea.set("readOnly",!a.hasUpdatePrivilege());this.removeHandles();this._set("model",
a);this.saveButton.set("disabled",!0);this.set("messageLine","");this._checkNoteCount();b();this.set("noteModel",a.createNote());var h=this;this.addHandle(a.watch("notes",function(){b();h.set("noteModel",a.createNote())}),"notes");var e=k.toISOString(this.marshaDate,{selector:"date"}),e=this.model.get("date")<e;this.noteArea.set("disabled",e)},_setNoteModelAttr:function(a){this._set("noteModel",a);this.removeHandles("note");a&&this.addHandle(b.bindValues(a,"text",this.noteArea,"value"),"note")},_setMessageLineAttr:{node:"_messageLine",
type:"innerText"},_setNotesAttr:b.proxySetter("model","notes")})})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,m,g){var k={};m.mixin(g,{keys:function(f){var d=[],e;for(e in f)e in k||d.push(e);return d},values:function(f){var d=[],e;for(e in f)e in k||d.push(f[e]);return d},filterIn:function(f,d,e){e=e||l.global;d=g.lambda(d);var c={},b,a;for(a in f)a in k||(b=f[a],d.call(e,b,a,f)&&(c[a]=b));return c},forIn:function(f,d,e){e=e||l.global;
d=g.lambda(d);for(var c in f)c in k||d.call(e,f[c],c,f);return e},mapIn:function(f,d,e){e=e||l.global;d=g.lambda(d);var c={},b;for(b in f)b in k||(c[b]=d.call(e,f[b],b,f));return c}});return g})},"common/models/UiOrder":function(){define(["dojo/_base/lang","dojo/io-query","./_Model"],function(l,m,g){return g.createSubclass([],{_contextName:"",getDemandForecastSegmentName:function(g){return this._getName(this.DEM_FCST_SEG_UI_ORDER,Number(g))},getDemandForecastSegmentNames:function(){return this.DEM_FCST_SEG_UI_ORDER},
getDemandForecastSegmentOrder:function(g){return this._getOrder(this.DEM_FCST_SEG_UI_ORDER,Number(g))},getRoomPools:function(){return this.ROOM_POOL_UI_ORDER||[]},getStandardRoompoolName:function(){return l.getObject("_standardRoompool.name",!1,this)},getStandardRoompool:function(){return this._standardRoompool},getStandardRoomCollection:function(){return this._standardRoomCollection},getStandardSegment:function(){return this._standardSegment},getRoompoolCollectionName:function(g){return this._getName(this.RPC_UI_ORDER,
Number(g))},getRoompoolCollectionNames:function(){return this.RPC_UI_ORDER},getRoompoolCollectionOrder:function(g){return this._getOrder(this.RPC_UI_ORDER,Number(g))},postLoad:function(g){g=g||{};Object.keys(g).forEach(function(c){Array.isArray(g[c])&&g[c].sort(function(b,a){return b.uiOrder>a.uiOrder?1:b.uiOrder<a.uiOrder?-1:0})});this._standardSegment=this._standardRoomCollection=this._standardRoompool=null;var f=g.ROOM_POOL_UI_ORDER;f&&f.some(function(c){if("Y"===c.isStandard)return this._standardRoompool=
c,!0},this);var d=g.RPC_UI_ORDER;d&&d.some(function(c){if("Y"===c.isStandard)return this._standardRoomCollection=c,!0},this);var e=g.DEM_FCST_SEG_UI_ORDER;e&&e.some(function(c){if("Y"===c.isStandard)return this._standardSegment=c,!0},this);(!e||!f||!d)&&console.warn("Missing data in uiOrder response");return this.inherited(arguments)},_getLoadUrl:function(){var g=this.Config.get(this._contextName);return g.contextPath+"api/rest/allUiOrder/v1/properties/"+g.propertyCode},_getItem:function(g,f){f=Number(f);
if(g)for(var d,e=0;e<g.length;e++)if(d=g[e],d.id===f)return d},_getName:function(g,f){var d=this._getItem(g,f);if(d)return d.name},_getOrder:function(g,f){var d=this._getItem(g,f);if(d)return d.uiOrder}})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(l,m){function g(d,c){d=d.toLowerCase();for(var b=c.length-1;0<=b;--b)if(d===c[b])return!0;return!1}var k=l.getObject("dojox.charting.scaler.linear",!0),f=m.getNumericLabel,d=function(d,c,b,a,h,f,n){b=l.delegate(b);
a||("major"==b.fixUpper&&(b.fixUpper="minor"),"major"==b.fixLower&&(b.fixLower="minor"));h||("minor"==b.fixUpper&&(b.fixUpper="micro"),"minor"==b.fixLower&&(b.fixLower="micro"));f||("micro"==b.fixUpper&&(b.fixUpper="none"),"micro"==b.fixLower&&(b.fixLower="none"));var m=g(b.fixLower,["major"])?Math.floor(b.min/a)*a:g(b.fixLower,["minor"])?Math.floor(b.min/h)*h:g(b.fixLower,["micro"])?Math.floor(b.min/f)*f:b.min,r=g(b.fixUpper,["major"])?Math.ceil(b.max/a)*a:g(b.fixUpper,["minor"])?Math.ceil(b.max/
h)*h:g(b.fixUpper,["micro"])?Math.ceil(b.max/f)*f:b.max;b.useMin&&(d=m);b.useMax&&(c=r);var t=!a||b.useMin&&g(b.fixLower,["major"])?d:Math.ceil(d/a)*a,s=!h||b.useMin&&g(b.fixLower,["major","minor"])?d:Math.ceil(d/h)*h,p=!f||b.useMin&&g(b.fixLower,["major","minor","micro"])?d:Math.ceil(d/f)*f,D=!a?0:(b.useMax&&g(b.fixUpper,["major"])?Math.round((c-t)/a):Math.floor((c-t)/a))+1,A=!h?0:(b.useMax&&g(b.fixUpper,["major","minor"])?Math.round((c-s)/h):Math.floor((c-s)/h))+1;b=!f?0:(b.useMax&&g(b.fixUpper,
["major","minor","micro"])?Math.round((c-p)/f):Math.floor((c-p)/f))+1;var w=h?Math.round(a/h):0,C=f?Math.round(h/f):0,z=a?Math.floor(Math.log(a)/Math.LN10):0,u=h?Math.floor(Math.log(h)/Math.LN10):0,G=n/(c-d);isFinite(G)||(G=1);return{bounds:{lower:m,upper:r,from:d,to:c,scale:G,span:n},major:{tick:a,start:t,count:D,prec:z},minor:{tick:h,start:s,count:A,prec:u},micro:{tick:f,start:p,count:b,prec:0},minorPerMajor:w,microPerMinor:C,scaler:k}};return l.mixin(k,{buildScaler:function(e,c,b,a,h,f){var g=
{fixUpper:"none",fixLower:"none",natural:!1};a&&("fixUpper"in a&&(g.fixUpper=String(a.fixUpper)),"fixLower"in a&&(g.fixLower=String(a.fixLower)),"natural"in a&&(g.natural=Boolean(a.natural)));f=!f||3>f?3:f;"min"in a&&(e=a.min);"max"in a&&(c=a.max);a.includeZero&&(0<e&&(e=0),0>c&&(c=0));g.min=e;g.useMin=!0;g.max=c;g.useMax=!0;"from"in a&&(e=a.from,g.useMin=!1);"to"in a&&(c=a.to,g.useMax=!1);if(c<=e)return d(e,c,g,0,0,0,b);h||(h=c-e);h=Math.floor(Math.log(h)/Math.LN10);h=a&&"majorTickStep"in a?a.majorTickStep:
Math.pow(10,h);var k=0,l=0,m;if(a&&"minorTickStep"in a)k=a.minorTickStep;else{do{k=h/10;if(!g.natural||0.9<k)if(m=d(e,c,g,h,k,0,b),m.bounds.scale*m.minor.tick>f)break;k=h/5;if(!g.natural||0.9<k)if(m=d(e,c,g,h,k,0,b),m.bounds.scale*m.minor.tick>f)break;k=h/2;if(!g.natural||0.9<k)if(m=d(e,c,g,h,k,0,b),m.bounds.scale*m.minor.tick>f)break;return d(e,c,g,h,0,0,b)}while(0)}if(a&&"microTickStep"in a)l=a.microTickStep,m=d(e,c,g,h,k,l,b);else{do{l=k/10;if(!g.natural||0.9<l)if(m=d(e,c,g,h,k,l,b),3<m.bounds.scale*
m.micro.tick)break;l=k/5;if(!g.natural||0.9<l)if(m=d(e,c,g,h,k,l,b),3<m.bounds.scale*m.micro.tick)break;l=k/2;if(!g.natural||0.9<l)if(m=d(e,c,g,h,k,l,b),3<m.bounds.scale*m.micro.tick)break;l=0}while(0)}return l?m:d(e,c,g,h,k,0,b)},buildTicks:function(d,c){var b,a,h,g=d.major.start,k=d.minor.start,l=d.micro.start;if(c.microTicks&&d.micro.tick)b=d.micro.tick,a=l;else if(c.minorTicks&&d.minor.tick)b=d.minor.tick,a=k;else if(d.major.tick)b=d.major.tick,a=g;else return null;var m=1/d.bounds.scale;if(d.bounds.to<=
d.bounds.from||isNaN(m)||!isFinite(m)||0>=b||isNaN(b)||!isFinite(b))return null;for(var t=[],s=[],p=[];a<=d.bounds.to+m;)Math.abs(g-a)<b/2?(h={value:g},c.majorLabels&&(h.label=f(g,d.major.prec,c)),t.push(h),g+=d.major.tick,k+=d.minor.tick):Math.abs(k-a)<b/2?(c.minorTicks&&(h={value:k},c.minorLabels&&d.minMinorStep<=d.minor.tick*d.bounds.scale&&(h.label=f(k,d.minor.prec,c)),s.push(h)),k+=d.minor.tick):c.microTicks&&p.push({value:l}),l+=d.micro.tick,a+=b;return{major:t,minor:s,micro:p}},getTransformerFromModel:function(d){var c=
d.bounds.from,b=d.bounds.scale;return function(a){return(a-c)*b}},getTransformerFromPlot:function(d){var c=d.bounds.from,b=d.bounds.scale;return function(a){return a/b+c}}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t){function s(){this._popupWrapper&&
(d.destroy(this._popupWrapper),delete this._popupWrapper)}g=g(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=e.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var d=this._stack[b].wrapper.style;d.top=parseInt(d.top,10)+a+"px";"auto"==d.right?d.left=parseInt(d.left,10)+c+"px":d.right=parseInt(d.right,10)-c+"px"}}this._aroundMoveListener=setTimeout(h.hitch(this,
"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;b||(b=d.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,m.after(a,"destroy",s,!0));return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=e.isBodyLtr(a.ownerDocument);var d={visibility:"hidden",top:"-9999px",
display:""};d[a?"left":"right"]="-9999px";d[a?"right":"left"]="auto";c.set(b,d);return b},hide:function(a){var b=this._createWrapper(a);c.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(d){for(var g=this._stack,l=d.popup,m=l.domNode,s=d.orient||["below","below-alt","above","above-alt"],t=
d.parent?d.parent.isLeftToRight():e.isBodyLtr(l.ownerDocument),u=d.around,G=d.around&&d.around.id?d.around.id+"_dropdown":"popup_"+this._idGen++;g.length&&(!d.parent||!k.isDescendant(d.parent.domNode,g[g.length-1].widget.domNode));)this.close(g[g.length-1].widget);var x=this.moveOffScreen(l);l.startup&&!l._started&&l.startup();var B,K=e.position(m);if("maxHeight"in d&&-1!=d.maxHeight)B=d.maxHeight||Infinity;else{B=r.getEffectiveBox(this.ownerDocument);var y=u?e.position(u,!1):{y:d.y-(d.padding||0),
h:2*(d.padding||0)};B=Math.floor(Math.max(y.y,B.h-(y.y+y.h)))}K.h>B&&(K=c.getComputedStyle(m),c.set(x,{overflowY:"scroll",height:B+"px",border:K.borderLeftWidth+" "+K.borderLeftStyle+" "+K.borderLeftColor}),m._originalStyle=m.style.cssText,m.style.border="none");f.set(x,{id:G,style:{zIndex:this._beginZIndex+g.length},"class":"dijitPopup "+(l.baseClass||l["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:d.parent?d.parent.id:""});0==g.length&&u&&(this._firstAroundNode=u,this._firstAroundPosition=
e.position(u,!0),this._aroundMoveListener=setTimeout(h.hitch(this,"_repositionAll"),50));b("config-bgIframe")&&!l.bgIframe&&(l.bgIframe=new v(x));G=l.orient?h.hitch(l,"orient"):null;s=u?n.around(x,u,s,t,G):n.at(x,d,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],d.padding,G);x.style.visibility="visible";m.style.visibility="visible";m=[];m.push(q(x,"keydown",h.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&d.onCancel)b.stopPropagation(),b.preventDefault(),d.onCancel();else if(b.keyCode==a.TAB&&
(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));l.onCancel&&d.onCancel&&m.push(l.on("cancel",d.onCancel));m.push(l.on(l.onExecute?"execute":"change",h.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));g.push({widget:l,wrapper:x,parent:d.parent,onExecute:d.onExecute,onCancel:d.onCancel,onClose:d.onClose,handlers:m});if(l.onOpen)l.onOpen(s);return s},close:function(a){for(var b=this._stack;a&&l.some(b,function(b){return b.widget==
a})||!a&&b.length;){var c=b.pop(),d=c.widget,h=c.onClose;if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);h&&h()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return t.popup=new g})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,m,g,k,f){var d={};l.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(e){d[e]=k[e]});g.mixin(d,{defaultDuration:m.defaultDuration||200});g.mixin(f,d);return f})},"forecast/models/Notes":function(){define("common/models/_Model dojo/_base/lang dojo/date/stamp dojo/promise/all dojo/when ../../common/util ./Note".split(" "),function(l,m,g,k,f,d,e){function c(b,a){return b.time<a.time?1:b.time>a.time?-1:0}return l.createSubclass([],{maxNoteCount:30,maxNoteLength:200,notes:null,NoteModel:e,date:null,author:null,constructor:function(){this.notes=[]},add:function(b){var a=
this;return this._loadAuthor().then(function(d){d=(a.notes||[]).concat({author:d,text:b.text,time:g.toISOString(new Date)});d.sort(c);a._changeAttrValue("notes",d.slice(0,a.maxNoteCount))})},count:function(){return this.notes?this.notes.length:0},createNote:function(){return new this.NoteModel({noteDate:this.get("date"),maxNoteLength:this.get("maxNoteLength"),text:"",propertyCode:this.get("propertyCode")})},postLoad:function(b){var a=this.date,c=d.find(b.stays,function(b){return b.stayDate===a}),
c=c?c.notes.map(function(a){return{text:a.note,author:a.createdBy,time:a.creationTime}}):[];return this.inherited(arguments,[c])},sort:function(){this.notes&&this.notes.sort(c)},_loadAuthor:function(){if(this.author)return f(this.author);var b=this,a=this.Config.get(this._contextName);return this._requestGet(a.contextPath+"api/rest/user/"+a.loginName).then(function(a){b.author=a.firstName+" "+a.lastName;return b.author})},_notesSetter:function(b){b&&(b=b.map(function(a){return{text:a.note,author:a.createdBy,
time:a.creationTime}}));this.notes=b},_getLoadUrl:function(){var b=this.Config.get(this._contextName);return b.contextPath+"api/rest/userNotes/v1/properties/"+b.propertyCode+"/stays"},_getLoadQuery:function(){return{startdate:d.toISODate(this.get("minDate")),enddate:d.toISODate(this.get("maxDate"))}},_authorGetter:function(){return this.author||this._getFromContext("loginName")},_propertyCodeGetter:function(){return this._getFromContext("propertyCode")},_maxDateGetter:function(){return this.maxDate||
this.date},_minDateGetter:function(){return this.minDate||this.date}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n){return m("dojo.dnd.Mover",[b],{constructor:function(b,c,e){function f(a){a.preventDefault();a.stopPropagation()}this.node=d.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;
c=this.host=e;b=b.ownerDocument;this.events=[a(b,h.move,g.hitch(this,"onFirstMove")),a(b,h.move,g.hitch(this,"onMouseMove")),a(b,h.release,g.hitch(this,"onMouseUp")),a(b,"dragstart",f),a(b.body,"selectstart",f)];n.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(k("webkit")&&k("mac")&&2==this.mouseButton?0==a.button:
this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,d,h=this.host;switch(b.position){case "relative":case "absolute":d=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=e.getMarginBox(this.node);d=f.doc.body;var g=c.getComputedStyle(d),k=e.getMarginBox(d,g),g=e.getContentBox(d,g);d=b.l-(g.l-k.l);b=b.t-(g.t-k.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=
b-this.marginBox.t;if(h&&h.onFirstMove)h.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){l.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(l,m,g,k){function f(d,e){if(0>=d)return e[0].color;var c=e.length;if(1<=d)return e[c-1].color;for(var b=0;b<c;++b){var a=e[b];if(a.offset>=
d)return b?(c=e[b-1],k.blendColors(new k(c.color),new k(a.color),(d-c.offset)/(a.offset-c.offset))):a.color}return e[c-1].color}l=l.gradutils={};l.getColor=function(d,e){var c;if(d){switch(d.type){case "linear":c=Math.atan2(d.y2-d.y1,d.x2-d.x1);c=g.rotate(-c);var b=g.project(d.x2-d.x1,d.y2-d.y1),a=g.multiplyPoint(b,e),h=g.multiplyPoint(b,d.x1,d.y1),b=g.multiplyPoint(b,d.x2,d.y2),b=g.multiplyPoint(c,b.x-h.x,b.y-h.y).x;c=g.multiplyPoint(c,a.x-h.x,a.y-h.y).x/b;break;case "radial":c=e.x-d.cx,a=e.y-d.cy,
c=Math.sqrt(c*c+a*a)/d.r}return f(c,d.colors)}return new k(d||[0,0,0,0])};l.reverse=function(d){if(d)switch(d.type){case "linear":case "radial":if(d=m.delegate(d),d.colors){for(var e=d.colors,c=e.length,b=0,a,h=d.colors=Array(e.length);b<c;++b)a=e[b],h[b]={offset:1-a.offset,color:a.color};h.sort(function(a,b){return a.offset-b.offset})}}return d};return l})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),
function(l,m,g,k,f,d,e){l=l("dojox.charting.plot2d.Base",k,{constructor:function(c,b){b&&b.tooltipFunc&&(this.tooltipFunc=b.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(c){return this},assignAxes:function(c){m.forEach(this.axes,function(b){this[b]&&this.setAxis(c[this[b]])},this)},addSeries:function(c){this.series.push(c);return this},getSeriesStats:function(){return f.collectSimpleStats(this.series)},calculateAxes:function(c){this.initializeScalers(c,
this.getSeriesStats());return this},initializeScalers:function(){return this},isDataDirty:function(){return m.some(this.series,function(c){return c.dirty})},render:function(c,b){return this},renderLabel:function(c,b,a,h,e,f,k){c=d.createText[this.opt.htmlLabels&&"vml"!=g.renderer?"html":"gfx"](this.chart,c,b,a,k?k:"middle",h,e.series.font,e.series.fontColor);f&&(this.opt.htmlLabels&&"vml"!=g.renderer?c.style.pointerEvents="none":c.rawNode&&(c.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&
"vml"!=g.renderer&&this.htmlElements.push(c);return c},getRequiredColors:function(){return this.series.length},_getLabel:function(c){return f.getLabel(c,this.opt.fixed,this.opt.precision)}});e("dojo-bidi")&&l.extend({_checkOrientation:function(c,b,a){this.chart.applyMirroring(this.group,b,a)}});return l})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(l,m,g,k,f,d,e,c){c.add("config-bgIframe",
!c("touch"));var b=new function(){var a=[];this.pop=function(){var b;a.length?(b=a.pop(),b.style.display=""):(9>c("ie")?(b="\x3ciframe src\x3d'"+(g.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",b=document.createElement(b)):(b=k.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",b.setAttribute("role","presentation"),f.set(b,
"opacity",0.1)),b.tabIndex=-1);return b};this.push=function(b){b.style.display="none";a.push(b)}};m.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(c("config-bgIframe")){var h=this.iframe=b.pop();a.appendChild(h);7>c("ie")||c("quirks")?(this.resize(a),this._conn=e(a,"resize",d.hitch(this,"resize",a))):f.set(h,{width:"100%",height:"100%"})}};d.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&
(this._conn.remove(),this._conn=null);this.iframe&&(b.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(l,m,g,k,f,d,e,c,b,a){k("dijit-legacy-requires")&&e(0,function(){l(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});e=m("dijit.form.Button"+
(k("dojo-bidi")?"_NoBidi":""),[c,b],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=d.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&g.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",
a)},setLabel:function(a){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=d.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});k("dojo-bidi")&&(e=m("dijit.form.Button",e,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},
_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return e})},"common/widgets/DayTable":function(){define("./Table common/util common/widgets/_EventTooltipMixin dojo/_base/lang dojo/i18n!common/nls/common dojo/date dojo/date/locale dojo/date/stamp dojo/dom-construct dojo/on".split(" "),function(l,m,g,k,f,d,e,c,b,a){return l.createSubclass([g],{baseClass:"table day-table",idField:"date",targetDate:null,centerDate:null,numDays:7,
showMonths:!0,showYear:!1,buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode},postCreate:function(){this.inherited(arguments);var b=this;this.own(a(this.headNode,".column:mouseover",function(a){b.column(a).head.classList.add("hover")}),a(this.headNode,".column:mouseout",function(a){b.column(a).head.classList.remove("hover")}))},column:function(){var a=this.inherited(arguments);a&&(a.head=this.headNode.querySelector('[data-column-id\x3d"'+a.id+'"]'));return a},getEvent:function(a){return"Y"===
a.eventIndicator&&a.eventName},hasEvent:function(a){return"Y"===a.eventIndicator},render:function(){this._renderTimer&&clearTimeout(this._renderTimer);var a=this;this._renderTimer=setTimeout(function(){a._renderTimer=null;a._render()})},isWeekend:function(a){"string"!==typeof a&&(a=m.toISODate(a));return(a=this.data[a])&&"Y"===a.weekendIndicator},_columnHeader:function(a){for(;a&&!a.classList.contains("column");)a=a.parentElement;return a},_row:function(a){for(;a&&!a.classList.contains("row");)a=
a.parentElement;return a},_getRenderData:function(){var a=this.data;if(a){var b=this.numDays,e,f=[],g=d.add(this.centerDate||this.targetDate,"day",-Math.floor(b/2));f.length=b;for(var l=0;l<b;l++)e=c.toISOString(d.add(g,"day",l),{selector:"date"}),f[l]=k.mixin({},a[e]),f[l][this.idField]=e;return f}},_render:function(){if(!this._destroyed){this.inherited(arguments);this._renderHighlight();var a=this.domNode.querySelectorAll("th .date-month");if(0<a.length)this.headNode.classList[a[0].textContent!==
a[a.length-1].textContent?"add":"remove"]("month-change")}},_renderColumnHeader:function(a,d){if(a){var g=a[this.idField],k;if(g){var l=c.fromISOString(g);k=e.format(l,{selector:"date",datePattern:f.datePatternColumnHeader})}else k="";var m={className:"column"};m["data-column-id"]=g;var m=b.create("th",m,d),s=e.format(l,{selector:"date",datePattern:"MMMM"}),l=e.format(l,{selector:"date",datePattern:"yyyy"}),s=b.create("div",{className:"date-month",innerHTML:s},m);b.create("span",{className:"date-year",
innerHTML:l},s);b.create("div",{className:"date-marker"},m);l=b.create("div",{className:"date-content"},m);b.place('\x3cspan class\x3d"label"\x3e'+k+"\x3c/span\x3e",l);k=b.create("span",{className:"icon event"},l);this.isWeekend(g)&&m.classList.add("weekend");this.hasEvent(a)&&(this.setEventText(k,this.getEvent(a)),m.classList.add("has-event"));return m}return this.inherited(arguments)},_renderHighlight:function(){var a=Array.prototype.slice.call(this.domNode.querySelectorAll(".column.highlight"));
a.forEach(function(a){a.classList.remove("highlight")});if(this.highlightDate||this.targetDate)a=c.toISOString(this.highlightDate||this.targetDate,{selector:"date"}),a=Array.prototype.slice.call(this.domNode.querySelectorAll('.column[data-column-id\x3d"'+a+'"]')),a.forEach(function(a){a.classList.add("highlight")})},_setCenterDateAttr:function(a){this._set("centerDate",a);return this.render()},_setDataAttr:function(a){this._set("data",a);return this.render()},_setTargetDateAttr:function(a){this._set("targetDate",
a);this.set("highlightDate",a);return this.render()},_getHighlightDateAttr:function(){return this.highlightDate||this.targetDate},_setHighlightDateAttr:function(a){"string"===typeof a&&(a=c.fromISOString(a));this._set("highlightDate",a);this._renderHighlight()},_setShowMonthsAttr:function(a){this._set("showMonths",a);this.headNode.classList[a?"remove":"add"]("hide-months")},_setShowYearAttr:function(a){this._set("showYear",a);this.headNode.classList[a?"add":"remove"]("show-year")},_setWeekendIndicatorModelAttr:function(a){this._set("weekendIndicatorModel",
a);var b=this;a.loaded().then(function(){b.isWeekend=a.isWeekend.bind(a);b.render()})}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(l,m,g,k,f,d){k=l("dojo.dnd.move.constrainedMoveable",d,{constraints:function(){},within:!1,constructor:function(d,c){c||(c={});this.constraints=c.constraints;this.within=c.within},onFirstMove:function(d){var c=this.constraintBox=this.constraints.call(this,d);c.r=c.l+c.w;c.b=c.t+
c.h;this.within&&(d=m.getMarginSize(d.node),c.r-=d.w,c.b-=d.h)},onMove:function(d,c){var b=this.constraintBox,a=d.node.style;this.onMoving(d,c);c.l=c.l<b.l?b.l:b.r<c.l?b.r:c.l;c.t=c.t<b.t?b.t:b.b<c.t?b.b:c.t;a.left=c.l+"px";a.top=c.t+"px";this.onMoved(d,c)}});f=l("dojo.dnd.move.boxConstrainedMoveable",k,{box:{},constructor:function(d,c){var b=c&&c.box;this.constraints=function(){return b}}});l=l("dojo.dnd.move.parentConstrainedMoveable",k,{area:"content",constructor:function(d,c){var b=c&&c.area;
this.constraints=function(){var a=this.node.parentNode,c=g.getComputedStyle(a),d=m.getMarginBox(a,c);if("margin"==b)return d;var e=m.getMarginExtents(a,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("border"==b)return d;e=m.getBorderExtents(a,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("padding"==b)return d;e=m.getPadExtents(a,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;return d}}});return{constrainedMoveable:k,boxConstrainedMoveable:f,parentConstrainedMoveable:l}})},"dojox/charting/plot2d/Default":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h){var q=b.lambda("item.purgeGroup()");return m("dojox.charting.plot2d.Default",[f,d],{defaultParams:{lines:!0,areas:!1,markers:!1,tension:"",animate:!1,enableCache:!1,interpolate:!1},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(b,c){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));
a.updateWithObject(this.opt,c);a.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate},createPath:function(a,b,c){var d;this.opt.enableCache&&0<a._pathFreePool.length?(d=a._pathFreePool.pop(),d.setShape(c),b.add(d)):d=b.createPath(c);this.opt.enableCache&&a._pathUsePool.push(d);return d},buildSegments:function(a,b){for(var c=this.series[a],d=b?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,e=b?Math.min(c.data.length,Math.ceil(this._hScaler.bounds.to)):c.data.length,
h=null,f=[];d<e;d++)if(null!=c.data[d]&&(b||null!=c.data[d].y))h||(h=[],f.push({index:d,rseg:h})),h.push(b&&c.data[d].hasOwnProperty("y")?c.data[d].y:c.data[d]);else if(!this.opt.interpolate||b)h=null;return f},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var d;this.dirty&&(g.forEach(this.series,q),this._eventSeries={},this.cleanGroup(),this.getGroup().setTransform(null),d=this.getGroup(),c.forEachRev(this.series,
function(a){a.cleanGroup(d)}));for(var f=this.chart.theme,m,p,D=this.events(),A=this.series.length-1;0<=A;--A){var w=this.series[A];if(!this.dirty&&!w.dirty)f.skip(),this._reconnectEvents(w.name);else if(w.cleanGroup(),this.opt.enableCache&&(w._pathFreePool=(w._pathFreePool?w._pathFreePool:[]).concat(w._pathUsePool?w._pathUsePool:[]),w._pathUsePool=[]),w.data.length){var C=f.next(this.opt.areas?"area":"line",[this.opt,w],!0),z,u=this._hScaler.scaler.getTransformerFromModel(this._hScaler),G=this._vScaler.scaler.getTransformerFromModel(this._vScaler),
x=this._eventSeries[w.name]=Array(w.data.length);d=w.group;for(var B=g.some(w.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),K=this.buildSegments(A,B),y=0;y<K.length;y++){var E=K[y];z=B?g.map(E.rseg,function(c,d){return{x:u(d+E.index+1)+b.l,y:a.height-b.b-G(c),data:c}},this):g.map(E.rseg,function(c){return{x:u(c.x)+b.l,y:a.height-b.b-G(c.y),data:c}},this);if(B&&this.opt.interpolate)for(;y<K.length;)y++,(E=K[y])&&(z=z.concat(g.map(E.rseg,function(c,d){return{x:u(d+E.index+1)+
b.l,y:a.height-b.b-G(c),data:c}},this)));var F=this.opt.tension?e.curve(z,this.opt.tension):"";if(this.opt.areas&&1<z.length){var H=this._plotFill(C.series.fill,a,b),I=l.clone(z);this.opt.tension?w.dyn.fill=d.createPath(F+" "+("L"+I[I.length-1].x+","+(a.height-b.b)+" L"+I[0].x+","+(a.height-b.b)+" L"+I[0].x+","+I[0].y)).setFill(H).getFill():(I.push({x:z[z.length-1].x,y:a.height-b.b}),I.push({x:z[0].x,y:a.height-b.b}),I.push(z[0]),w.dyn.fill=d.createPolyline(I).setFill(H).getFill())}if(this.opt.lines||
this.opt.markers)m=C.series.stroke,C.series.outline&&(p=w.dyn.outline=e.makeStroke(C.series.outline),p.width=2*p.width+m.width);this.opt.markers&&(w.dyn.marker=C.symbol);var J=null,M=null,L=null;if(m&&C.series.shadow&&1<z.length){var N=C.series.shadow,H=g.map(z,function(a){return{x:a.x+N.dx,y:a.y+N.dy}});this.opt.lines&&(w.dyn.shadow=this.opt.tension?d.createPath(e.curve(H,this.opt.tension)).setStroke(N).getStroke():d.createPolyline(H).setStroke(N).getStroke());this.opt.markers&&C.marker.shadow&&
(N=C.marker.shadow,L=g.map(H,function(a){return this.createPath(w,d,"M"+a.x+" "+a.y+" "+C.symbol).setStroke(N).setFill(N.color)},this))}if(this.opt.lines&&1<z.length){var O;p&&(w.dyn.outline=this.opt.tension?d.createPath(F).setStroke(p).getStroke():d.createPolyline(z).setStroke(p).getStroke());w.dyn.stroke=this.opt.tension?(O=d.createPath(F)).setStroke(m).getStroke():(O=d.createPolyline(z)).setStroke(m).getStroke();O.setFilter&&C.series.filter&&O.setFilter(C.series.filter)}F=null;if(this.opt.markers){var Q=
C,J=Array(z.length),M=Array(z.length);p=null;Q.marker.outline&&(p=e.makeStroke(Q.marker.outline),p.width=2*p.width+(Q.marker.stroke?Q.marker.stroke.width:0));g.forEach(z,function(a,b){if(this.opt.styleFunc||"number"!=typeof a.data){var c="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&c.push(this.opt.styleFunc(a.data));Q=f.addMixin(C,"marker",c,!0)}else Q=f.post(C,"marker");c="M"+a.x+" "+a.y+" "+Q.symbol;p&&(M[b]=this.createPath(w,d,c).setStroke(p));J[b]=this.createPath(w,d,c).setStroke(Q.marker.stroke).setFill(Q.marker.fill)},
this);w.dyn.markerFill=Q.marker.fill;w.dyn.markerStroke=Q.marker.stroke;!F&&this.opt.labels&&(F=J[0].getBoundingBox());D?g.forEach(J,function(a,b){var c={element:"marker",index:b+E.index,run:w,shape:a,outline:M[b]||null,shadow:L&&L[b]||null,cx:z[b].x,cy:z[b].y};B?(c.x=b+E.index+1,c.y=w.data[b+E.index]):(c.x=E.rseg[b].x,c.y=w.data[b+E.index].y);this._connectEvents(c);x[b+E.index]=c},this):delete this._eventSeries[w.name]}if(this.opt.labels){var $=F?F.width:2,R=F?F.height:2;g.forEach(z,function(a,b){if(this.opt.styleFunc||
"number"!=typeof a.data){var c="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&c.push(this.opt.styleFunc(a.data));Q=f.addMixin(C,"marker",c,!0)}else Q=f.post(C,"marker");this.createLabel(d,E.rseg[b],{x:a.x-$/2,y:a.y-R/2,width:$,height:R},Q)},this)}}w.dirty=!1}else w.dirty=!1,f.skip()}k("dojo-bidi")&&this._checkOrientation(this.group,a,b);this.animate&&(m=this.getGroup(),h.animateTransform(l.delegate({shape:m,duration:1200,transform:[{name:"translate",start:[0,a.height-b.b],end:[0,0]},{name:"scale",
start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play());this.dirty=!1;return this}})})},"common/widgets/form/NumberInput":function(){define(["dijit/form/NumberTextBox"],function(l){return l.createSubclass([],{_onInput:function(l){this.inherited(arguments);"Enter"===l.keyIdentifier&&this.focusNode.blur()},_onFocus:function(){this.inherited(arguments);this._focusValue=this.get("value")},_onBlur:function(){var l=this.get("value");this.inherited(arguments);l!==this._focusValue&&this.emit("input-change",
{detail:{name:this.name,value:l}})}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(l,m,g){return l("dojo.store.Memory",null,{constructor:function(g){for(var f in g)this[f]=g[f];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:g,get:function(g){return this.data[this.index[g]]},getIdentity:function(g){return g[this.idProperty]},put:function(g,f){var d=this.data,e=this.index,c=this.idProperty,c=g[c]=
f&&"id"in f?f.id:c in g?g[c]:Math.random();if(c in e){if(f&&!1===f.overwrite)throw Error("Object already exists");d[e[c]]=g}else e[c]=d.push(g)-1;return c},add:function(g,f){(f=f||{}).overwrite=!1;return this.put(g,f)},remove:function(g){var f=this.index,d=this.data;if(g in f)return d.splice(f[g],1),this.setData(d),!0},query:function(g,f){return m(this.queryEngine(g,f)(this.data))},setData:function(g){g.items?(this.idProperty=g.identifier||this.idProperty,g=this.data=g.items):this.data=g;this.index=
{};for(var f=0,d=g.length;f<d;f++)this.index[g[f][this.idProperty]]=f}})})},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(l,m,g){function k(b,a,c){var d=new g.Palette;d.colors=[];m.forEach(b.colors,function(b){var e="dg"==a?b.g+c:b.g,f="db"==a?b.b+c:b.b,k="da"==a?b.a+c:b.a;d.colors.push(new g.Color({r:Math.min(255,Math.max(0,"dr"==a?b.r+c:b.r)),g:Math.min(255,Math.max(0,e)),b:Math.min(255,Math.max(0,f)),a:Math.min(1,Math.max(0,k))}))});return d}
function f(b,a,c){var d=new g.Palette;d.colors=[];m.forEach(b.colors,function(b){b=b.toCmy();var e="dm"==a?b.m+c:b.m,f="dy"==a?b.y+c:b.y;d.colors.push(g.fromCmy(Math.min(100,Math.max(0,"dc"==a?b.c+c:b.c)),Math.min(100,Math.max(0,e)),Math.min(100,Math.max(0,f))))});return d}function d(b,a,c){var d=new g.Palette;d.colors=[];m.forEach(b.colors,function(b){b=b.toCmyk();var e="dm"==a?b.m+c:b.m,f="dy"==a?b.y+c:b.y,k="dk"==a?b.b+c:b.b;d.colors.push(g.fromCmyk(Math.min(100,Math.max(0,"dc"==a?b.c+c:b.c)),
Math.min(100,Math.max(0,e)),Math.min(100,Math.max(0,f)),Math.min(100,Math.max(0,k))))});return d}function e(b,a,c){var d=new g.Palette;d.colors=[];m.forEach(b.colors,function(b){b=b.toHsl();var e="dl"==a?b.l+c:b.l;d.colors.push(g.fromHsl(("dh"==a?b.h+c:b.h)%360,Math.min(100,Math.max(0,"ds"==a?b.s+c:b.s)),Math.min(100,Math.max(0,e))))});return d}function c(b,a,c){var d=new g.Palette;d.colors=[];m.forEach(b.colors,function(b){b=b.toHsv();var e="dv"==a?b.v+c:b.v;d.colors.push(g.fromHsv(("dh"==a?b.h+
c:b.h)%360,Math.min(100,Math.max(0,"ds"==a?b.s+c:b.s)),Math.min(100,Math.max(0,e))))});return d}g.Palette=function(b){this.colors=[];b instanceof g.Palette?this.colors=b.colors.slice(0):b instanceof g.Color?this.colors=[null,null,b,null,null]:l.isArray(b)?this.colors=m.map(b.slice(0),function(a){return l.isString(a)?new g.Color(a):a}):l.isString(b)&&(this.colors=[null,null,new g.Color(b),null,null])};l.extend(g.Palette,{transform:function(b){var a=k;if(b.use){var h=b.use.toLowerCase();0==h.indexOf("hs")?
a="l"==h.charAt(2)?e:c:0==h.indexOf("cmy")&&(a="k"==h.charAt(3)?d:f)}else if("dc"in b||"dm"in b||"dy"in b)a="dk"in b?d:f;else if("dh"in b||"ds"in b)a="dv"in b?c:e;var h=this,g;for(g in b)"use"!=g&&(h=a(h,g,b[g]));return h},clone:function(){return new g.Palette(this)}});l.mixin(g.Palette,{generators:{analogous:function(b){var a=b.high||60,c=b.low||18;b=(l.isString(b.base)?new g.Color(b.base):b.base).toHsv();var a=[(b.h+c+360)%360,(b.h+Math.round(c/2)+360)%360,b.h,(b.h-Math.round(a/2)+360)%360,(b.h-
a+360)%360],c=Math.max(10,95>=b.s?b.s+5:100-(b.s-95)),d=1<b.s?b.s-1:21-b.s,e=92<=b.v?b.v-9:Math.max(b.v+9,20),f=90>=b.v?Math.max(b.v+5,20):95+Math.ceil((b.v-90)/2),k=[c,d,b.s,c,c],t=[e,f,b.v,e,f];return new g.Palette(m.map(a,function(a,b){return g.fromHsv(a,k[b],t[b])}))},monochromatic:function(b){b=l.isString(b.base)?new g.Color(b.base):b.base;var a=b.toHsv(),c=9<a.s-30?a.s-30:a.s+30,d=a.s,e=20<a.v-20?a.v-20:a.v+60,f=20<a.v-50?a.v-50:a.v+30;return new g.Palette([g.fromHsv(a.h,c,100-0.8*(100-a.v)),
g.fromHsv(a.h,d,f),b,g.fromHsv(a.h,c,f),g.fromHsv(a.h,d,e)])},triadic:function(b){b=l.isString(b.base)?new g.Color(b.base):b.base;var a=b.toHsv(),c=(a.h-157+360)%360,d=90<a.s?a.s-10:a.s+10,e=95<a.s?a.s-5:a.s+5,f=20<a.v-20?a.v-20:a.v+20,k=20<a.v-30?a.v-30:a.v+30,m=70<a.v-30?a.v-30:a.v+30;return new g.Palette([g.fromHsv((a.h+57+360)%360,20<a.s?a.s-10:a.s+10,a.v),g.fromHsv(a.h,d,k),b,g.fromHsv(c,d,f),g.fromHsv(c,e,m)])},complementary:function(b){b=l.isString(b.base)?new g.Color(b.base):b.base;var a=
b.toHsv(),c=360>2*a.h+137?2*a.h+137:Math.floor(a.h/2)-137,d=Math.max(a.s-10,0),e=100-0.9*(100-a.s),f=Math.min(100,a.s+20),k=Math.min(100,a.v+30),m=20<a.v?a.v-30:a.v+30;return new g.Palette([g.fromHsv(a.h,d,k),g.fromHsv(a.h,e,m),b,g.fromHsv(c,f,m),g.fromHsv(c,a.s,a.v)])},splitComplementary:function(b){var a=l.isString(b.base)?new g.Color(b.base):b.base,c=b.da||30;b=a.toHsv();var d=360>2*b.h+137?2*b.h+137:Math.floor(b.h/2)-137,e=(d-c+360)%360,c=(d+c)%360,d=Math.max(b.s-10,0),f=100-0.9*(100-b.s),k=Math.min(100,
b.s+20),m=Math.min(100,b.v+30),s=20<b.v?b.v-30:b.v+30;return new g.Palette([g.fromHsv(e,d,m),g.fromHsv(e,f,s),a,g.fromHsv(c,k,s),g.fromHsv(c,b.s,b.v)])},compound:function(b){b=l.isString(b.base)?new g.Color(b.base):b.base;var a=b.toHsv(),c=360>2*a.h+18?2*a.h+18:Math.floor(a.h/2)-18,d=360>2*a.h+120?2*a.h+120:Math.floor(a.h/2)-120,e=360>2*a.h+99?2*a.h+99:Math.floor(a.h/2)-99,f=10<a.s-40?a.s-40:a.s+40,k=80<a.s-10?a.s-10:a.s+10,m=10<a.s-25?a.s-25:a.s+25,s=10<a.v-40?a.v-40:a.v+40,p=80<a.v-20?a.v-20:a.v+
20,a=Math.max(a.v,20);return new g.Palette([g.fromHsv(c,f,s),g.fromHsv(c,k,p),b,g.fromHsv(d,m,a),g.fromHsv(e,k,p)])},shades:function(b){b=l.isString(b.base)?new g.Color(b.base):b.base;var a=b.toHsv(),c=100==a.s&&0==a.v?0:a.s,d=20<a.v-50?a.v-50:a.v+30,e=20<=a.v-25?a.v-25:a.v+55,f=20<=a.v-75?a.v-75:a.v+5,k=Math.max(a.v-10,20);return new g.Palette([new g.fromHsv(a.h,c,d),new g.fromHsv(a.h,c,e),b,new g.fromHsv(a.h,c,f),new g.fromHsv(a.h,c,k)])}},generate:function(b,a){if(l.isFunction(a))return a({base:b});
if(g.Palette.generators[a])return g.Palette.generators[a]({base:b});throw Error("dojox.color.Palette.generate: the specified generator ('"+a+"') does not exist.");}});return g.Palette})},"common/widgets/form/ToggleButtonGroup":function(){define(["dijit/_WidgetBase","./ToggleButton"],function(l,m){return l.createSubclass([],{baseClass:"toggle-group",value:null,buttons:null,singleSelect:!1,postMixInProperties:function(){this.inherited(arguments);this.buttons||(this.buttons=[])},buildRendering:function(){this.inherited(arguments);
var g=this;this.buttons=this.buttons.map(function(k){k=new m({baseClass:"dijitButton",label:k.label,name:k.name,_onClick:function(){return g._onButtonClick(this)}});k.placeAt(g.domNode);k.watch("checked",function(){g._updateValue()});return k})},_onButtonClick:function(g){var k=this.buttons.reduce(function(f,d){return f+(d.checked?1:0)},0);g.checked?1<k&&g.set("checked",!1):(this.singleSelect&&(this._ignoreUpdates=!0,this.buttons.forEach(function(f){name!==f.name&&f.set("checked",!1)}),this._ignoreUpdates=
!1),g.set("checked",!0))},_updateValue:function(){if(!this._ignoreUpdates){var g=[];this.buttons.forEach(function(k){k.checked&&g.push(k.name)});this.singleSelect&&(g=g[0]);this._set("value",g)}},_getValueAttr:function(){this.value||this._updateValue();return this.value},_setValueAttr:function(g){this._ignoreUpdates=!0;var k={};this.buttons.forEach(function(f){f.set("checked",!1);k[f.name]=f});g&&(this.singleSelect?(g=k[g])&&g.set("checked",!0):("string"===typeof g&&(g=[g]),g.forEach(function(f){(f=
k[f])&&f.set("checked",!0)})));this._ignoreUpdates=!1;this._updateValue()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(l,m,g,k,f){var d=l.getObject("dojox.charting.axis2d.common",!0),e=function(c){c.marginLeft="0px";c.marginTop="0px";c.marginRight="0px";c.marginBottom="0px";c.paddingLeft="0px";c.paddingTop="0px";c.paddingRight="0px";c.paddingBottom="0px";c.borderLeftWidth="0px";c.borderTopWidth="0px";
c.borderRightWidth="0px";c.borderBottomWidth="0px"};return l.mixin(d,{createText:{gfx:function(c,b,a,d,e,f,g,k){return b.createText({x:a,y:d,text:f,align:e}).setFont(g).setFill(k)},html:function(c,b,a,d,l,n,v,r,t){b=m.doc.createElement("div");var s=b.style,p;c.getTextDir&&(b.dir=c.getTextDir(n));e(s);s.font=v;b.innerHTML=String(n).replace(/\s/g,"\x26nbsp;");s.color=r;s.position="absolute";s.left="-10000px";m.body().appendChild(b);var D=k.normalizedLength(k.splitFontString(v).size);t||(b.getBoundingClientRect?
(p=b.getBoundingClientRect(),p=p.width||p.right-p.left):p=g.getMarginBox(b).w);"rtl"==b.dir&&(a+=t?t:p);m.body().removeChild(b);s.position="relative";if(t)switch(s.width=t+"px",l){case "middle":s.textAlign="center";s.left=a-t/2+"px";break;case "end":s.textAlign="right";s.left=a-t+"px";break;default:s.left=a+"px",s.textAlign="left"}else switch(l){case "middle":s.left=Math.floor(a-p/2)+"px";break;case "end":s.left=Math.floor(a-p)+"px";break;default:s.left=Math.floor(a)+"px"}s.top=Math.floor(d-D)+"px";
s.whiteSpace="nowrap";t=m.doc.createElement("div");s=t.style;e(s);s.width="0px";s.height="0px";t.appendChild(b);c.node.insertBefore(t,c.node.firstChild);f("dojo-bidi")&&c.htmlElementsRegistry.push([t,a,d,l,n,v,r]);return t}}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(l){var m={linear:function(g){return g},quadIn:function(g){return Math.pow(g,2)},quadOut:function(g){return-1*g*(g-2)},quadInOut:function(g){g*=2;return 1>g?Math.pow(g,2)/2:-1*(--g*(g-2)-1)/2},cubicIn:function(g){return Math.pow(g,
3)},cubicOut:function(g){return Math.pow(g-1,3)+1},cubicInOut:function(g){g*=2;return 1>g?Math.pow(g,3)/2:(Math.pow(g-2,3)+2)/2},quartIn:function(g){return Math.pow(g,4)},quartOut:function(g){return-1*(Math.pow(g-1,4)-1)},quartInOut:function(g){g*=2;return 1>g?Math.pow(g,4)/2:-0.5*(Math.pow(g-2,4)-2)},quintIn:function(g){return Math.pow(g,5)},quintOut:function(g){return Math.pow(g-1,5)+1},quintInOut:function(g){g*=2;return 1>g?Math.pow(g,5)/2:(Math.pow(g-2,5)+2)/2},sineIn:function(g){return-1*Math.cos(g*
(Math.PI/2))+1},sineOut:function(g){return Math.sin(g*(Math.PI/2))},sineInOut:function(g){return-1*(Math.cos(Math.PI*g)-1)/2},expoIn:function(g){return 0==g?0:Math.pow(2,10*(g-1))},expoOut:function(g){return 1==g?1:-1*Math.pow(2,-10*g)+1},expoInOut:function(g){if(0==g)return 0;if(1==g)return 1;g*=2;if(1>g)return Math.pow(2,10*(g-1))/2;--g;return(-1*Math.pow(2,-10*g)+2)/2},circIn:function(g){return-1*(Math.sqrt(1-Math.pow(g,2))-1)},circOut:function(g){return Math.sqrt(1-Math.pow(g-1,2))},circInOut:function(g){g*=
2;return 1>g?-0.5*(Math.sqrt(1-Math.pow(g,2))-1):0.5*(Math.sqrt(1-Math.pow(g-2,2))+1)},backIn:function(g){return Math.pow(g,2)*(2.70158*g-1.70158)},backOut:function(g){g-=1;return Math.pow(g,2)*(2.70158*g+1.70158)+1},backInOut:function(g){g*=2;if(1>g)return Math.pow(g,2)*(3.5949095*g-2.5949095)/2;g-=2;return(Math.pow(g,2)*(3.5949095*g+2.5949095)+2)/2},elasticIn:function(g){if(0==g||1==g)return g;g-=1;return-1*Math.pow(2,10*g)*Math.sin((g-0.075)*2*Math.PI/0.3)},elasticOut:function(g){return 0==g||
1==g?g:Math.pow(2,-10*g)*Math.sin((g-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(g){if(0==g)return 0;g*=2;if(2==g)return 1;var k=0.3*1.5,f=k/4;if(1>g)return g-=1,-0.5*Math.pow(2,10*g)*Math.sin((g-f)*2*Math.PI/k);g-=1;return 0.5*Math.pow(2,-10*g)*Math.sin((g-f)*2*Math.PI/k)+1},bounceIn:function(g){return 1-m.bounceOut(1-g)},bounceOut:function(g){g<1/2.75?g=7.5625*Math.pow(g,2):g<2/2.75?g=7.5625*Math.pow(g-1.5/2.75,2)+0.75:g<2.5/2.75?(g-=2.25/2.75,g=7.5625*Math.pow(g,2)+0.9375):(g-=2.625/2.75,g=
7.5625*Math.pow(g,2)+0.984375);return g},bounceInOut:function(g){return 0.5>g?m.bounceIn(2*g)/2:m.bounceOut(2*g-1)/2+0.5}};l.setObject("dojo.fx.easing",m);return m})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,m){var g={};m.setObject("dojo.regexp",g);g.escapeString=function(g,f){return g.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(d){return f&&-1!=f.indexOf(d)?d:"\\"+d})};g.buildGroupRE=function(k,f,d){if(!(k instanceof Array))return f(k);for(var e=[],c=0;c<k.length;c++)e.push(f(k[c]));
return g.group(e.join("|"),d)};g.group=function(g,f){return"("+(f?"?:":"")+g+")"};return g})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(l,m,g,k,f){return l("dijit.DropDownMenu",[f,k],{templateString:g,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(d){this._moveToPopup(d);d.stopPropagation();d.preventDefault()},
_onLeftArrow:function(d){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else d.stopPropagation(),d.preventDefault()}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(l,m,g,k,f,d){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(d){var c=[];l.forEach(d||this.getChildren(),function(b){"value"in b?c.push(b):
c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(d){d.reset&&d.reset()})},validate:function(){var e=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var b=c.disabled||!c.validate||c.validate();!b&&!e&&(d.scrollIntoView(c.containerNode||c.domNode),c.focus(),e=!0);return b}),function(c){return c})},setValues:function(d){g.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.",
"","2.0");return this.set("value",d)},_setValueAttr:function(d){var c={};l.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var b in c)if(c.hasOwnProperty(b)){var a=c[b],f=k.getObject(b,!1,d);void 0!==f&&(f=[].concat(f),"boolean"==typeof a[0].checked?l.forEach(a,function(a){a.set("value",-1!=l.indexOf(f,a._get("value")))}):a[0].multiple?a[0].set("value",f):l.forEach(a,function(a,b){a.set("value",f[b])}))}},getValues:function(){g.deprecated(this.declaredClass+
"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d={};l.forEach(this._getDescendantFormWidgets(),function(c){var b=c.name;if(b&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==a?k.setObject(b,a,d):(a=k.getObject(b,!1,d),void 0===a&&k.setObject(b,null,d)):(c=k.getObject(b,!1,d),c||(c=[],k.setObject(b,c,d)),!1!==a&&c.push(a)):(c=k.getObject(b,!1,d),"undefined"!=typeof c?k.isArray(c)?
c.push(a):k.setObject(b,[c,a],d):k.setObject(b,a,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var d=l.map(this._descendants,function(c){return c.get("state")||""});return 0<=l.indexOf(d,"Error")?"Error":0<=l.indexOf(d,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(d){this._descendants=this._getDescendantFormWidgets();l.forEach(this._descendants,function(c){c._started||c.startup()});d||this._onChildChange()},
_onChildChange:function(d){(!d||"state"==d||"disabled"==d)&&this._set("state",this._getState());if(!d||"value"==d||"disabled"==d||"checked"==d)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var d=this;this.own(f(this.containerNode,
"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=d.domNode&&d._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",
_setReadOnlyAttr:function(g){this._set("readOnly",g);m.set(this.focusNode,"readOnly",g)},_setLabelAttr:void 0,_getSubmitValue:function(g){return null==g||""===g?"on":g},_setValueAttr:function(g){g=this._getSubmitValue(g);this._set("value",g);m.set(this.focusNode,"value",g)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(g){return this.readOnly?(g.stopPropagation(),g.preventDefault(),
!1):this.inherited(arguments)}})})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(l,m,g,k){return g("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(f){},raiseEvent:function(f){this.plotEvent(f);var d=l.delegate(f);d.originalEvent=f.type;d.originalPlot=f.plot;
d.type="onindirect";m.forEach(this.chart.stack,function(e){e!==this&&e.plotEvent&&(d.plot=e,e.plotEvent(d))},this)},connect:function(f,d){this.dirty=!0;return k.connect(this,"plotEvent",f,d)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(m.forEach(this._shapeEvents,function(f){f.shape.disconnect(f.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(f,d){this._shapeEvents.push({shape:f.eventMask,
handle:f.eventMask.connect(d,this,function(e){f.type=d;f.event=e;this.raiseEvent(f);f.event=null})})},_connectEvents:function(f){f&&(f.chart=this.chart,f.plot=this,f.hAxis=this.hAxis||null,f.vAxis=this.vAxis||null,f.eventMask=f.eventMask||f.shape,this._connectSingleEvent(f,"onmouseover"),this._connectSingleEvent(f,"onmouseout"),this._connectSingleEvent(f,"onclick"))},_reconnectEvents:function(f){(f=this._eventSeries[f])&&m.forEach(f,this._connectEvents,this)},fireEvent:function(f,d,e,c){if((f=this._eventSeries[f])&&
f.length&&e<f.length)e=f[e],e.type=d,e.event=c||null,this.raiseEvent(e),e.event=null}})})},"dojox/charting/plot2d/commonStacked":function(){define(["dojo/_base/lang","./common"],function(l,m){var g=l.getObject("dojox.charting.plot2d.commonStacked",!0);return l.mixin(g,{collectStats:function(k){for(var f=l.delegate(m.defaultStats),d=0;d<k.length;++d)for(var e=k[d],c=0;c<e.data.length;c++){var b,a;null!==e.data[c]&&("number"==typeof e.data[c]||!e.data[c].hasOwnProperty("x")?(a=g.getIndexValue(k,d,c)[0],
b=c+1):(b=e.data[c].x,null!==b&&(a=g.getValue(k,d,b)[0],a=null!=a&&a.y?a.y:null)),f.hmin=Math.min(f.hmin,b),f.hmax=Math.max(f.hmax,b),f.vmin=Math.min(f.vmin,a),f.vmax=Math.max(f.vmax,a))}return f},getIndexValue:function(g,f,d){var e=0,c,b,a;for(b=0;b<=f;++b)a=e,c=g[b].data[d],null!=c&&(isNaN(c)&&(c=c.y||0),e+=c);return[e,a]},getValue:function(g,f,d){var e=null,c,b,a,h;for(c=0;c<=f;++c)for(b=0;b<g[c].data.length;b++)if(h=e,a=g[c].data[b],null!==a)if(a.x==d){e||(e={x:d});null!=a.y&&(null==e.y&&(e.y=
0),e.y+=a.y);break}else if(a.x>d)break;return[e,h]}})})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(l,m,g,k,f){return g("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,constructor:function(d){this.chart=d;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol="...";this._events=[]},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();
var d=this.getGroup().children;if(f.dispose)for(var e=0;e<d.length;++e)f.dispose(d[e],!0);this.getGroup().rawNode&&m.empty(this.getGroup().rawNode);this.getGroup().clear();f.dispose&&f.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&m.empty(this.group.rawNode),this.group.clear(),f.dispose&&f.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(l.forEach(this._events,function(c){c.shape.disconnect(c.handle)}),this._events=[]);return this},cleanGroup:function(d){this.destroyHtmlElements();
d||(d=this.chart.surface);if(this.group){var e;d=this.getGroup().children;if(f.dispose)for(var c=0;c<d.length;++c)f.dispose(d[c],!0);this.getGroup().rawNode&&(e=this.getGroup().bgNode,m.empty(this.getGroup().rawNode));this.getGroup().clear();e&&this.getGroup().rawNode.appendChild(e)}else this.group=d.createGroup();this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(l.forEach(this.htmlElements,m.destroy),this.htmlElements=[])},
destroy:function(){this.purgeGroup()},getTextWidth:function(d,e){return k._base._getTextBox(d,{font:e}).w||0},getTextWithLimitLength:function(d,e,c,b){if(!d||0>=d.length)return{text:"",truncated:b||!1};if(!c||0>=c)return{text:d,truncated:b||!1};var a=d.substring(0,1)+this.trailingSymbol,f=this.getTextWidth(a,e);if(c<=f)return{text:a,truncated:!0};if(this.getTextWidth(d,e)<=c)return{text:d,truncated:b||!1};b=0;for(a=d.length;b<a;){if(2>=a-b){for(;this.getTextWidth(d.substring(0,b)+this.trailingSymbol,
e)>c;)b-=1;return{text:d.substring(0,b)+this.trailingSymbol,truncated:!0}}f=b+Math.round(0.618*(a-b));this.getTextWidth(d.substring(0,f),e)<c?b=f:a=f}},getTextWithLimitCharCount:function(d,e,c,b){return!d||0>=d.length?{text:"",truncated:b||!1}:!c||0>=c||d.length<=c?{text:d,truncated:b||!1}:{text:d.substring(0,c)+this.trailingSymbol,truncated:!0}},_plotFill:function(d,e,c){if(!d||!d.type||!d.space)return d;var b=d.space,a;switch(d.type){case "linear":if("plot"===b||"shapeX"===b||"shapeY"===b){d=k.makeParameters(k.defaultLinearGradient,
d);d.space=b;if("plot"===b||"shapeX"===b)a=e.height-c.t-c.b,d.y1=c.t+a*d.y1/100,d.y2=c.t+a*d.y2/100;if("plot"===b||"shapeY"===b)a=e.width-c.l-c.r,d.x1=c.l+a*d.x1/100,d.x2=c.l+a*d.x2/100}break;case "radial":"plot"===b&&(d=k.makeParameters(k.defaultRadialGradient,d),d.space=b,b=e.width-c.l-c.r,e=e.height-c.t-c.b,d.cx=c.l+b*d.cx/100,d.cy=c.t+e*d.cy/100,d.r=d.r*Math.sqrt(b*b+e*e)/200);break;case "pattern":if("plot"===b||"shapeX"===b||"shapeY"===b){d=k.makeParameters(k.defaultPattern,d);d.space=b;if("plot"===
b||"shapeX"===b)a=e.height-c.t-c.b,d.y=c.t+a*d.y/100,d.height=a*d.height/100;if("plot"===b||"shapeY"===b)a=e.width-c.l-c.r,d.x=c.l+a*d.x/100,d.width=a*d.width/100}}return d},_shapeFill:function(d,e){if(!d||!d.space)return d;var c=d.space,b;switch(d.type){case "linear":if("shape"===c||"shapeX"===c||"shapeY"===c){d=k.makeParameters(k.defaultLinearGradient,d);d.space=c;if("shape"===c||"shapeX"===c)b=e.width,d.x1=e.x+b*d.x1/100,d.x2=e.x+b*d.x2/100;if("shape"===c||"shapeY"===c)b=e.height,d.y1=e.y+b*d.y1/
100,d.y2=e.y+b*d.y2/100}break;case "radial":"shape"===c&&(d=k.makeParameters(k.defaultRadialGradient,d),d.space=c,d.cx=e.x+e.width/2,d.cy=e.y+e.height/2,d.r=d.r*e.width/200);break;case "pattern":if("shape"===c||"shapeX"===c||"shapeY"===c){d=k.makeParameters(k.defaultPattern,d);d.space=c;if("shape"===c||"shapeX"===c)b=e.width,d.x=e.x+b*d.x/100,d.width=b*d.width/100;if("shape"===c||"shapeY"===c)b=e.height,d.y=e.y+b*d.y/100,d.height=b*d.height/100}}return d},_pseudoRadialFill:function(d,e,c,b,a){if(!d||
"radial"!==d.type||"shape"!==d.space)return d;var f=d.space;d=k.makeParameters(k.defaultRadialGradient,d);d.space=f;if(4>arguments.length)return d.cx=e.x,d.cy=e.y,d.r=d.r*c/100,d;f=5>arguments.length?b:(a+b)/2;return{type:"linear",x1:e.x,y1:e.y,x2:e.x+d.r*c*Math.cos(f)/100,y2:e.y+d.r*c*Math.sin(f)/100,colors:d.colors}}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(l,m,g,k,f,d,e,c,b,a){return m("dijit._KeyNavContainer",[b,a,c],{connectKeyNavHandlers:function(a,b){var c=this._keyNavCodes={},e=d.hitch(this,"focusPrev"),g=d.hitch(this,"focusNext");l.forEach(a,function(a){c[a]=e});l.forEach(b,function(a){c[a]=g});c[f.HOME]=d.hitch(this,"focusFirstChild");c[f.END]=d.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){k.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);l.forEach(this.getChildren(),
d.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
e.byNode(a))&&a.getParent()==this}})})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(l,m,g,k,f,d,e,c,b){function a(a,c){b(document.body,a,".dgrid-scrollbar-measure");var d=a["offset"+c]-a["client"+c];a.className="";document.body.removeChild(a);return d}function h(a){var c=a?"."+a.replace(p,"."):"";this._class&&
(c="!"+this._class.replace(p,"!")+c);b(this.domNode,c);this._class=a}function q(){return this._class}function n(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function v(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&(this.bodyNode.scrollTop=a.y)}c("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var r,t;f.add("dom-scrollbar-width",function(b,c,d){return a(d,"Width")});f.add("dom-scrollbar-height",function(b,c,d){return a(d,
"Height")});f.add("dom-rtl-scrollbar-left",function(a,c,d){a=b("div");b(document.body,d,".dgrid-scrollbar-measure[dir\x3drtl]");b(d,a);c=!!f("ie")||!!f("trident")||a.offsetLeft>=f("dom-scrollbar-width");d.className="";document.body.removeChild(d);b(a,"!");d.removeAttribute("dir");return c});var s=0,p=/ +/g,D=7>f("ie")&&!f("quirks")?function(){var a,b,c;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,c=this._prevWinDims||[],c[0]!==b||c[1]!==a))this.resize(),this._prevWinDims=
[b,a]}:function(){this._started&&this.resize()};return m(f("touch")?e:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,
c){var d=this.domNode=c||b("div"),e;a?(this.params=a,m.safeMixin(this,a),e=a["class"]||a.className||d.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=d.id=d.id||this.id||"dgrid_"+s++;null===this.useTouchScroll&&(this.useTouchScroll=!f("dom-scrollbar-width"));this.buildRendering();e&&h.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&
this.startup()},buildRendering:function(){var a=this.domNode,c=this.addUiClasses,e=this,h,g,l,p;p=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();a.className="";b(a,"[role\x3dgrid].dgrid.dgrid-"+this.listType+(c?".ui-widget":""));h=this.headerNode=b(a,"div.dgrid-header.dgrid-header-row"+(c?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(f("quirks")||8>f("ie"))&&b(a,"div.dgrid-spacer");g=this.bodyNode=b(a,"div.dgrid-scroller");
f("ff")&&(g.tabIndex=-1);this.headerScrollNode=b(a,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(c?".ui-widget-header":""));l=this.footerNode=b("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));b(a,l);p&&(a.className+=" dgrid-rtl"+(f("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));k(g,"scroll",function(b){e.showHeader&&(h.scrollLeft=b.scrollLeft||g.scrollLeft);b.stopPropagation();k.emit(a,"scroll",{scrollTarget:g})});this.configStructure();this.renderHeader();this.contentNode=
this.touchNode=b(this.bodyNode,"div.dgrid-content"+(c?".ui-widget-content":""));this._listeners.push(this._resizeHandle=k(window,"resize",d.throttleDelayed(D,this)))},postCreate:f("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,b=this.headerNode,c=this.footerNode,e=b.offsetHeight,
h=this.showFooter?c.offsetHeight:0,g=f("quirks")||7>f("ie");this.headerScrollNode.style.height=a.style.marginTop=e+"px";a.style.marginBottom=h+"px";g&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-e-h,0)+"px",h&&(c.style.bottom="1px",setTimeout(function(){c.style.bottom=""},0)));r||(r=f("dom-scrollbar-width"),t=f("dom-scrollbar-height"),f("ie")&&(r++,t++),d.addCssRule(".dgrid-scrollbar-width","width: "+r+"px"),d.addCssRule(".dgrid-scrollbar-height","height: "+t+"px"),17!=r&&
!g&&(d.addCssRule(".dgrid-header-row","right: "+r+"px"),d.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+r+"px")));g&&(b.style.width=a.clientWidth+"px",setTimeout(function(){b.scrollLeft=a.scrollLeft},0))},addCssRule:function(a,b){var c=d.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(c);return c},on:function(a,b){var c=k(this.domNode,a,b);f("dom-addeventlistener")||this._listeners.push(c);return c},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=
this.columns){var c=document.getElementById(b);c&&this.removeRow(c,!0)}for(b=0;b<a.length;b++)(c=a[b])&&c.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();delete this._listeners}this._started=!1;this.cleanup();b(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";
this.scrollTo({x:0,y:0})},newRow:function(a,c,d,e,f){if(c){var h=this.insertRow(a,c,d,e,f);b(h,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){b(h,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return h}},adjustRowIndices:function(a){var c=a.rowIndex;if(-1<c){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&b(a,"."+(1==c%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==c%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=
c++);while((a=a.nextSibling)&&a.rowIndex!=c)}},renderArray:function(a,b,c){function d(){var b=arguments;if(-1<n)for(var f=0;f<b.length;f++){var h=b[f],g=m[h?0:m.length-1];if(g=g&&e(g)){var l=g[h?"previousSibling":"nextSibling"];l&&(l=k.row(l));l&&l.element!=g&&(h=h?"unshift":"push",a[h](l.data),m[h](l.element),c.count++)}}}function e(a){return!g.isDescendant(a,k.domNode)&&document.getElementById(a.id)?k.row(a.id.slice(k.id.length+5)).element:a}function f(a){v=k.insertRow(a,s,null,l++,c);v.observerIndex=
n;return v}function h(a){t=a.slice(0);(q=b?b.parentNode:k.contentNode)&&q.parentNode&&(q!==k.contentNode||a.length)?(q.insertBefore(s,b||null),(v=a[a.length-1])&&k.adjustRowIndices(v)):p[n]&&k.cleanEmptyObservers&&"undefined"!==typeof n&&(p[n].cancel(),p[n]=0,k._numObservers--);m=a;r&&(r.rows=m)}c=c||{};var k=this,l=c.start||0,p=this.observers,m,q,n;b||(this._lastCollection=a);if(a.observe){k._numObservers++;var r=a.observe(function(f,h,g){var l,p,r;-1<h&&m[h]&&(l=m.splice(h,1)[0],l.parentNode==q&&
((p=l.nextSibling)&&h!=g&&p.rowIndex--,k.removeRow(l)),c.count--,k._processScroll&&k._processScroll());if(-1<g){if(m.length)if(0===g)r=(r=m[g])&&e(r);else{if(r=m[g-1])r=e(r),r=(r.connected||r).nextSibling}else r=k._getFirstRowSibling&&k._getFirstRowSibling(q);l&&(r&&l.id===r.id)&&(r=(r.connected||r).nextSibling);r&&!r.parentNode&&(r=document.getElementById(r.id));l=b&&b.parentNode||r&&r.parentNode||k.contentNode;if(l=k.newRow(f,l,r,c.start+g,c))if(l.observerIndex=n,m.splice(g,0,l),!p||g<h)p=l.previousSibling,
p=!p||p.rowIndex+1==l.rowIndex||0==l.rowIndex?l:p;c.count++}0===h?d(1,1):h===a.length-(-1===g?0:1)&&d(0,0);h!=g&&p&&k.adjustRowIndices(p);k._onNotification(m,f,h,g)},!0);n=p.push(r)-1}var s=document.createDocumentFragment(),v,t;if(a.map){if(m=a.map(f,console.error),m.then)return a.then(function(b){a=b;return m.then(function(a){h(a);d(1,1,0,0);return t})})}else{m=[];for(var D=0,O=a.length;D<O;D++)m[D]=f(a[D])}h(m);d(1,1,0,0);return t},_onNotification:function(a,b,c,d){},renderHeader:function(){},_autoId:0,
insertRow:function(a,b,c,d,e){var f=e.parentId,f=this.id+"-row-"+(f?f+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),h=document.getElementById(f),g=h&&h.previousSibling;h&&(h===c&&(c=(c.connected||c).nextSibling),this.removeRow(h));h=this.renderRow(a,e);h.className=(h.className||"")+" dgrid-row "+(1==d%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[h.id=f]=a;b.insertBefore(h,c||null);g&&this.adjustRowIndices(g);
h.rowIndex=d;return h},renderRow:function(a,c){return b("div",""+a)},removeRow:function(a,c){a=a.element||a;delete this._rowIdToObject[a.id];c||b(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+
b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,d){var e,f;f=e=a.element;b=b||1;do if(a=e[0>b?"previousSibling":"nextSibling"]){do if((e=a)&&-1<(e.className+" ").indexOf(c+" ")){f=e;b+=0>b?1:-1;break}while(a=(!d||!e.hidden)&&e[0>b?"lastChild":"firstChild"])}else if(e=e.parentNode,!e||e===this.bodyNode||e===this.headerNode)break;while(b);return f},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,
-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:f("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):v.call(this,a)}:v,getScrollPosition:f("touch")?function(){return this.useTouchScroll?this.inherited(arguments):n.call(this)}:n,get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,
b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:q,_setClass:h,_getClassName:q,_setClassName:h,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(c,d){var e=c[a],
f=d[a];void 0===e&&(e="");void 0===f&&(f="");return e==f?0:e>f==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){l.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var c=this.headerNode;this.showHeader=a;b(c,(a?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();a&&(c.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){l.deprecated("setShowHeader(...)",
'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;b(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(l,m){return l("dijit._Contained",null,{_getSibling:function(g){var k=this.domNode;do k=k[g+"Sibling"];while(k&&1!=k.nodeType);return k&&m.byNode(k)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?-1:g.getIndexOfChild(this)}})})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(l,m,g,k,f,d,e,c,b){k("dijit-legacy-requires")&&d(0,function(){l(["dijit/form/RadioButton"])});return m("dijit.form.CheckBox",[e,c],{templateString:b,baseClass:"dijitCheckBox",
_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&f("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&f("label[for\x3d'"+
this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(l,m){var g=l.matrix={},k={};g._degToRad=function(f){return k[f]||(k[f]=Math.PI*f/180)};g._radToDeg=function(f){return 180*(f/Math.PI)};g.Matrix2D=function(f){if(f)if("number"==typeof f)this.xx=this.yy=f;else if(f instanceof Array){if(0<f.length){for(var d=g.normalize(f[0]),e=1;e<f.length;++e){var c=d,b=g.normalize(f[e]),d=new g.Matrix2D;d.xx=c.xx*
b.xx+c.xy*b.yx;d.xy=c.xx*b.xy+c.xy*b.yy;d.yx=c.yx*b.xx+c.yy*b.yx;d.yy=c.yx*b.xy+c.yy*b.yy;d.dx=c.xx*b.dx+c.xy*b.dy+c.dx;d.dy=c.yx*b.dx+c.yy*b.dy+c.dy}m.mixin(this,d)}}else m.mixin(this,f)};m.extend(g.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});m.mixin(g,{identity:new g.Matrix2D,flipX:new g.Matrix2D({xx:-1}),flipY:new g.Matrix2D({yy:-1}),flipXY:new g.Matrix2D({xx:-1,yy:-1}),translate:function(f,d){return 1<arguments.length?new g.Matrix2D({dx:f,dy:d}):new g.Matrix2D({dx:f.x,dy:f.y})},scale:function(f,
d){return 1<arguments.length?new g.Matrix2D({xx:f,yy:d}):"number"==typeof f?new g.Matrix2D({xx:f,yy:f}):new g.Matrix2D({xx:f.x,yy:f.y})},rotate:function(f){var d=Math.cos(f);f=Math.sin(f);return new g.Matrix2D({xx:d,xy:-f,yx:f,yy:d})},rotateg:function(f){return g.rotate(g._degToRad(f))},skewX:function(f){return new g.Matrix2D({xy:Math.tan(f)})},skewXg:function(f){return g.skewX(g._degToRad(f))},skewY:function(f){return new g.Matrix2D({yx:Math.tan(f)})},skewYg:function(f){return g.skewY(g._degToRad(f))},
reflect:function(f,d){1==arguments.length&&(d=f.y,f=f.x);var e=f*f,c=d*d,b=e+c,a=2*f*d/b;return new g.Matrix2D({xx:2*e/b-1,xy:a,yx:a,yy:2*c/b-1})},project:function(f,d){1==arguments.length&&(d=f.y,f=f.x);var e=f*f,c=d*d,b=e+c,a=f*d/b;return new g.Matrix2D({xx:e/b,xy:a,yx:a,yy:c/b})},normalize:function(f){return f instanceof g.Matrix2D?f:new g.Matrix2D(f)},isIdentity:function(f){return 1==f.xx&&0==f.xy&&0==f.yx&&1==f.yy&&0==f.dx&&0==f.dy},clone:function(f){var d=new g.Matrix2D,e;for(e in f)"number"==
typeof f[e]&&("number"==typeof d[e]&&d[e]!=f[e])&&(d[e]=f[e]);return d},invert:function(f){f=g.normalize(f);var d=f.xx*f.yy-f.xy*f.yx;return f=new g.Matrix2D({xx:f.yy/d,xy:-f.xy/d,yx:-f.yx/d,yy:f.xx/d,dx:(f.xy*f.dy-f.yy*f.dx)/d,dy:(f.yx*f.dx-f.xx*f.dy)/d})},_multiplyPoint:function(f,d,e){return{x:f.xx*d+f.xy*e+f.dx,y:f.yx*d+f.yy*e+f.dy}},multiplyPoint:function(f,d,e){f=g.normalize(f);return"number"==typeof d&&"number"==typeof e?g._multiplyPoint(f,d,e):g._multiplyPoint(f,d.x,d.y)},multiplyRectangle:function(f,
d){var e=g.normalize(f);d=d||{x:0,y:0,width:0,height:0};if(g.isIdentity(e))return{x:d.x,y:d.y,width:d.width,height:d.height};var c=g.multiplyPoint(e,d.x,d.y),b=g.multiplyPoint(e,d.x,d.y+d.height),a=g.multiplyPoint(e,d.x+d.width,d.y),h=g.multiplyPoint(e,d.x+d.width,d.y+d.height),e=Math.min(c.x,b.x,a.x,h.x),k=Math.min(c.y,b.y,a.y,h.y),l=Math.max(c.x,b.x,a.x,h.x),c=Math.max(c.y,b.y,a.y,h.y);return{x:e,y:k,width:l-e,height:c-k}},multiply:function(f){for(var d=g.normalize(f),e=1;e<arguments.length;++e){var c=
d,b=g.normalize(arguments[e]),d=new g.Matrix2D;d.xx=c.xx*b.xx+c.xy*b.yx;d.xy=c.xx*b.xy+c.xy*b.yy;d.yx=c.yx*b.xx+c.yy*b.yx;d.yy=c.yx*b.xy+c.yy*b.yy;d.dx=c.xx*b.dx+c.xy*b.dy+c.dx;d.dy=c.yx*b.dx+c.yy*b.dy+c.dy}return d},_sandwich:function(f,d,e){return g.multiply(g.translate(d,e),f,g.translate(-d,-e))},scaleAt:function(f,d,e,c){switch(arguments.length){case 4:return g._sandwich(g.scale(f,d),e,c);case 3:return"number"==typeof e?g._sandwich(g.scale(f),d,e):g._sandwich(g.scale(f,d),e.x,e.y)}return g._sandwich(g.scale(f),
d.x,d.y)},rotateAt:function(f,d,e){return 2<arguments.length?g._sandwich(g.rotate(f),d,e):g._sandwich(g.rotate(f),d.x,d.y)},rotategAt:function(f,d,e){return 2<arguments.length?g._sandwich(g.rotateg(f),d,e):g._sandwich(g.rotateg(f),d.x,d.y)},skewXAt:function(f,d,e){return 2<arguments.length?g._sandwich(g.skewX(f),d,e):g._sandwich(g.skewX(f),d.x,d.y)},skewXgAt:function(f,d,e){return 2<arguments.length?g._sandwich(g.skewXg(f),d,e):g._sandwich(g.skewXg(f),d.x,d.y)},skewYAt:function(f,d,e){return 2<arguments.length?
g._sandwich(g.skewY(f),d,e):g._sandwich(g.skewY(f),d.x,d.y)},skewYgAt:function(f,d,e){return 2<arguments.length?g._sandwich(g.skewYg(f),d,e):g._sandwich(g.skewYg(f),d.x,d.y)}});l.Matrix2D=g.Matrix2D;return g})},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(l,m){return l("dojox.charting.axis2d.Base",m,{constructor:function(g,k){this.vertical=k&&k.vertical;this.opt={};this.opt.min=k&&k.min;this.opt.max=k&&k.max},clear:function(){return this},initialized:function(){return!1},
calculate:function(g,k,f){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(g,k){this.dirty=!1;return this}})})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,m,g){var k={};m.mixin(g,{scanl:function(f,d,e,c){"string"==typeof f&&(f=f.split(""));c=c||l.global;d=g.lambda(d);var b,a,h;if(m.isArray(f)){b=Array((a=f.length)+1);b[0]=e;for(h=0;h<a;e=d.call(c,
e,f[h],h,f),b[++h]=e);}else if("function"==typeof f.hasNext&&"function"==typeof f.next){b=[e];for(h=0;f.hasNext();b.push(e=d.call(c,e,f.next(),h++,f)));}else for(h in b=[e],f)h in k||b.push(e=d.call(c,e,f[h],h,f));return b},scanl1:function(f,d,e){"string"==typeof f&&(f=f.split(""));e=e||l.global;d=g.lambda(d);var c,b,a;b=!0;if(m.isArray(f)){c=Array(b=f.length);c[0]=a=f[0];for(var h=1;h<b;c[h]=a=d.call(e,a,f[h],h,f),++h);}else if("function"==typeof f.hasNext&&"function"==typeof f.next){if(f.hasNext()){c=
[a=f.next()];for(h=1;f.hasNext();c.push(a=d.call(e,a,f.next(),h++,f)));}}else for(h in f)h in k||(b?(c=[a=f[h]],b=!1):c.push(a=d.call(e,a,f[h],h,f)));return c},scanr:function(f,d,e,c){"string"==typeof f&&(f=f.split(""));c=c||l.global;d=g.lambda(d);var b=f.length,a=Array(b+1),h=b;for(a[b]=e;0<h;--h,e=d.call(c,e,f[h],h,f),a[h]=e);return a},scanr1:function(f,d,e){"string"==typeof f&&(f=f.split(""));e=e||l.global;d=g.lambda(d);var c=f.length,b=Array(c),a=f[c-1],c=c-1;for(b[c]=a;0<c;--c,a=d.call(e,a,f[c],
c,f),b[c]=a);return b}})})},"forecast/models/Note":function(){define(["dojo/date/locale","dojo/date/stamp","common/models/_Model","core/Config"],function(l,m,g,k){return g.createSubclass([],{maxNoteLength:200,date:null,text:null,_getSaveUrl:function(){return k.get(this._contextName).contextPath+"api/rest/userNotes"},toJSON:function(){return{propCode:this.get("propertyCode"),invDate:this.get("noteDate"),userNotes:this.get("text"),lastUpdBy:this._getFromContext("loginName")}},_textSetter:function(f){this.text=
f?f.slice(0,this.maxNoteLength):f}})})},"forecast/models/AppliedDemand":function(){define(["common/models/_Model","dojo/date/stamp","core/Config"],function(l,m,g){var k={1:"veryHigh",2:"high",3:"moderate",4:"low",5:"veryLow"};return l.createSubclass([],{date:null,overridePreset:null,_metaProperties:["date","overridePreset"],clearOverride:function(){this.set("override","N");this.set("value",this.get("system"))},isLocked:function(){return"Y"===this.lockState},isOptimized:function(){return"P"===this.srcInd},
isOverridden:function(){return"P"===this.srcInd||"D"===this.srcInd},overrideValue:function(f){"number"===typeof f&&this.set("value",f);this.set("override","D")},revert:function(){this.inherited(arguments);this._committedValues.overridden||this.set("overridden",void 0)},_overridePresetSetter:function(f){if(f){var d=this;this.overridePreset||(this.overridePreset={});f.forEach(function(e){d.overridePreset[k[e.id]]=e.rooms})}},_lockedSetter:function(f){this.lockState=!0===f||"Y"===f?"Y":"N"},_overrideGetter:function(){return this.srcInd},
_overrideSetter:function(f){"Y"!==this.lockState&&(this.srcInd=f)},_valueGetter:function(){return this.applied},_valueSetter:function(f){"Y"!==this.lockState&&(this.applied=f)},_getLoadUrl:function(){var f=m.toISOString(this.date,{selector:"date"});return g.get(this._contextName).contextPath+"resource/run/impremdem/"+f},_getSaveUrl:function(){var f=m.toISOString(this.date,{selector:"date"});return g.get(this._contextName).contextPath+"resource/run/impremdem/"+f}})})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],
function(l){var m=l.getObject("dojox.charting.scaler.primitive",!0);return l.mixin(m,{buildScaler:function(g,k,f,d){g==k&&(g-=0.5,k+=0.5);return{bounds:{lower:g,upper:k,from:g,to:k,scale:f/(k-g),span:f},scaler:m}},buildTicks:function(g,k){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(g){var k=g.bounds.from,f=g.bounds.scale;return function(d){return(d-k)*f}},getTransformerFromPlot:function(g){var k=g.bounds.from,f=g.bounds.scale;return function(d){return d/f+k}}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(l,m,g,k,f,d){var e;return e=l("dijit.form.ValidationTextBox",k,{templateString:d,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,b){b!=e.prototype[c]&&(m.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",
c);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(c,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(c)&&(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(c){return(this.trim?/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?c:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var b=
"",a=this.disabled||this.isValid(c);a&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),e=!a&&c&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||c)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&c)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=c&&e,b=this.getErrorMessage(c)):"Incomplete"==this.state?(b=this.getPromptMessage(c),this._maskValidSubsetError=
!this._hasBeenBlurred||c):d&&(b=this.getPromptMessage(c));this.set("message",b);return a},displayMessage:function(c){c&&this.focused?f.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):f.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(c){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){!c.locale&&
this.lang&&(c.locale=this.lang);this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",c);this._refreshState()},_computeRegexp:function(c){var b=this.pattern;"function"==typeof b&&(b=b.call(this,c));if(b!=this._lastRegExp){var a="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(b){switch(b.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=b;break;case ")":a+="|$)";break;default:a+=
"(?:"+b+"|$)"}});try{"".search(a)}catch(d){a=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+a+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=g.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",
c);this._refreshState()},_setMessageAttr:function(c){this._set("message",c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(l,m,g,k,f){var d={};l.setObject("dojo.number",d);d.format=function(c,b){b=l.mixin({},b||{});var a=m.normalizeLocale(b.locale),a=m.getLocalization("dojo.cldr",
"number",a);b.customs=a;a=b.pattern||a[(b.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?null:d._applyPattern(c,a,b)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(c,b,a){a=a||{};var e=a.customs.group,f=a.customs.decimal;b=b.split(";");var g=b[0];b=b[0>c?1:0]||"-"+g;if(-1!=b.indexOf("%"))c*=100;else if(-1!=b.indexOf("\u2030"))c*=1E3;else if(-1!=b.indexOf("\u00a4"))e=a.customs.currencyGroup||e,f=a.customs.currencyDecimal||f,b=b.replace(/\u00a4{1,3}/,function(b){return a[["symbol",
"currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var k=d._numberPatternRE,g=g.match(k);if(!g)throw Error("unable to find a number expression in pattern: "+b);!1===a.fractional&&(a.places=0);return b.replace(k,d._formatAbsolute(c,g[0],{decimal:f,group:e,places:a.places,round:a.round}))};d.round=function(c,b,a){a=10/(a||10);return(a*+c).toFixed(b)/a};if(0==(0.9).toFixed()){var e=d.round;d.round=function(c,b,a){var d=
Math.pow(10,-b||0),f=Math.abs(c);if(!c||f>=d)d=0;else if(f/=d,0.5>f||0.95<=f)d=0;return e(c,b,a)+(0<c?d:-d)}}d._formatAbsolute=function(c,b,a){a=a||{};!0===a.places&&(a.places=0);Infinity===a.places&&(a.places=6);b=b.split(".");var e="string"==typeof a.places&&a.places.indexOf(","),f=a.places;e?f=a.places.substring(e+1):0<=f||(f=(b[1]||[]).length);0>a.round||(c=d.round(c,f,a.round));c=String(Math.abs(c)).split(".");var g=c[1]||"";b[1]||a.places?(e&&(a.places=a.places.substring(0,e)),e=void 0!==a.places?
a.places:b[1]&&b[1].lastIndexOf("0")+1,e>g.length&&(c[1]=k.pad(g,e,"0",!0)),f<g.length&&(c[1]=g.substr(0,f))):c[1]&&c.pop();f=b[0].replace(",","");e=f.indexOf("0");-1!=e&&(e=f.length-e,e>c[0].length&&(c[0]=k.pad(c[0],e)),-1==f.indexOf("#")&&(c[0]=c[0].substr(c[0].length-e)));var f=b[0].lastIndexOf(","),l,m;-1!=f&&(l=b[0].length-f-1,b=b[0].substr(0,f),f=b.lastIndexOf(","),-1!=f&&(m=b.length-f-1));b=[];for(f=c[0];f;)e=f.length-l,b.push(0<e?f.substr(e):f),f=0<e?f.slice(0,e):"",m&&(l=m,delete m);c[0]=
b.reverse().join(a.group||",");return c.join(a.decimal||".")};d.regexp=function(c){return d._parseInfo(c).regexp};d._parseInfo=function(c){c=c||{};var b=m.normalizeLocale(c.locale),b=m.getLocalization("dojo.cldr","number",b),a=c.pattern||b[(c.type||"decimal")+"Format"],e=b.group,g=b.decimal,k=1;if(-1!=a.indexOf("%"))k/=100;else if(-1!=a.indexOf("\u2030"))k/=1E3;else{var l=-1!=a.indexOf("\u00a4");l&&(e=b.currencyGroup||e,g=b.currencyDecimal||g)}b=a.split(";");1==b.length&&b.push("-"+b[0]);b=f.buildGroupRE(b,
function(a){a="(?:"+f.escapeString(a,".")+")";return a.replace(d._numberPatternRE,function(a){var b={signed:!1,separator:c.strict?e:[e,""],fractional:c.fractional,decimal:g,exponent:!1};a=a.split(".");var f=c.places;1==a.length&&1!=k&&(a[1]="###");1==a.length||0===f?b.fractional=!1:(void 0===f&&(f=c.pattern?a[1].lastIndexOf("0")+1:Infinity),f&&void 0==c.fractional&&(b.fractional=!0),!c.places&&f<a[1].length&&(f+=","+a[1].length),b.places=f);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,
1<a.length&&(b.groupSize2=a.pop().length));return"("+d._realNumberRegexp(b)+")"})},!0);l&&(b=b.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,e){a=f.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");b=b?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return!c.strict?(b&&(b+="*"),e&&(e+="*"),"(?:"+b+a+e+")?"):b+a+e}));return{regexp:b.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:e,decimal:g,factor:k}};d.parse=function(c,b){var a=d._parseInfo(b),e=RegExp("^"+a.regexp+"$").exec(c);
if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];a.factor*=-1}f=f.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return f*a.factor};d._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var b=d._integerRegexp(c),a=f.buildGroupRE(c.fractional,function(a){var b=
"";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),e=f.buildGroupRE(c.exponent,function(a){return a?"([eE]"+d._integerRegexp({signed:c.eSigned})+")":""}),b=b+a;a&&(b="(?:(?:"+b+")|(?:"+a+"))");return b+e};d._integerRegexp=function(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var b=f.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),a=f.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";
a=f.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var b=c.groupSize,d=c.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+b+"})",0<b-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+a+"]\\d{"+b+"})*)"},!0);return b+a};return d})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),function(l,m,g,k,f,d,e,c){function b(a,
b){this.start=a;this.end=b}function a(a,b,c){this.start=a;this.end=b;this.units=c}function h(a,b){this.start=a;this.end=b;this.temp=new k}function q(a){this.values=a;this.length=a.length}function n(a,b){this.values=a;this.def=b?b:{}}function v(a,b){this.stack=a;this.original=b}function r(a,b,c,d){if(a.values)return new q(a.values);var e,f;f=a.start?m.normalizeColor(a.start):e=b?c?b[c]:b:d;a.end?a=m.normalizeColor(a.end):(e||(e=b?c?b[c]:b:d),a=e);return new h(f,a)}var t=m.fx={};b.prototype.getValue=
function(a){return(this.end-this.start)*a+this.start};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};h.prototype.getValue=function(a){return k.blendColors(this.start,this.end,a,this.temp)};q.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};n.prototype.getValue=function(a){var b=l.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};v.prototype.getValue=function(a){var b=[];f.forEach(this.stack,
function(c){if(c instanceof g.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof g.Matrix2D&&c.end instanceof g.Matrix2D){var d=new g.Matrix2D,e;for(e in c.start)d[e]=(c.end[e]-c.start[e])*a+c.start[e];b.push(d)}}else c.name in g&&(d=g[c.name],"function"!=typeof d?b.push(d):(e=f.map(c.start,function(b,d){return(c.end[d]-b)*a+b}),d=d.apply(g,e),d instanceof g.Matrix2D&&b.push(d)))},this);return b};var s=new k(0,0,0,0);
t.animateStroke=function(a){a.easing||(a.easing=d._defaultEasing);var c=new d.Animation(a),f=a.shape,g;e.connect(c,"beforeBegin",c,function(){g=f.getStroke();var c=a.color,d={},e;c&&(d.color=r(c,g,"color",s));if((c=a.style)&&c.values)d.style=new q(c.values);if(c=a.width){var h=c;h.values?e=new q(h.values):(c=h.start?h.start:e=g?g.width:1,h.end?e=h.end:"number"!=typeof e&&(e=g?g.width:1),e=new b(c,e));d.width=e}if((c=a.cap)&&c.values)d.cap=new q(c.values);if(c=a.join)c.values?d.join=new q(c.values):
(e=c.start?c.start:g&&g.join||0,c=c.end?c.end:g&&g.join||0,"number"==typeof e&&"number"==typeof c&&(d.join=new b(e,c)));this.curve=new n(d,g)});e.connect(c,"onAnimate",f,"setStroke");return c};t.animateFill=function(a){a.easing||(a.easing=d._defaultEasing);var b=new d.Animation(a),c=a.shape,f;e.connect(b,"beforeBegin",b,function(){f=c.getFill();var b=a.color;b&&(this.curve=r(b,f,"",s))});e.connect(b,"onAnimate",c,"setFill");return b};t.animateFont=function(b){b.easing||(b.easing=d._defaultEasing);
var c=new d.Animation(b),f=b.shape,g;e.connect(c,"beforeBegin",c,function(){g=f.getFont();var c=b.style,d={},e,h;c&&c.values&&(d.style=new q(c.values));if((c=b.variant)&&c.values)d.variant=new q(c.values);if((c=b.weight)&&c.values)d.weight=new q(c.values);if((c=b.family)&&c.values)d.family=new q(c.values);if((c=b.size)&&c.units)e=parseFloat(c.start?c.start:f.font&&f.font.size||"0"),h=parseFloat(c.end?c.end:f.font&&f.font.size||"0"),d.size=new a(e,h,c.units);this.curve=new n(d,g)});e.connect(c,"onAnimate",
f,"setFont");return c};t.animateTransform=function(a){a.easing||(a.easing=d._defaultEasing);var b=new d.Animation(a),g=a.shape,h;e.connect(b,"beforeBegin",b,function(){h=g.getTransform();this.curve=new v(a.transform,h)});e.connect(b,"onAnimate",g,"setTransform");if("svg"===m.renderer&&10<=c("ie"))var k=[e.connect(b,"onBegin",b,function(){for(var a=g.getParent();a&&a.getParent;)a=a.getParent();a&&(g.__svgContainer=a.rawNode.parentNode)}),e.connect(b,"onAnimate",b,function(){try{if(g.__svgContainer){var a=
g.__svgContainer.style.visibility;g.__svgContainer.style.visibility="visible";g.__svgContainer.style.visibility=a}}catch(b){}}),e.connect(b,"onEnd",b,function(){f.forEach(k,e.disconnect);if(g.__svgContainer){var a=g.__svgContainer.style.visibility,b=g.__svgContainer;g.__svgContainer.style.visibility="visible";setTimeout(function(){try{b.style.visibility=a,b=null}catch(c){}},100)}delete g.__svgContainer})];return b};return t})},"dojox/charting/plot2d/StackedColumns":function(){define(["dojo/_base/declare",
"./Columns","./commonStacked"],function(l,m,g){return l("dojox.charting.plot2d.StackedColumns",m,{getSeriesStats:function(){var k=g.collectStats(this.series);k.hmin-=0.5;k.hmax+=0.5;return k},getValue:function(k,f,d,e){e?k=g.getIndexValue(this.series,d,f):(f=k.x-1,k=g.getValue(this.series,d,k.x),k=[k[0]?k[0].y:null,k[1]?k[1]:null]);return{x:f,y:k[0],py:k[1]}}})})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(l,m,g,k,f){f=g("dojox.gfx.path.Path",
f.Shape,{constructor:function(d){this.shape=m.clone(l.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=d;this.segmented=!1},setAbsoluteMode:function(d){this._confirmSegmented();this.absolute="string"==typeof d?"absolute"==d:d;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-
this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var d=this.bbox,e=this._getRealMatrix();this.bbox=null;for(var c=0,b=this.segments.length;c<b;++c)this._updateWithSegment(this.segments[c],e);e=this.bbox;this.bbox=d;return this.tbbox=e?[{x:e.l,y:e.t},{x:e.r,y:e.t},{x:e.r,y:e.b},{x:e.l,y:e.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},
_updateBBox:function(d,e,c){c&&(e=k.multiplyPoint(c,d,e),d=e.x,e=e.y);this.bbox&&"l"in this.bbox?(this.bbox.l>d&&(this.bbox.l=d),this.bbox.r<d&&(this.bbox.r=d),this.bbox.t>e&&(this.bbox.t=e),this.bbox.b<e&&(this.bbox.b=e)):this.bbox={l:d,b:e,r:d,t:e}},_updateWithSegment:function(d,e){var c=d.args,b=c.length,a;switch(d.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(a=0;a<b;a+=2)this._updateBBox(c[a],c[a+1],e);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "H":for(a=
0;a<b;++a)this._updateBBox(c[a],this.last.y,e);this.last.x=c[b-1];this.absolute=!0;break;case "V":for(a=0;a<b;++a)this._updateBBox(this.last.x,c[a],e);this.last.y=c[b-1];this.absolute=!0;break;case "m":a=0;"x"in this.last||(this._updateBBox(this.last.x=c[0],this.last.y=c[1],e),a=2);for(;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],e);this.absolute=!1;break;case "l":case "t":for(a=0;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],e);this.absolute=!1;break;case "h":for(a=
0;a<b;++a)this._updateBBox(this.last.x+=c[a],this.last.y,e);this.absolute=!1;break;case "v":for(a=0;a<b;++a)this._updateBBox(this.last.x,this.last.y+=c[a],e);this.absolute=!1;break;case "c":for(a=0;a<b;a+=6)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],e),this._updateBBox(this.last.x+c[a+2],this.last.y+c[a+3],e),this._updateBBox(this.last.x+=c[a+4],this.last.y+=c[a+5],e);this.absolute=!1;break;case "s":case "q":for(a=0;a<b;a+=4)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],e),this._updateBBox(this.last.x+=
c[a+2],this.last.y+=c[a+3],e);this.absolute=!1;break;case "A":for(a=0;a<b;a+=7)this._updateBBox(c[a+5],c[a+6],e);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "a":for(a=0;a<b;a+=7)this._updateBBox(this.last.x+=c[a+5],this.last.y+=c[a+6],e);this.absolute=!1}var f=[d.action];for(a=0;a<b;++a)f.push(l.formatNumber(c[a],!0));if("string"==typeof this.shape.path)this.shape.path+=f.join("");else{a=0;for(b=f.length;a<b;++a)this.shape.path.push(f[a])}},_validSegments:{m:2,l:2,h:1,v:1,c:6,
s:4,q:4,t:2,a:7,z:0},_pushSegment:function(d,e){this.tbbox=null;var c=this._validSegments[d.toLowerCase()];"number"==typeof c&&(c?e.length>=c&&(c={action:d,args:e.slice(0,e.length-e.length%c)},this.segments.push(c),this._updateWithSegment(c)):(c={action:d,args:[]},this.segments.push(c),this._updateWithSegment(c)))},_collectArgs:function(d,e){for(var c=0;c<e.length;++c){var b=e[c];"boolean"==typeof b?d.push(b?1:0):"number"==typeof b?d.push(b):b instanceof Array?this._collectArgs(d,b):"x"in b&&"y"in
b&&d.push(b.x,b.y)}},moveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"M":"m",d);return this},lineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"L":"l",d);return this},hLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"H":"h",d);return this},vLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,
arguments);this._pushSegment(this.absolute?"V":"v",d);return this},curveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"C":"c",d);return this},smoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"S":"s",d);return this},qCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"Q":"q",d);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"T":"t",d);return this},arcTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"A":"a",d);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var d=this.shape.path;this.shape.path=[];this._setPath(d);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(d){d=
m.isArray(d)?d:d.match(l.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(d){for(var e="",c=[],b=d.length,a=0;a<b;++a){var f=d[a],g=parseFloat(f);isNaN(g)?(e&&this._pushSegment(e,c),c=[],e=f):c.push(g)}this._pushSegment(e,c)}},setShape:function(d){this.inherited(arguments,["string"==typeof d?{path:d}:d]);this.segmented=!1;this.segments=[];l.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});g=g("dojox.gfx.path.TextPath",f,{constructor:function(d){"text"in
this||(this.text=m.clone(l.defaultTextPath));"fontStyle"in this||(this.fontStyle=m.clone(l.defaultFont))},getText:function(){return this.text},setText:function(d){this.text=l.makeParameters(this.text,"string"==typeof d?{text:d}:d);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?l.splitFontString(d):l.makeParameters(l.defaultFont,d);this._setFont();return this}});return l.path={Path:f,TextPath:g}})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),
function(l,m,g,k,f,d){var e=g("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(c){c=c||{};var b=e.defaultTheme;m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(a){this[a]=l.delegate(b[a],c[a])},this);c.seriesThemes&&c.seriesThemes.length?(this.colors=null,this.seriesThemes=c.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(c.colors||e.defaultColors).slice(0));this.markerThemes=null;c.markerThemes&&c.markerThemes.length&&
(this.markerThemes=c.markerThemes.slice(0));this.markers=c.markers?l.clone(c.markers):l.delegate(e.defaultMarkers);this.noGradConv=c.noGradConv;this.noRadialConv=c.noRadialConv;c.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var c=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,
markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});m.forEach("clone clear next skip addMixin post getTick".split(" "),function(b){this.hasOwnProperty(b)&&(c[b]=this[b])},this);return c},clear:function(){this._current=0},next:function(c,b,a){var d=f.merge,e;if(this.colors){e=l.delegate(this.series);var d=l.delegate(this.marker),g=new k(this.colors[this._current%this.colors.length]),m;e.stroke&&e.stroke.color?(e.stroke=l.delegate(e.stroke),m=new k(e.stroke.color),
e.stroke.color=new k(g),e.stroke.color.a=m.a):e.stroke={color:g};d.stroke&&d.stroke.color?(d.stroke=l.delegate(d.stroke),m=new k(d.stroke.color),d.stroke.color=new k(g),d.stroke.color.a=m.a):d.stroke={color:g};!e.fill||e.fill.type?e.fill=g:(m=new k(e.fill),e.fill=new k(g),e.fill.a=m.a);!d.fill||d.fill.type?d.fill=g:(m=new k(d.fill),d.fill=new k(g),d.fill.a=m.a)}else e=this.seriesThemes?d(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,d=this.markerThemes?d(this.marker,
this.markerThemes[this._current%this.markerThemes.length]):e;e={series:e,marker:d,symbol:d&&d.symbol||this._markers[this._current%this._markers.length]};++this._current;b&&(e=this.addMixin(e,c,b));a&&(e=this.post(e,c));return e},skip:function(){++this._current},addMixin:function(c,b,a,d){if(l.isArray(a))m.forEach(a,function(a){c=this.addMixin(c,b,a)},this);else{var e={};"color"in a&&("line"==b||"area"==b?(l.setObject("series.stroke.color",a.color,e),l.setObject("marker.stroke.color",a.color,e)):l.setObject("series.fill",
a.color,e));m.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(b){var c="marker"+b.charAt(0).toUpperCase()+b.substr(1),d=c in a;b in a&&(l.setObject("series."+b,a[b],e),d||l.setObject("marker."+b,a[b],e));d&&l.setObject("marker."+b,a[c],e)});"marker"in a&&(e.symbol=a.marker,e.symbol=a.marker);c=f.merge(c,e)}d&&(c=this.post(c,b));return c},post:function(c,b){var a=c.series.fill,d;if(!this.noGradConv&&this.shapeSpaces[a.space]&&"linear"==a.type){if("bar"==b)d=
{x1:a.y1,y1:a.x1,x2:a.y2,y2:a.x2};else if(!this.noRadialConv&&"shape"==a.space&&("slice"==b||"circle"==b))d={type:"radial",cx:0,cy:0,r:100};if(d)return f.merge(c,{series:{fill:d}})}return c},getTick:function(c,b){var a=this.axis.tick,d=c+"Tick",e=f.merge;a?this.axis[d]&&(a=e(a,this.axis[d])):a=this.axis[d];b&&(a?b[d]&&(a=e(a,b[d])):a=b[d]);return a},inspectObjects:function(c){m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(b){c(this[b])},this);this.seriesThemes&&m.forEach(this.seriesThemes,
c);this.markerThemes&&m.forEach(this.markerThemes,c)},reverseFills:function(){this.inspectObjects(function(c){c&&c.fill&&(c.fill=d.reverse(c.fill))})},addMarker:function(c,b){this.markers[c]=b;this._buildMarkerArray()},setMarkers:function(c){this.markers=c;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var c in this.markers)this._markers.push(this.markers[c])}});l.mixin(e,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",
DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",
fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",
fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return e})},"dojox/gfx/renderer":function(){define(["./_base",
"dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(l,m,g,k,f){var d=null;g.add("vml",function(d,c,b){b.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';d="adj"in b.firstChild;b.innerHTML="";return d});return{load:function(e,c,b){function a(){c(["dojox/gfx/"+h],function(a){l.renderer=h;d=a;b(a)})}if(d&&"force"!=e)b(d);else{var h=f.forceGfxRenderer;e=!h&&(m.isString(f.gfxRenderer)?f.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var q,n;!h&&e.length;)switch(e.shift()){case "svg":"SVGAngle"in
k.global&&(h="svg");break;case "vml":g("vml")&&(h="vml");break;case "silverlight":try{g("ie")?(q=new ActiveXObject("AgControl.AgControl"))&&q.IsVersionSupported("1.0")&&(n=!0):navigator.plugins["Silverlight Plug-In"]&&(n=!0)}catch(v){n=!1}finally{q=null}n&&(h="silverlight");break;case "canvas":k.global.CanvasRenderingContext2D&&(h="canvas")}"canvas"===h&&!1!==f.canvasEvents&&(h="canvasWithEvents");"svg"==h&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(a):a()}}}})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),
function(l,m,g,k,f,d,e){function c(a){return a}function b(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;a.grid=this;f.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return m(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};d.before(this,"configStructure",g.hitch(this,
function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_updateNotifyHandle:function(a){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);a&&"function"===typeof a.notify&&(this._notifyHandle=d.after(a,"notify",
g.hitch(this,"_onNotify"),!0),a=this.get("sort"),(!a||!a.length)&&console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},_setStore:function(a,b,c){this._updateNotifyHandle(a);this.store=a;this.dirty={};this.set("query",b,c)},_setQuery:function(a,b){var c=b&&b.sort;this.query=void 0!==a?a:this.query;this.queryOptions=b||this.queryOptions;c?this.set("sort",c):
this.refresh()},setStore:function(a,b,c){l.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",a,b,c)},setQuery:function(a,b){l.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",a,b)},_getQueryOptions:function(){var a=g.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)a.sort=this._sort;return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?g.delegate(a,{}):a},_setSort:function(a,
b){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(a,b){this.inherited(arguments);a&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},insertRow:function(a,b,c,d,e){var f=this.store,k=this.dirty,f=f&&f.getIdentity(a),l;f in k&&!(f in this._updating)&&(l=k[f]);l&&(a=g.delegate(a,l));return this.inherited(arguments)},updateDirty:function(a,b,c){var d=this.dirty,e=d[a];e||(e=d[a]={});e[b]=c},setDirty:function(a,b,c){l.deprecated("setDirty(...)","use updateDirty() instead",
"dgrid 0.4");this.updateDirty(a,b,c)},save:function(){function a(a,e){return function(f){var g=b._columnsWithSet,l=b._updating,m,p;if("function"===typeof f.set)f.set(e);else for(m in e)f[m]=e[m];for(m in g)p=g[m].set(f),void 0!==p&&(f[m]=p);l[a]=!0;return k.when(c.put(f),function(){delete d[a];delete l[a]})}}var b=this,c=this.store,d=this.dirty,e=new k,f=e.promise,g=function(a){var d;return b.getBeforePut||!(d=b.row(a).data)?function(){return c.get(a)}:function(){return d}},l;for(l in d)var m=a(l,
d[l]),f=f.then(g(l)).then(m);e.resolve();return f},revert:function(){this.dirty={};this.refresh()},_trackError:function(a){var d;"string"==typeof a&&(a=g.hitch(this,a));try{d=a()}catch(e){b.call(this,e)}return k.when(d,c,g.hitch(this,b))},newRow:function(){var a=this.inherited(arguments);this.noDataNode&&(e(this.noDataNode,"!"),delete this.noDataNode);return a},removeRow:function(a,b){var c={element:a};!b&&(this.noDataMessage&&this.up(c).element===a&&this.down(c).element===a)&&(this.noDataNode=e(this.contentNode,
"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"common/widgets/ImplementDialog":function(){define("dojo/dom-construct dojo/on dojo/i18n!common/nls/common dojo/topic common/widgets/Dialog dojo/query".split(" "),function(l,m,g,k,f){return f.createSubclass([],{baseClass:"dialog-light",title:g.implement,buttons:[{label:g.cancel,name:"cancel"},{label:g.implement,name:"implement"}],buildRendering:function(){this.content=l.create("div",{className:"content"});
this.content.innerHTML=g.implementDialog;this.linksList=this.content.querySelector(".links");this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.links||(this.links=[{label:g.demand,content:g.unconstrainedForecast,step:"F"},{label:g.supply,content:g.manageSupply,step:"S"}])},postCreate:function(){this.inherited(arguments);var d=this;this.own(m(this.content,"a:click",function(e){e.preventDefault();d.emit("navigate-step",{detail:{step:this.getAttribute("data-step"),
date:d.get("date")}});d.hide()}));this.on("action",function(e){switch(e.detail.name){case "cancel":d.hide();break;case "implement":d.emit("implement",{}),d.hide()}})},_setLinksAttr:function(d){this.linksList.innerHTML="";d&&d.forEach(function(d){var c=l.create("li",{},this.linksList);c.textContent=d.label+" - ";l.create("a",{href:"#","data-step":d.step,innerHTML:d.content},c)},this)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(l,
m,g,k){var f=l("dijit.form._ButtonMixin"+(g("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(d){d.stopPropagation();d.preventDefault();this.disabled||this.valueNode.click(d);return!1},_onClick:function(d){if(this.disabled)return d.stopPropagation(),d.preventDefault(),!1;!1===this.onClick(d)&&d.preventDefault();var e=d.defaultPrevented;if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var c=this.domNode;c.parentNode;c=c.parentNode){var b=k.byNode(c);if(b&&
"function"==typeof b._onSubmit){b._onSubmit(d);d.preventDefault();e=!0;break}}return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(d){this._set("label",d);(this.containerNode||this.focusNode).innerHTML=d}});g("dojo-bidi")&&(f=l("dijit.form._ButtonMixin",f,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return f})},"dojo/colors":function(){define(["./_base/kernel",
"./_base/lang","./_base/Color","./_base/array"],function(l,m,g,k){var f={};m.setObject("dojo.colors",f);var d=function(c,b,a){0>a&&++a;1<a&&--a;var d=6*a;return 1>d?c+(b-c)*d:1>2*a?b:2>3*a?c+6*(b-c)*(2/3-a):c};l.colorFromRgb=g.fromRgb=function(c,b){var a=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var e=a[2].split(/\s*,\s*/),f=e.length,a=a[1];if("rgb"==a&&3==f||"rgba"==a&&4==f)return a=e[0],"%"==a.charAt(a.length-1)?(a=k.map(e,function(a){return 2.56*parseFloat(a)}),4==f&&(a[3]=
e[3]),g.fromArray(a,b)):g.fromArray(e,b);if("hsl"==a&&3==f||"hsla"==a&&4==f){var a=(parseFloat(e[0])%360+360)%360/360,l=parseFloat(e[1])/100,m=parseFloat(e[2])/100,l=0.5>=m?m*(l+1):m+l-m*l,m=2*m-l,a=[256*d(m,l,a+1/3),256*d(m,l,a),256*d(m,l,a-1/3),1];4==f&&(a[3]=e[3]);return g.fromArray(a,b)}}return null};var e=function(c,b,a){c=Number(c);return isNaN(c)?a:c<b?b:c>a?a:c};g.prototype.sanitize=function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,
0,255));this.a=e(this.a,0,1);return this};f.makeGrey=g.makeGrey=function(c,b){return g.fromArray([c,c,c,b])};m.mixin(g.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,
20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,
191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,
205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,
0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,
238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],
tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return g})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(l,m,g){l.mixin(g,{filterRev:function(k,f,d){"string"==typeof k&&(k=k.split(""));d=d||m.global;f=g.lambda(f);for(var e=[],c,b=k.length-1;0<=b;--b)c=k[b],f.call(d,c,b,k)&&e.push(c);return e},forEachRev:function(k,
f,d){"string"==typeof k&&(k=k.split(""));d=d||m.global;f=g.lambda(f);for(var e=k.length-1;0<=e;f.call(d,k[e],e,k),--e);},mapRev:function(k,f,d){"string"==typeof k&&(k=k.split(""));d=d||m.global;f=g.lambda(f);for(var e=k.length,c=Array(e),e=e-1,b=0;0<=e;c[b++]=f.call(d,k[e],e,k),--e);return c},everyRev:function(k,f,d){"string"==typeof k&&(k=k.split(""));d=d||m.global;f=g.lambda(f);for(var e=k.length-1;0<=e;--e)if(!f.call(d,k[e],e,k))return!1;return!0},someRev:function(k,f,d){"string"==typeof k&&(k=
k.split(""));d=d||m.global;f=g.lambda(f);for(var e=k.length-1;0<=e;--e)if(f.call(d,k[e],e,k))return!0;return!1}});return g})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(l,m,g,k,f,d,e,c,b){function a(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(f){var g,h,l=f.charAt(0);f=f.length;var m=["abbr","wide","narrow"];switch(l){case "G":g=b[4>f?"eraAbbr":"eraNames"][0>
a.getFullYear()?0:1];break;case "y":g=a.getFullYear();switch(f){case 1:break;case 2:if(!c.fullYear){g=String(g);g=g.substr(g.length-2);break}default:h=!0}break;case "Q":case "q":g=Math.ceil((a.getMonth()+1)/3);h=!0;break;case "M":case "L":g=a.getMonth();3>f?(g+=1,h=!0):(l=["months","L"==l?"standAlone":"format",m[f-3]].join("-"),g=b[l][g]);break;case "w":g=n._getWeekOfYear(a,0);h=!0;break;case "d":g=a.getDate();h=!0;break;case "D":g=n._getDayOfYear(a);h=!0;break;case "e":case "c":if(g=a.getDay(),2>
f){g=(g-k.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":g=a.getDay();3>f?(g+=1,h=!0):(l=["days","c"==l?"standAlone":"format",m[f-3]].join("-"),g=b[l][g]);break;case "a":l=12>a.getHours()?"am":"pm";g=c[l]||b["dayPeriods-format-wide-"+l];break;case "h":case "H":case "K":case "k":h=a.getHours();switch(l){case "h":g=h%12||12;break;case "H":g=h;break;case "K":g=h%12;break;case "k":g=h||24}h=!0;break;case "m":g=a.getMinutes();h=!0;break;case "s":g=a.getSeconds();h=!0;break;case "S":g=Math.round(a.getMilliseconds()*
Math.pow(10,f-3));h=!0;break;case "v":case "z":if(g=n._getZone(a,!0,c))break;f=4;case "Z":l=n._getZone(a,!1,c);l=[0>=l?"+":"-",e.pad(Math.floor(Math.abs(l)/60),2),e.pad(Math.abs(l)%60,2)];4==f&&(l.splice(0,0,"GMT"),l.splice(3,0,":"));g=l.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+d);}h&&(g=e.pad(g,f));return g})}function h(a,b,c,d){var e=function(a){return a};b=b||e;c=c||e;d=d||e;var f=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);m.forEach(f,function(a,d){a?
(f[d]=(g?c:b)(a.replace(/''/g,"'")),g=!g):f[d]=""});return d(f.join(""))}function q(a,b,c,e){e=d.escapeString(e);c.strict||(e=e.replace(" a"," ?a"));return e.replace(/([a-z])\1*/ig,function(d){var e;e=d.charAt(0);var f=d.length,g="",h="";c.strict?(1<f&&(g="0{"+(f-1)+"}"),2<f&&(h="0{"+(f-2)+"}")):(g="0?",h="0{0,2}");switch(e){case "y":e="\\d{2,4}";break;case "M":case "L":e=2<f?"\\S+?":"1[0-2]|"+g+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+g+"[1-9][0-9]|"+h+"[1-9]";break;case "d":e=
"3[01]|[12]\\d|"+g+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+g+"[1-9]";break;case "E":case "e":case "c":e=".+?";break;case "h":e="1[0-2]|"+g+"[1-9]";break;case "k":e="1[01]|"+g+"\\d";break;case "H":e="1\\d|2[0-3]|"+g+"\\d";break;case "K":e="1\\d|2[0-4]|"+g+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+f+"}";break;case "a":f=c.am||b["dayPeriods-format-wide-am"];g=c.pm||b["dayPeriods-format-wide-pm"];e=f+"|"+g;c.strict||(f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),g!=g.toLowerCase()&&
(e+="|"+g.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(d);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};l.setObject(b.id.replace(/\//g,"."),n);n._getZone=function(a,b,c){return b?g.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(b,c){c=c||{};var d=f.normalizeLocale(c.locale),e=c.formatLength||"short",d=n._getGregorianBundle(d),g=[],k=l.hitch(this,a,b,d,c);if("year"==c.selector)return h(d["dateFormatItem-yyyy"]||
"yyyy",k);var m;"date"!=c.selector&&(m=c.timePattern||d["timeFormat-"+e])&&g.push(h(m,k));"time"!=c.selector&&(m=c.datePattern||d["dateFormat-"+e])&&g.push(h(m,k));return 1==g.length?g[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return g[b]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(a){a=a||{};var b=f.normalizeLocale(a.locale),b=n._getGregorianBundle(b),c=a.formatLength||"short",d=a.datePattern||b["dateFormat-"+c],e=a.timePattern||
b["timeFormat-"+c],c="date"==a.selector?d:"time"==a.selector?e:b["dateTimeFormat-"+c].replace(/\{(\d+)\}/g,function(a,b){return[e,d][b]}),g=[];return{regexp:h(c,l.hitch(this,q,g,b,a)),tokens:g,bundle:b}};n.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=n._parseInfo(b),e=d.tokens,f=d.bundle,c=RegExp("^"+d.regexp.replace(c,"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var h=["abbr","wide","narrow"],k=[1970,0,1,0,0,0,0],l="",c=m.every(c,function(a,c){if(!c)return!0;var d=
e[c-1],g=d.length,d=d.charAt(0);switch(d){case "y":if(2!=g&&b.strict)k[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),g=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),k[0]=a<d?g+a:g-100+a;else{if(b.strict)return!1;k[0]=a}break;case "M":case "L":if(2<g){if(g=f["months-"+("L"==d?"standAlone":"format")+"-"+h[g-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),g=m.map(g,function(a){return a.replace(".","").toLowerCase()})),a=m.indexOf(g,a),-1==a)return!1}else a--;
k[1]=a;break;case "E":case "e":case "c":g=f["days-"+("c"==d?"standAlone":"format")+"-"+h[g-3]].concat();b.strict||(a=a.toLowerCase(),g=m.map(g,function(a){return a.toLowerCase()}));a=m.indexOf(g,a);if(-1==a)return!1;break;case "D":k[1]=0;case "d":k[2]=a;break;case "a":g=b.am||f["dayPeriods-format-wide-am"];d=b.pm||f["dayPeriods-format-wide-pm"];if(!b.strict){var p=/\./g;a=a.replace(p,"").toLowerCase();g=g.replace(p,"").toLowerCase();d=d.replace(p,"").toLowerCase()}if(b.strict&&a!=g&&a!=d)return!1;
l=a==d?"p":a==g?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;k[3]=a;break;case "m":k[4]=a;break;case "s":k[5]=a;break;case "S":k[6]=a}return!0}),d=+k[3];"p"===l&&12>d?k[3]=d+12:"a"===l&&12==d&&(k[3]=0);d=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);b.strict&&d.setFullYear(k[0]);var q=e.join(""),v=-1!=q.indexOf("d"),q=-1!=q.indexOf("M");if(!c||q&&d.getMonth()>k[1]||v&&d.getDate()>k[2])return null;if(q&&d.getMonth()<k[1]||v&&d.getDate()<k[2])d=g.add(d,"hour",1);return d};
var v=[];n.addCustomFormats=function(a,b){v.push({pkg:a,name:b})};n._getGregorianBundle=function(a){var b={};m.forEach(v,function(c){c=f.getLocalization(c.pkg,c.name,a);b=l.mixin(b,c)},this);return b};n.addCustomFormats(b.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,b,c,d){var e;d=n._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};n.isWeekend=function(a,b){var c=k.getWeekend(b),
d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};n._getDayOfYear=function(a){return g.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((n._getDayOfYear(a)+(c-b+7)%7-1)/7);c==b&&d++;return d};return n})},"common/widgets/form/PercentInput":function(){define(["./NumberInput"],function(l){return l.createSubclass([],{"class":"percent-input",
constructor:function(){this.constraints={min:0,max:100,pattern:"###.#"}},_setValueAttr:function(l){this.inherited(arguments);l=this.get("value");var g=!isNaN(l)&&null!=l;this.domNode.classList[g?"add":"remove"]("has-value")}})})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p){function D(a,b){a&&b&&(a.min=Math.min(a.min,b.min),a.max=Math.max(a.max,b.max));return a||b}function A(a,b){var c={},d={};g.forEach(a,function(a){var b=c[a.name]=a.getSeriesStats();a.hAxis&&(d[a.hAxis]=D(d[a.hAxis],{min:b.hmin,max:b.hmax}));a.vAxis&&(d[a.vAxis]=D(d[a.vAxis],{min:b.vmin,max:b.vmax}))});g.forEach(a,function(a){var e=c[a.name];if(a.hAxis){var f=d[a.hAxis];e.hmin=f.min;e.hmax=f.max}a.vAxis&&(f=d[a.vAxis],e.vmin=f.min,e.vmax=f.max);a.initializeScalers(b,
e)})}var w=m.getObject("charting",!0,l),C=p.lambda("item.clear()"),z=p.lambda("item.purgeGroup()"),u=p.lambda("item.destroy()"),G=p.lambda("item.dirty \x3d false"),x=p.lambda("item.dirty \x3d true"),B=p.lambda("item.name");l=k(a("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(a,b){b||(b={});this.margins=b.margins?b.margins:{l:10,t:10,r:10,b:10};this.stroke=b.stroke;this.fill=b.fill;this.delayInMs=b.delayInMs||200;this.title=b.title;this.titleGap=b.titleGap;
this.titlePos=b.titlePos;this.titleFont=b.titleFont;this.titleFontColor=b.titleFontColor;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in b&&(this.htmlLabels=b.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=d.byId(a);var c=e.getMarginBox(a);this.surface=t.createSurface(this.node,c.w||400,c.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){g.forEach(this.series,u);g.forEach(this.stack,
u);p.forIn(this.axes,u);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&c.destroy(this.chartTitle)},getCoords:function(){var a=this.node,b=f.getComputedStyle(a),b=e.getMarginBox(a,b),a=e.position(a,!0);b.x=a.x;b.y=a.y;return b},setTheme:function(a){this.theme=a.clone();this.dirty=!0;return this},addAxis:function(a,b){var c;c=b&&b.type||"Default";if("string"==typeof c){if(!w.axis2d||!w.axis2d[c])throw Error("Can't find axis: "+c+" - Check require() dependencies.");c=new w.axis2d[c](this,
b)}else c=new c(this,b);c.name=a;c.dirty=!0;a in this.axes&&this.axes[a].destroy();this.axes[a]=c;this.dirty=!0;return this},getAxis:function(a){return this.axes[a]},removeAxis:function(a){a in this.axes&&(this.axes[a].destroy(),delete this.axes[a],this.dirty=!0);return this},addPlot:function(a,b){var c;c=b&&b.type||"Default";if("string"==typeof c){if(!w.plot2d||!w.plot2d[c])throw Error("Can't find plot: "+c+" - didn't you forget to dojo.require() it?");c=new w.plot2d[c](this,b)}else c=new c(this,
b);c.name=a;c.dirty=!0;a in this.plots?(this.stack[this.plots[a]].destroy(),this.stack[this.plots[a]]=c):(this.plots[a]=this.stack.length,this.stack.push(c));this.dirty=!0;return this},getPlot:function(a){return this.stack[this.plots[a]]},removePlot:function(a){if(a in this.plots){var b=this.plots[a];delete this.plots[a];this.stack[b].destroy();this.stack.splice(b,1);p.forIn(this.plots,function(a,c,d){a>b&&(d[c]=a-1)});var c=g.filter(this.series,function(b){return b.plot!=a});c.length<this.series.length&&
(g.forEach(this.series,function(b){b.plot==a&&b.destroy()}),this.runs={},g.forEach(c,function(a,b){this.runs[a.plot]=b},this),this.series=c);this.dirty=!0}return this},getPlotOrder:function(){return p.map(this.stack,B)},setPlotOrder:function(a){var b={},c=p.filter(a,function(a){if(!(a in this.plots)||a in b)return!1;b[a]=1;return!0},this);c.length<this.stack.length&&p.forEach(this.stack,function(a){a=a.name;a in b||c.push(a)});a=p.map(c,function(a){return this.stack[this.plots[a]]},this);p.forEach(a,
function(a,b){this.plots[a.name]=b},this);this.stack=a;this.dirty=!0;return this},movePlotToFront:function(a){if(a in this.plots){var b=this.plots[a];if(b){var c=this.getPlotOrder();c.splice(b,1);c.unshift(a);return this.setPlotOrder(c)}}return this},movePlotToBack:function(a){if(a in this.plots){var b=this.plots[a];if(b<this.stack.length-1){var c=this.getPlotOrder();c.splice(b,1);c.push(a);return this.setPlotOrder(c)}}return this},addSeries:function(a,b,c){b=new n(this,b,c);b.name=a;a in this.runs?
(this.series[this.runs[a]].destroy(),this.series[this.runs[a]]=b):(this.runs[a]=this.series.length,this.series.push(b));this.dirty=!0;!("ymin"in b)&&"min"in b&&(b.ymin=b.min);!("ymax"in b)&&"max"in b&&(b.ymax=b.max);return this},getSeries:function(a){return this.series[this.runs[a]]},removeSeries:function(a){if(a in this.runs){var b=this.runs[a];delete this.runs[a];this.series[b].destroy();this.series.splice(b,1);p.forIn(this.runs,function(a,c,d){a>b&&(d[c]=a-1)});this.dirty=!0}return this},updateSeries:function(a,
b,c){a in this.runs&&(a=this.series[this.runs[a]],a.update(b),c?this.dirty=!0:(this._invalidateDependentPlots(a.plot,!1),this._invalidateDependentPlots(a.plot,!0)));return this},getSeriesOrder:function(a){return p.map(p.filter(this.series,function(b){return b.plot==a}),B)},setSeriesOrder:function(a){var b,c={},d=p.filter(a,function(a){if(!(a in this.runs)||a in c)return!1;var d=this.series[this.runs[a]];if(b){if(d.plot!=b)return!1}else b=d.plot;c[a]=1;return!0},this);p.forEach(this.series,function(a){var e=
a.name;!(e in c)&&a.plot==b&&d.push(e)});this.series=p.map(d,function(a){return this.series[this.runs[a]]},this).concat(p.filter(this.series,function(a){return a.plot!=b}));p.forEach(this.series,function(a,b){this.runs[a.name]=b},this);this.dirty=!0;return this},moveSeriesToFront:function(a){if(a in this.runs){var b=this.runs[a],c=this.getSeriesOrder(this.series[b].plot);if(a!=c[0])return c.splice(b,1),c.unshift(a),this.setSeriesOrder(c)}return this},moveSeriesToBack:function(a){if(a in this.runs){var b=
this.runs[a],c=this.getSeriesOrder(this.series[b].plot);if(a!=c[c.length-1])return c.splice(b,1),c.push(a),this.setSeriesOrder(c)}return this},resize:function(a,b){switch(arguments.length){case 1:e.setMarginBox(this.node,a);break;case 2:e.setMarginBox(this.node,{w:a,h:b})}var c=e.getMarginBox(this.node),d=this.surface.getDimensions();return d.width!=c.w||d.height!=c.h?(this.surface.setDimensions(c.w,c.h),this.dirty=!0,this.render()):this},getGeometry:function(){var a={};p.forIn(this.axes,function(b){b.initialized()&&
(a[b.name]={name:b.name,vertical:b.vertical,scaler:b.scaler,ticks:b.ticks})});return a},setAxisWindow:function(a,b,c,d){var e=this.axes[a];e&&(e.setWindow(b,c),g.forEach(this.stack,function(b){if(b.hAxis==a||b.vAxis==a)b.zoom=d}));return this},setWindow:function(a,b,c,d,e){"plotArea"in this||this.calculateGeometry();p.forIn(this.axes,function(e){var f,g;f=e.getScaler().bounds;g=f.span/(f.upper-f.lower);e.vertical?(f=b,g=d/g/f):(f=a,g=c/g/f);e.setWindow(f,g)});g.forEach(this.stack,function(a){a.zoom=
e});return this},zoomIn:function(a,b,c){var d=this.axes[a];if(d){var d=d.getScaler().bounds,e=Math.min(b[0],b[1]),f=Math.max(b[0],b[1]),e=b[0]<d.lower?d.lower:e,f=b[1]>d.upper?d.upper:f;this.setAxisWindow(a,(d.upper-d.lower)/(f-e),e-d.lower);c?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var a=g.filter(this.stack,function(a){return a.dirty||a.hAxis&&this.axes[a.hAxis].dirty||a.vAxis&&this.axes[a.vAxis].dirty},this);A(a,this.plotArea);return this},
fullGeometry:function(){this._makeDirty();g.forEach(this.stack,C);this.theme||this.setTheme(new q);g.forEach(this.series,function(a){if(!(a.plot in this.plots)){if(!w.plot2d||!w.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var b=new w.plot2d.Default(this,{});b.name=a.plot;this.plots[a.plot]=this.stack.length;this.stack.push(b)}this.stack[this.plots[a.plot]].addSeries(a)},this);g.forEach(this.stack,function(a){a.assignAxes&&a.assignAxes(this.axes)},
this);var b=this.dim=this.surface.getDimensions();b.width=t.normalizedLength(b.width);b.height=t.normalizedLength(b.height);p.forIn(this.axes,C);A(this.stack,b);var c=this.offsets={l:0,r:0,t:0,b:0},d=this;p.forIn(this.axes,function(b){a("dojo-bidi")&&d._resetLeftBottom(b);p.forIn(b.getOffsets(),function(a,b){c[b]=Math.max(a,c[b])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=
this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var e=t.normalizedLength(t.splitFontString(this.titleFont).size);c["top"==this.titlePos?"t":"b"]+=e+this.titleGap}p.forIn(this.margins,function(a,b){c[b]+=a});this.plotArea={width:b.width-c.l-c.r,height:b.height-c.t-c.b};p.forIn(this.axes,C);A(this.stack,this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=
null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();p.forEachRev(this.stack,function(a){a.render(this.dim,this.offsets)},this);p.forIn(this.axes,function(a){a.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var b=this.offsets,d=this.dim,e=Math.max(0,d.width-b.l-b.r),f=Math.max(0,d.height-b.t-b.b);g.forEach(this.series,z);p.forIn(this.axes,z);g.forEach(this.stack,z);var h=this.surface.children;
if(r.dispose)for(var k=0;k<h.length;++k)r.dispose(h[k]);this.chartTitle&&this.chartTitle.tagName&&c.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(d,b);this._renderPlotBackground(d,b,e,f);p.foldr(this.stack,function(a,c){return c.render(d,b),0},0);this._nativeClip||this._renderChartBackground(d,b);this.title&&(e="canvas"==t.renderer&&this.htmlLabels||!a("ie")&&!a("opera")&&this.htmlLabels?"html":"gfx",f=t.normalizedLength(t.splitFontString(this.titleFont).size),
this.chartTitle=v.createText[e](this,this.surface,d.width/2,"top"==this.titlePos?f+this.margins.t:d.height-this.margins.b,"middle",this.title,this.titleFont,this.titleFontColor));p.forIn(this.axes,function(a){a.render(d,b)});this._makeClean();return this},_renderChartBackground:function(a,c){var d=this.theme,e,g=void 0!==this.fill?this.fill:d.chart&&d.chart.fill,d=void 0!==this.stroke?this.stroke:d.chart&&d.chart.stroke;if("inherit"==g){e=this.node;for(g=new b(f.get(e,"backgroundColor"));0==g.a&&
e!=document.documentElement;)g=new b(f.get(e,"backgroundColor")),e=e.parentNode}g&&(this._nativeClip?(g=h.prototype._shapeFill(h.prototype._plotFill(g,a),{x:0,y:0,width:a.width+1,height:a.height+1}),this.surface.createRect({width:a.width+1,height:a.height+1}).setFill(g)):(g=h.prototype._plotFill(g,a,c),c.l&&(e={x:0,y:0,width:c.l,height:a.height+1},this.surface.createRect(e).setFill(h.prototype._shapeFill(g,e))),c.r&&(e={x:a.width-c.r,y:0,width:c.r+1,height:a.height+2},this.surface.createRect(e).setFill(h.prototype._shapeFill(g,
e))),c.t&&(e={x:0,y:0,width:a.width+1,height:c.t},this.surface.createRect(e).setFill(h.prototype._shapeFill(g,e))),c.b&&(e={x:0,y:a.height-c.b,width:a.width+1,height:c.b+2},this.surface.createRect(e).setFill(h.prototype._shapeFill(g,e)))));d&&this.surface.createRect({width:a.width-1,height:a.height-1}).setStroke(d)},_renderPlotBackground:function(a,b,c,d){var e=this.theme,f=e.plotarea&&e.plotarea.fill,e=e.plotarea&&e.plotarea.stroke,g={x:b.l-1,y:b.t-1,width:c+2,height:d+2};f&&(f=h.prototype._shapeFill(h.prototype._plotFill(f,
a,b),g),this.surface.createRect(g).setFill(f));e&&this.surface.createRect({x:b.l,y:b.t,width:c+1,height:d+1}).setStroke(e)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(m.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(a,b,c){return a in this.plots?this.stack[this.plots[a]].connect(b,c):null},fireEvent:function(a,b,c){if(a in this.runs){var d=this.series[this.runs[a]].plot;d in this.plots&&(d=this.stack[this.plots[d]])&&
d.fireEvent(a,b,c)}return this},_makeClean:function(){g.forEach(this.axes,G);g.forEach(this.stack,G);g.forEach(this.series,G);this.dirty=!1},_makeDirty:function(){g.forEach(this.axes,x);g.forEach(this.stack,x);g.forEach(this.series,x);this.dirty=!0},_invalidateDependentPlots:function(a,b){if(a in this.plots){var c=this.stack[this.plots[a]],d,e=b?"vAxis":"hAxis";if(c[e]){if((d=this.axes[c[e]])&&d.dependOnData())d.dirty=!0,g.forEach(this.stack,function(a){a[e]&&a[e]==c[e]&&(a.dirty=!0)})}else c.dirty=
!0}},setDir:function(a){return this},_resetLeftBottom:function(a){},formatTruncatedLabel:function(a,b,c){}});return a("dojo-bidi")?k("dojox.charting.Chart",[l,s]):l})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n){e=k(g("dojo-bidi")?
"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",e,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},
minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(a,b){this.opt=l.clone(this.defaultParams);h.updateWithObject(this.opt,b);h.updateWithPattern(this.opt,b,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0},setWindow:function(a,b){a!=this.scale&&(this._invalidMaxLabelSize=!0);return this.inherited(arguments)},
_groupLabelWidth:function(b,c,d){if(!b.length)return 0;50<b.length&&(b.length=50);l.isObject(b[0])&&(b=q.map(b,function(a){return a.text}));d&&(b=q.map(b,function(a){return 0==l.trim(a).length?"":a.substring(0,d)+this.trailingSymbol},this));b=b.join("\x3cbr\x3e");return a._base._getTextBox(b,{font:c}).w||0},_getMaxLabelSize:function(a,b,d,e,f,g){if(null==this._maxLabelSize&&6==arguments.length){var h=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var k=l.clone(h);delete k.to;delete k.from;
var n=c.buildScaler(a,b,d,k,h.to-h.from);n.minMinorStep=0;this._majorStart=n.major.start;h=c.buildTicks(n,h);if(g&&h){var q=n=0,u=function(a){a.label&&this.push(a.label)},G=[];this.opt.majorLabels&&(m.forEach(h.major,u,G),n=this._groupLabelWidth(G,f,k.maxLabelCharCount),k.maxLabelSize&&(n=Math.min(k.maxLabelSize,n)));G=[];this.opt.dropLabels&&this.opt.minorLabels&&(m.forEach(h.minor,u,G),q=this._groupLabelWidth(G,f,k.maxLabelCharCount),k.maxLabelSize&&(q=Math.min(k.maxLabelSize,q)));this._maxLabelSize=
{majLabelW:n,minLabelW:q,majLabelH:g,minLabelH:g}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(b,d,e){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||e!=this._oldSpan)&&Infinity!=b&&-Infinity!=d){this._invalidMaxLabelSize=!1;this.opt.labelSizeChange&&(this._maxLabelSize=null);this._oldSpan=e;var f=this.opt,g=this.chart.theme.axis,h=f.rotation%360,k=this.chart.theme.axis.tick.labelGap,l=f.font||g.majorTick&&g.majorTick.font||
g.tick&&g.tick.font,g=l?a.normalizedLength(a.splitFontString(l).size):0,l=this._getMaxLabelSize(b,d,e,h,l,g);"number"!=typeof k&&(k=4);if(l&&f.dropLabels){var f=Math.abs(Math.cos(h*Math.PI/180)),m=Math.abs(Math.sin(h*Math.PI/180));0>h&&(h+=360);switch(h){case 0:case 180:this.vertical?h=g:(h=l.majLabelW,g=l.minLabelW);break;case 90:case 270:this.vertical?(h=l.majLabelW,g=l.minLabelW):h=g;break;default:var h=this.vertical?Math.min(l.majLabelW,g/f):Math.min(l.majLabelW,g/m),n=Math.sqrt(l.minLabelW*l.minLabelW+
g*g),g=Math.min(n,this.vertical?g*f+l.minLabelW*m:l.minLabelW*f+g*m)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(h,g)+k;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((h+k)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=c.buildTicks(this.scaler,this.opt);return this},getOffsets:function(){var b={l:0,r:0,t:0,b:0};if(!this.scaler)return b;var c=this.opt,d=this.chart.theme.axis,e=this.chart.theme.axis.tick.labelGap,
f=c.titleFont||d.title&&d.title.font,d=0==c.titleGap?0:c.titleGap||d.title&&d.title.gap,g=this.chart.theme.getTick("major",c),h=this.chart.theme.getTick("minor",c),f=f?a.normalizedLength(a.splitFontString(f).size):0,k=c.rotation%360,l=c.leftBottom,m=Math.abs(Math.cos(k*Math.PI/180)),n=Math.abs(Math.sin(k*Math.PI/180));this.trailingSymbol=void 0===c.trailingSymbol||null===c.trailingSymbol?this.trailingSymbol:c.trailingSymbol;"number"!=typeof e&&(e=4);0>k&&(k+=360);var q=this._getMaxLabelSize();if(q){var x=
Math.ceil(Math.max(q.majLabelW,q.minLabelW))+1,B=Math.ceil(Math.max(q.majLabelH,q.minLabelH))+1;if(this.vertical)switch(q=l?"l":"r",k){case 0:case 180:b[q]=x;b.t=b.b=B/2;break;case 90:case 270:b[q]=B;b.t=b.b=x/2;break;default:45>=k||180<k&&225>=k?(b[q]=B*n/2+x*m,b[l?"t":"b"]=B*m/2+x*n,b[l?"b":"t"]=B*m/2):315<k||180>k&&135<k?(b[q]=B*n/2+x*m,b[l?"b":"t"]=B*m/2+x*n,b[l?"t":"b"]=B*m/2):90>k||180<k&&270>k?(b[q]=B*n+x*m,b[l?"t":"b"]=B*m+x*n):(b[q]=B*n+x*m,b[l?"b":"t"]=B*m+x*n)}else switch(q=l?"b":"t",k){case 0:case 180:b[q]=
B;b.l=b.r=x/2;break;case 90:case 270:b[q]=x;b.l=b.r=B/2;break;default:45<=k&&90>=k||225<=k&&270>=k?(b[q]=B*m/2+x*n,b[l?"r":"l"]=B*n/2+x*m,b[l?"l":"r"]=B*n/2):90<=k&&135>=k||270<=k&&315>=k?(b[q]=B*m/2+x*n,b[l?"l":"r"]=B*n/2+x*m,b[l?"r":"l"]=B*n/2):45>k||180<k&&225>k?(b[q]=B*m+x*n,b[l?"r":"l"]=B*n+x*m):(b[q]=B*m+x*n,b[l?"l":"r"]=B*n+x*m)}b[q]+=e+Math.max(0<g.length?g.length:0,0<h.length?h.length:0)+(c.title?f+d:0)}return b},cleanGroup:function(a){this.opt.enableCache&&this.group&&(this._lineFreePool=
this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(a,c,d,e,f,g,h,k,l){if(!this.opt.enableCache||"html"==a)return b.createText[a](this.chart,c,d,e,f,g,h,k,l);0<this._textFreePool.length?(a=this._textFreePool.pop(),a.setShape({x:d,y:e,text:g,align:f}),c.add(a)):a=b.createText[a](this.chart,c,d,e,f,g,h,k);this._textUsePool.push(a);return a},createLine:function(a,
b){var c;this.opt.enableCache&&0<this._lineFreePool.length?(c=this._lineFreePool.pop(),c.setShape(b),a.add(c)):c=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(c);return c},render:function(d,e){var f,h,k,l,n,q,C,z,u,G,x,B,K,y,E=this._isRtl();if(!this.dirty||!this.scaler)return this;var F=this.opt;u=this.chart.theme.axis;var H=F.leftBottom,I=F.rotation%360,J=0,M,L,J=this.chart.theme.axis.tick.labelGap,N=F.font||u.majorTick&&u.majorTick.font||u.tick&&u.tick.font,O=F.titleFont||u.title&&
u.title.font,Q=F.fontColor||u.majorTick&&u.majorTick.fontColor||u.tick&&u.tick.fontColor||"black",$=F.titleFontColor||u.title&&u.title.fontColor||"black";n=0==F.titleGap?0:F.titleGap||u.title&&u.title.gap||15;var R=F.titleOrientation||u.title&&u.title.orientation||"axis",S=this.chart.theme.getTick("major",F),T=this.chart.theme.getTick("minor",F),aa=this.chart.theme.getTick("micro",F),ea="stroke"in F?F.stroke:u.stroke,P=N?a.normalizedLength(a.splitFontString(N).size):0;q=Math.abs(Math.cos(I*Math.PI/
180));M=Math.abs(Math.sin(I*Math.PI/180));var Y=O?a.normalizedLength(a.splitFontString(O).size):0;"number"!=typeof J&&(J=4);0>I&&(I+=360);var Z=this._getMaxLabelSize(),Z=Z&&Z.majLabelW;if(this.vertical){K=d.height-e.b;y=void 0;x=e.t;B=void 0;u=(d.height-e.b+e.t)/2;G=void 0;M=P*M+(Z||0)*q+J+Math.max(0<S.length?S.length:0,0<T.length?T.length:0)+Y+n;C=0;z=-1;h=f=0;n=1;q=0;k=J;l=0;switch(I){case 0:L="end";h=0.4*P;break;case 90:L="middle";f=-P;break;case 180:L="start";h=0.4*-P;break;case 270:L="middle";
break;default:45>I?(L="end",h=0.4*P):90>I?(L="end",h=0.4*P):135>I?L="start":225>I?(L="start",h=0.4*-P):270>I?(L="start",f=H?0:0.4*P):315>I?(L="end",f=H?0:0.4*P):(L="end",h=0.4*P)}if(H)y=B=e.l,J=R&&"away"==R?90:270,G=e.l-M+(270==J?Y:0),n=-1,k=-k;else switch(y=B=d.width-e.r,J=R&&"axis"==R?90:270,G=d.width-e.r+M-(270==J?0:Y),L){case "start":L="end";break;case "end":L="start";break;case "middle":f+=P}}else{y=e.l;K=void 0;B=d.width-e.r;x=void 0;G=(d.width-e.r+e.l)/2;u=void 0;M=P*q+(Z||0)*M+J+Math.max(0<
S.length?S.length:0,0<T.length?T.length:0)+Y+n;C=E?-1:1;n=h=f=z=0;q=1;k=0;l=J;switch(I){case 0:L="middle";h=P;break;case 90:L="start";f=0.4*-P;break;case 180:L="middle";break;case 270:L="end";f=0.4*P;break;default:45>I?(L="start",h=H?P:0):135>I?(L="start",f=0.4*-P):180>I?(L="start",h=H?0:-P):225>I?(L="end",h=H?0:-P):315>I?(L="end",h=H?0.4*P:0):(L="end",h=H?P:0)}if(H)K=x=d.height-e.b,J=R&&"axis"==R?180:0,u=d.height-e.b+M-(J?Y:0);else switch(K=x=e.t,J=R&&"away"==R?180:0,u=e.t-M+(J?0:Y),q=-1,l=-l,L){case "start":L=
"end";break;case "end":L="start";break;case "middle":h-=P}}this.cleanGroup();var X=this.group,H=this.scaler,R=this.ticks,ba=c.getTransformerFromModel(this.scaler),U=(!F.title||!J)&&!I&&this.opt.htmlLabels&&!g("ie")&&!g("opera")?"html":"gfx",V=n*S.length,W=q*S.length,ca=this._skipInterval;X.createLine({x1:y,y1:K,x2:B,y2:x}).setStroke(ea);F.title&&(O=b.createText[U](this.chart,X,G,u,"middle",F.title,O,$),"html"==U?this.htmlElements.push(O):O.setTransform(a.matrix.rotategAt(J,G,u)));if(null==R)return this.dirty=
!1,this;var fa=0<R.major.length?(R.major[0].value-this._majorStart)/H.major.tick:0,da=this.opt.majorLabels;m.forEach(R.major,function(b,c){var d=ba(b.value),e=(E?B:y)+C*d,g=K+z*d;c+=fa;this.createLine(X,{x1:e,y1:g,x2:e+V,y2:g+W}).setStroke(S);if(b.label&&(!ca||0==(c-(1+ca))%(1+ca))){var m=F.maxLabelCharCount?this.getTextWithLimitCharCount(b.label,N,F.maxLabelCharCount):{text:b.label,truncated:!1},m=F.maxLabelSize?this.getTextWithLimitLength(m.text,N,F.maxLabelSize,m.truncated):m,d=this.createText(U,
X,e+(0<S.length?V:0)+k+(I?0:f),g+(0<S.length?W:0)+l+(I?0:h),L,m.text,N,Q);m.truncated&&this.chart.formatTruncatedLabel(d,b.label,U);m.truncated&&this.labelTooltip(d,this.chart,b.label,m.text,N,U);"html"==U?this.htmlElements.push(d):I&&d.setTransform([{dx:f,dy:h},a.matrix.rotategAt(I,e+(0<S.length?V:0)+k,g+(0<S.length?W:0)+l)])}},this);V=n*T.length;W=q*T.length;da=this.opt.minorLabels&&H.minMinorStep<=H.minor.tick*H.bounds.scale;m.forEach(R.minor,function(b){var c=ba(b.value),d=(E?B:y)+C*c,e=K+z*c;
this.createLine(X,{x1:d,y1:e,x2:d+V,y2:e+W}).setStroke(T);if(da&&b.label){var g=F.maxLabelCharCount?this.getTextWithLimitCharCount(b.label,N,F.maxLabelCharCount):{text:b.label,truncated:!1},g=F.maxLabelSize?this.getTextWithLimitLength(g.text,N,F.maxLabelSize,g.truncated):g,c=this.createText(U,X,d+(0<T.length?V:0)+k+(I?0:f),e+(0<T.length?W:0)+l+(I?0:h),L,g.text,N,Q);g.truncated&&this.chart.formatTruncatedLabel(c,b.label,U);g.truncated&&this.labelTooltip(c,this.chart,b.label,g.text,N,U);"html"==U?this.htmlElements.push(c):
I&&c.setTransform([{dx:f,dy:h},a.matrix.rotategAt(I,d+(0<T.length?V:0)+k,e+(0<T.length?W:0)+l)])}},this);V=n*aa.length;W=q*aa.length;m.forEach(R.micro,function(a){var b=ba(a.value);a=y+C*b;b=K+z*b;this.createLine(X,{x1:a,y1:b,x2:a+V,y2:b+W}).setStroke(aa)},this);this.dirty=!1;return this},labelTooltip:function(b,c,e,g,h,k){var m=["dijit/Tooltip"],n={type:"rect"},q=["above","below"];g=a._base._getTextBox(g,{font:h}).w||0;h=h?a.normalizedLength(a.splitFontString(h).size):0;"html"==k?(l.mixin(n,d.position(b.firstChild,
!0)),n.width=Math.ceil(g),n.height=Math.ceil(h),this._events.push({shape:dojo,handle:f.connect(b.firstChild,"onmouseover",this,function(a){require(m,function(a){a.show(e,n,q)})})}),this._events.push({shape:dojo,handle:f.connect(b.firstChild,"onmouseout",this,function(a){require(m,function(a){a.hide(n)})})})):(k=b.getShape(),c=c.getCoords(),n=l.mixin(n,{x:k.x-g/2,y:k.y}),n.x+=c.x,n.y+=c.y,n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=Math.ceil(g),n.height=Math.ceil(h),this._events.push({shape:b,
handle:b.connect("onmouseenter",this,function(a){require(m,function(a){a.show(e,n,q)})})}),this._events.push({shape:b,handle:b.connect("onmouseleave",this,function(a){require(m,function(a){a.hide(n)})})}))},_isRtl:function(){return!1}});return g("dojo-bidi")?k("dojox.charting.axis2d.Default",[e,n]):e})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(l,m,g,k,f,d,e,c){return m("dijit._KeyNavMixin",
c,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);g.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var b=this._keyNavCodes={};b[k.HOME]=f.hitch(this,"focusFirstChild");b[k.END]=f.hitch(this,"focusLastChild");b[this.isLeftToRight()?k.LEFT_ARROW:k.RIGHT_ARROW]=f.hitch(this,"_onLeftArrow");b[this.isLeftToRight()?k.RIGHT_ARROW:k.LEFT_ARROW]=f.hitch(this,"_onRightArrow");b[k.UP_ARROW]=f.hitch(this,"_onUpArrow");b[k.DOWN_ARROW]=f.hitch(this,"_onDownArrow")}var a=
this,b="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(d(this.domNode,"keypress",f.hitch(this,"_onContainerKeypress")),d(this.domNode,"keydown",f.hitch(this,"_onContainerKeydown")),d(this.domNode,"focus",f.hitch(this,"_onContainerFocus")),d(this.containerNode,d.selector(b,"focusin"),function(b){a._onChildFocus(e.getEnclosingWidget(this),b)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},
_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),b.set("tabIndex",this.tabIndex),b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==
this.domNode||this.focusedChild||this.focus()},_onFocus:function(){g.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){g.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",
this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,c,d){b&&this.focusChild(b)},_keyboardSearchCompare:function(b,a){var c=b.domNode,c=(b.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&c==a?-1:0},_onContainerKeydown:function(b){var a=this._keyNavCodes[b.keyCode];a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),
this._searchString=""):b.keyCode==k.SPACE&&(this._searchTimer&&!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b," "))},_onContainerKeypress:function(b){b.charCode<=k.SPACE||(b.ctrlKey||b.altKey||b.metaKey)||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(b,a){var c=null,d,e=0;f.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=
a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;d=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var f=this.focusedChild||null;if(1==b||!f)if(f=this._getNextFocusableChild(f,1),!f)return;b=f;do{var g=this._keyboardSearchCompare(f,d);g&&0==e++&&(c=f);if(-1==g){e=-1;break}f=this._getNextFocusableChild(f,1)}while(f!=b)})();this.onKeyboardSearch(c,b,d,e)},_onChildBlur:function(){},
_getNextFocusableChild:function(b,a){var c=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=c&&b.isFocusable())return b}while(b!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var c=e.byNode(b);if(c)return c}return null}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang",
"../../when"],function(l,m,g){var k=function(f){function d(c){f[c]=function(){var b=arguments,a=g(f,function(a){Array.prototype.unshift.call(b,a);return k(l[c].apply(l,b))});if("forEach"!==c||e)return a}}if(!f)return f;var e=!!f.then;e&&(f=m.delegate(f));d("forEach");d("filter");d("map");null==f.total&&(f.total=g(f,function(c){return c.length}));return f};m.setObject("dojo.store.util.QueryResults",k);return k})},"common/widgets/form/Button":function(){define(["dijit/form/Button","./_ButtonMixin"],
function(l,m){return l.createSubclass([m])})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(l,m,g,k,f,d,e,c){m("dijit-legacy-requires")&&k(0,function(){require(["dijit/form/_FormValueWidget"])});return l("dijit.form._FormWidget",[f,e,d,c],{setDisabled:function(b){g.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");
this.set("disabled",b)},setValue:function(b){g.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){g.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!m("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},
"common/widgets/Notes":function(){define("dijit/_FocusMixin dijit/_WidgetBase dijit/form/Button dojo/date/stamp dojo/dom-construct dojo/on dgrid/OnDemandList dojo/store/Memory dojo/i18n!common/nls/common common/util".split(" "),function(l,m,g,k,f,d,e,c,b,a){return m.createSubclass([l],{baseClass:"notes",buildRendering:function(){this.inherited(arguments);var c=this.containerNode=this.domNode,l=this,m=f.create("span",{className:"icon close",tabIndex:"0"},c);this.own(d(m,a.click,function(a){a.preventDefault();
a.stopPropagation();l._cancel()}));m=this.notesList=new e({renderRow:function(b){var c=f.create("div"),d=k.fromISOString(b.time);f.create("div",{className:"note-header",innerHTML:a.formatTimestamp(d)+" by "+b.author},c);f.create("div",{className:"note-text",innerHTML:b.text},c);return c},sort:[{attribute:"time",descending:!0}]});f.place(m.domNode,this.domNode);this._listHeader=f.create("div",{className:"heading",innerHTML:"History"},m.domNode,"before");c=this._buttons=f.create("div",{className:"buttons"},
c);this.cancelButton=(new g({label:b.close,onClick:function(){l._cancel()}})).placeAt(c)},_cancel:function(){this.emit("cancel",{})},_setNotesAttr:function(a){var b=this.notesList;a=new c({data:a||[],idProperty:"time"});b.set("store",a)}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(l,m,g,k){var f=g.getObject("dojo.dnd",!0);f.getCopyKeyState=function(d){return d[l("mac")?"metaKey":"ctrlKey"]};f._uniqueId=0;f.getUniqueId=function(){var d;
do d=m._scopeName+"Unique"+ ++f._uniqueId;while(k.byId(d));return d};f._empty={};f.isFormElement=function(d){d=d.target;3==d.nodeType&&(d=d.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+d.tagName.toLowerCase()+" ")};return f})},"common/models/Property":function(){define(["./_Model"],function(l){return l.createSubclass([],{_getLoadQuery:function(){return{embedded:"ngic"}},_getLoadUrl:function(){var l=this.Config.get(this._contextName);return l.contextPath+"api/rest/properties/v1/properties/"+
l.propertyCode}})})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r){var t=m("dijit.CalendarLite",[n,v],{templateString:r,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',
dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(a){return a&&
!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=d.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),
this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,
"month",-1)),e=new this.dateClassObj,f=g.getFirstDayOfWeek(this.lang);f>b&&(f-=7);if(!this.summary){var h=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",h[a.getMonth()])}this._date2cell={};l.forEach(this.dateCells,function(g,h){var k=h+f,l=new this.dateClassObj(a),m="dijitCalendar",n=0;k<b?(k=d-b+k+1,n=-1,m+="Previous"):k>=b+c?(k=k-b-c+1,n=1,m+="Next"):(k=k-b+1,m+="Current");n&&(l=this.dateModule.add(l,"month",n));l.setDate(k);this.dateModule.compare(l,
e,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(l,this.lang)?(m="dijitCalendarDisabledDate "+m,g.setAttribute("aria-disabled","true")):(m="dijitCalendarEnabledDate "+m,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(n=this.getClassForDate(l,this.lang))&&(m=n+" "+m);g.className=m+"Month dijitCalendarDateTemplate";m=l.valueOf();this._date2cell[m]=g;g.dijitDateValue=m;this._setText(this.dateLabels[h],l.getDateLocalized?l.getDateLocalized(this.lang):l.getDate())},
this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;l.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?b.getObject(a.datePackage,
!1):k;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?b.getObject(a.datePackage+".locale",!1):f},_createMonthWidget:function(){return t._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=g.getFirstDayOfWeek(this.lang);this.dayCellsHtml=q.substitute([a,a,a,a,a,a,a].join(""),{d:""},
function(){return b[c++%7]});a=q.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);e.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var c=b.hitch(this,function(c,d,e){return a(this[c],
"click",b.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,d,e))}))});this.own(c("incrementMonth","month",1),c("decrementMonth","month",-1),c("nextYearLabelNode","year",1),c("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,d=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(c,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);
c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();d&&d!=c&&(h("webkit")?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!c.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&
this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function d(a,b){c.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":"false")}l.forEach(this._selectedCells||[],b.partial(d,!1));this._selectedCells=l.filter(l.map(a,this._getNodeByDate,this),function(a){return a});l.forEach(this._selectedCells,b.partial(d,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});t._MonthWidget=m("dijit.CalendarLite._MonthWidget",
n,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==h("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+l.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});return t})},"dojox/charting/StoreSeries":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred"],
function(l,m,g){return m("dojox.charting.StoreSeries",null,{constructor:function(g,f,d){this.store=g;this.kwArgs=f;this.value=d?"function"==typeof d?d:"object"==typeof d?function(e){var c={},b;for(b in d)c[b]=e[d[b]];return c}:function(e){return e[d]}:function(d){return d.value};this.data=[];this._initialRendering=!0;this.fetch()},destroy:function(){this.observeHandle&&this.observeHandle.remove()},setSeriesObject:function(g){this.series=g},fetch:function(){function k(){f.data=l.map(f.objects,function(d){return f.value(d,
f.store)});f._pushDataChanges()}var f=this;this.observeHandle&&this.observeHandle.remove();var d=this.store.query(this.kwArgs.query,this.kwArgs);g.when(d,function(d){f.objects=d;k()});d.observe&&(this.observeHandle=d.observe(k,!0))},_pushDataChanges:function(){this.series&&(this.series.chart.updateSeries(this.series.name,this,this._initialRendering),this._initialRendering=!1,this.series.chart.delayedRender())}})})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],
function(l,m,g){var k=m.getObject("lang.functional",!0,l),f={},d=1<"ab".split(/a*/).length?String.prototype.split:function(b){var a=this.split.call(this,b);(b=b.exec(this))&&0==b.index&&a.unshift("");return a},e=function(b){var a=[],c=d.call(b,/\s*->\s*/m);if(1<c.length)for(;c.length;)b=c.pop(),a=c.pop().split(/\s*,\s*|\s+/m),c.length&&c.push("(function("+a.join(", ")+"){ return ("+b+"); })");else if(b.match(/\b_\b/))a=["_"];else{var c=b.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),e=b.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);
if(c||e)c&&(a.push("$1"),b="$1"+b),e&&(a.push("$2"),b+="$2");else{var c=b.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],f={};g.forEach(c,function(b){f.hasOwnProperty(b)||(a.push(b),
f[b]=1)})}}return{args:a,body:b}},c=function(b){return b.length?function(){var a=b.length-1,c=k.lambda(b[a]).apply(this,arguments);for(--a;0<=a;--a)c=k.lambda(b[a]).call(this,c);return c}:function(a){return a}};m.mixin(k,{rawLambda:function(b){return e(b)},buildLambda:function(b){b=e(b);return"function("+b.args.join(",")+"){return ("+b.body+");}"},lambda:function(b){if("function"==typeof b)return b;if(b instanceof Array)return c(b);if(f.hasOwnProperty(b))return f[b];var a=e(b);return f[b]=new Function(a.args,
"return ("+a.body+");")},clearLambdaCache:function(){f={}}});return k})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(l,m,g,k,f,d,e,c,b){return m("dojox.charting.plot2d.CartesianBase",f,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(a,
c){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=c&&c.hAxis||"x";this.vAxis=c&&c.vAxis||"y";this.series=[];this.opt=l.clone(this.baseParams);b.updateWithObject(this.opt,c)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},cleanGroup:function(a,b){this.inherited(arguments);if(!b&&this.chart._nativeClip){var c=this.chart.offsets,d=this.chart.dim,e=Math.max(0,d.width-c.l-c.r),d=Math.max(0,
d.height-c.t-c.b);this.group.setClip({x:c.l,y:c.t,width:e,height:d});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||this.group},setAxis:function(a){a&&(this[a.vertical?"_vAxis":"_hAxis"]=a);return this},toPage:function(a){var b=this._hAxis,c=this._vAxis,d=b.getScaler(),e=c.getScaler(),f=d.scaler.getTransformerFromModel(d),g=e.scaler.getTransformerFromModel(e),
k=this.chart.getCoords(),l=this.chart.offsets,m=this.chart.dim,d=function(a){var d={};d.x=f(a[b.name])+k.x+l.l;d.y=k.y+m.height-l.b-g(a[c.name]);return d};return a?d(a):d},toData:function(a){var b=this._hAxis,c=this._vAxis,d=b.getScaler(),e=c.getScaler(),f=d.scaler.getTransformerFromPlot(d),g=e.scaler.getTransformerFromPlot(e),k=this.chart.getCoords(),l=this.chart.offsets,m=this.chart.dim,d=function(a){var d={};d[b.name]=f(a.x-k.x-l.l);d[c.name]=g(k.y+m.height-a.y-l.b);return d};return a?d(a):d},
isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(a,b,c,d){if(this.opt.labels){var f,g=this.opt.labelFunc?this.opt.labelFunc.apply(this,[b,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(b.y)?b:b.y);if("inside"==this.opt.labelStyle){var k=e._base._getTextBox(g,{font:d.series.font});b=c.x+c.width/2;f=c.y+c.height/2+k.h/4;if(k.w>c.width||k.h>c.height)return}else b=c.x+c.width/2,f=c.y-this.opt.labelOffset;this.renderLabel(a,
b,f,g,d,"inside"==this.opt.labelStyle)}},performZoom:function(a,b){var d=this._vAxis.scale||1,e=this._hAxis.scale||1,f=a.height-b.b,k=this._hScaler.bounds,k=(k.from-k.lower)*k.scale,m=this._vScaler.bounds,m=(m.from-m.lower)*m.scale,s=d/this.lastWindow.vscale,p=e/this.lastWindow.hscale,D=(this.lastWindow.xoffset-k)/(1==this.lastWindow.hscale?e:this.lastWindow.hscale),A=(m-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?d:this.lastWindow.vscale),w=this.getGroup(),f=c.animateTransform(l.delegate({shape:w,
duration:1200,transform:[{name:"translate",start:[0,0],end:[b.l*(1-p),f*(1-s)]},{name:"scale",start:[1,1],end:[p,s]},{name:"original"},{name:"translate",start:[0,0],end:[D,A]}]},this.zoom));l.mixin(this.lastWindow,{vscale:d,hscale:e,xoffset:k,yoffset:m});this.zoomQueue.push(f);g.connect(f,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(a,b){this._hAxis?
(this._hAxis.initialized()||this._hAxis.calculate(b.hmin,b.hmax,a.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=d.buildScaler(b.hmin,b.hmax,a.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(b.vmin,b.vmax,a.height),this._vScaler=this._vAxis.getScaler()):this._vScaler=d.buildScaler(b.vmin,b.vmax,a.height);return this}})})},"common/widgets/form/DropDownButton":function(){define(["dijit/form/DropDownButton","./_ButtonMixin"],function(l,m){return l.createSubclass([m],
{"class":"forecast drop-down-button",hideChrome:!1,_setHideChromeAttr:function(g){this.domNode.classList[g?"add":"remove"]("no-chrome");this._set("hideChrome",g)}})})},"forecast/views/DetailsTable":function(){define("common/widgets/_HandlesMixin common/widgets/DayTable common/widgets/Dialog common/widgets/Legend common/widgets/TooltipDialog ./Notes ./OtbTable ../models/Otb common/util core/Config dojo/i18n!common/nls/common dojo/date dojo/date/stamp dojo/query dojo/on dojo/keys dojo/number dojo/_base/lang dojo/dom-construct dojo/when dijit/popup dijit/registry dijit/_WidgetBase dijit/form/CheckBox dijit/form/NumberTextBox".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p,D,A,w,C,z,u,G){function x(a,b,c){D.place('\x3cspan class\x3d"label stly"\x3e'+h.stly+"\x3c/span\x3e",c)}function B(a){var b=[a?"remDem":"appliedRemDem","transBooked","addlDemand"];return function(c,d,e){var f=a?c.lastYear:c.current;f&&(c=b.reduce(function(a,b){return a+(f[b]||0)},0),e.textContent=this.view._format(c))}}function K(a){return p.mixin({renderCell:function(b,c,d){if(b[a.lastYear?"lastYear":"current"])c=b[a.lastYear?"lastYear":"current"][a.field],
d.textContent=this.view._format(c,"addlDemand"===a.field?2:0)}},a)}a=z.createSubclass([],{baseClass:"demand-selector",demands:null,value:null,buildRendering:function(){function a(c,d,e){d=D.create("div",{className:"demand-item demand-"+d},b);"input"!==e&&d.setAttribute("data-demand-action",e);D.create("span",{className:"demand-label",innerHTML:c},d);var f;"value"===e?f=D.create("span",{className:"demand-value"},d):"input"===e&&(f=new G({"class":"demand-value",constraints:{places:0,min:0}}),f.placeAt(d));
return f||d}this.inherited(arguments);var b=this.containerNode=this.domNode;this._demandValues={veryHigh:a(h.veryHigh,"very-high","value"),high:a(h.high,"high","value"),moderate:a(h.moderate,"moderate","value"),low:a(h.low,"low","value"),veryLow:a(h.veryLow,"very-low","value")};this._otherInput=a(h.other,"other","input");this._lockOverride=a(h.lockOverride,"lock","lock");this._clearOverride=a(h.clearOverride,"clear","clear");D.create("span",{className:"demand-label-locked",innerHTML:h.unlockOverride},
this._lockOverride);this._lockOverride.classList.add("disabled");this._clearOverride.classList.add("disabled")},postCreate:function(){this.inherited(arguments);var a=this;this.on(".demand-item:click",function(b){for(b=b.target;!b.classList.contains("demand-item");)b=b.parentElement;if(!b.classList.contains("disabled")){var c=b.getAttribute("data-demand-action");c&&("value"===c?a.emit("set",{detail:{value:Number(v(".demand-value",b)[0].textContent)}}):"lock"===c?a.emit("lock",{}):a.emit(c,{}))}});
var b=this._otherInput;b.on("input",function(c){b.isValid()&&(c.keyCode===t.ENTER?a.emit("set",{detail:{value:Number(b.get("value"))}}):setTimeout(function(){var c=isNaN(b.get("value"))?"add":"remove";a._lockOverride.classList[c]("disabled")}))})},_setAppliedDemandAttr:function(a){this._set("appliedDemand",a);this.set("demands",a.get("overridePreset")||{veryHigh:250,high:150,moderate:75,low:50,veryLow:20});a.isOverridden()?(a.isDirty()&&this._otherInput.set("value",a.get("value")),this._lockOverride.classList.remove("disabled"),
this._clearOverride.classList.remove("disabled")):(this._otherInput.set("value",""),this._lockOverride.classList.add("disabled"),this._clearOverride.classList.add("disabled"));a.isLocked()?(this._clearOverride.classList.add("disabled"),this.domNode.classList.add("locked")):this.domNode.classList.remove("locked")},_setDemandsAttr:function(a){this._set("demands",a);for(var b in a)this._demandValues[b].innerHTML=a[b]},_setEditableAttr:function(a){this._otherInput.set("disabled",!a)}});var y=m.createSubclass([],
{view:null,_allRows:[K({field:"remDem",label:h.sysRemDem}),K({field:"remDem",label:x,lastYear:!0}),{field:"total",label:h.totalTransientDemand,renderCell:B()},{field:"total",lastYear:!0,label:x,renderCell:B(!0)},K({field:"transBooked",label:function(a,b,c){D.place('\x3cspan class\x3d"icon circle-arrow otb right"\x3e\x3c/span\x3e'+h.transientBooked+"\x3c/span\x3e",c)}}),K({field:"transBooked",label:x,lastYear:!0}),K({field:"addlDemand",label:h.addlDemand}),K({field:"addlDemand",label:x,lastYear:!0}),
{field:"appliedDemand",label:h.appliedRemDem,renderCell:function(a,b,c){if(a.current){b=a.current.appliedDemand;D.create("span",{className:"icon lock"},c);D.create("span",{className:"value",innerHTML:this.view._format(b.get("value"))},c);var d=D.create("span",{className:"icon dropdown menu-chevron"},c);a=n.fromISOString(a.date);(!this.view.model.hasUpdatePrivilege()||0>q.compare(a,this.view.model.get("marshaDate"),"date"))&&d.classList.add("hidden");b.isOptimized()?c.classList.add("optimized"):b.isOverridden()&&
c.classList.add("not-optimized");b.isLocked()&&c.classList.add("locked")}}},{field:"demandArrow",label:function(){},renderCell:function(a,b,c){this.view.isValidDateForDemandSegment(n.fromISOString(a.date))&&D.create("span",{className:"icon down-arrow-large"},c)}}],constructor:function(){this.rows=this._currentRows=this._allRows.filter(function(a){return!a.lastYear})},refreshHeader:function(a){(a=this.column(a))&&this._styleHeader(a.data,a.head)},_renderColumnHeader:function(a){var b=this.inherited(arguments);
if(a){var c=v(".label",b)[0];D.create("span",{className:"icon note"},c,"before");this._styleHeader(a,b)}return b},_styleHeader:function(a,b){a.notes&&0<a.notes.count()&&b.classList.add("has-note")},_setStlyAttr:function(a){a?this.set("rows",this._allRows):this.set("rows",this._currentRows);this.render()}});return z.createSubclass([l],{"class":"data-table details-table",DemandSelector:a,buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;var a=D.create("div",{className:"header"},
this.domNode);(new k({labels:[h.override,h.notImplemented]})).placeAt(a);var b=this._stlySelect=new u;b.placeAt(a);D.create("label",{"for":b.id,innerHTML:h.showSTLY},a);(this._table=new y({view:this})).placeAt(this.domNode)},postCreate:function(){this.inherited(arguments);var a=this;this.on(".header .date-content .label:mousedown",function(a){a.preventDefault()});this.on(".header .date-content .label:click",function(b){for(b=b.target;!b.classList.contains("column");)b=b.parentNode;a.emit("select-detail-date",
{detail:{date:b.getAttribute("data-column-id")}})});this.on(".icon:mousedown",function(a){a.preventDefault()});this.on(".icon:click",function(b){b.preventDefault();b.stopPropagation();var c=b.target,d=c.classList;d.contains("note")?a._onOpenNote(a._table.column(b.target)):d.contains("otb")?a._onOpenOtbDialog():d.contains("dropdown")?a.model.hasUpdatePrivilege()&&a._onOpenAppliedDemand(a._table.column(b.target)):c.parentNode.classList.contains("field-demandArrow")&&a.emit("demand-arrow-clicked",{detail:{date:c.parentNode.getAttribute("data-column-id")}})});
this.own(this._stlySelect.watch("checked",function(b,c,d){a._table.set("stly",d)}))},closeNotesDialog:function(){this._noteDialog&&w.close(this._noteDialog)},refreshOverrides:function(){Object.keys(this.data).forEach(function(a){if(this._table.cell(a,"appliedDemand")){var b=this._table.cell(a,"appliedDemand").element;a=this.data[a].current.appliedDemand;v("\x3e .value",b)[0].textContent=this._format(a.get("value"));b.classList.remove("not-optimized","optimized");a=a.get("override");"D"===a?b.classList.add("not-optimized"):
"P"===a&&b.classList.add("optimized")}},this)},isValidDateForDemandSegment:function(a){return 0<=q.compare(a,this.model.get("marshaDate"),"date")},_format:function(a,b){return"number"!==typeof a||a!==a?"":s.format(a,{places:null==b?0:b})},_onOpenNote:function(a){var b=this._noteView,c=this._noteDialog;b||(b=this._noteView=new d({marshaDate:this.model.get("marshaDate")}),this.own(b),b.on("cancel",function(){w.close(c)}),c=this._noteDialog=new f({content:b}),this.own(c));if(!c.open||b.columnId!==a.id){var e=
a.data.notes;e&&(e.sort(),b.set({model:e,columnId:a.id}),w.open({parent:this,popup:c,around:a.head,orient:["below-centered","above-centered"],onCancel:function(){b.cancel()}}),w.getTopPopup().wrapper.style.zIndex="949")}},_onOpenAppliedDemand:function(a){function b(){w.close(e)}function c(a,b,e){d.emit("overrides-change",{detail:{columnId:a,appliedDemand:b,cleared:e}})}var d=this,e=this._demandDialog,g=this._demandSelector;g||(g=this._demandSelector=new this.DemandSelector({editable:this.updateEnabled}),
e=this._demandDialog=new f({content:g,onBlur:function(){b()}}),this.own(g,e),g.on("set",function(a){var d=g.column.data.current.appliedDemand;d.isLocked()||(d.overrideValue(a.detail.value),c(g.column.id,d));b()}),g.on("clear",function(){var a=g.column.data.current.appliedDemand;a.isLocked()||(a.revert(),c(g.column.id,a,!0));b()}),g.on("lock",function(){var a=g.column.data.current.appliedDemand,e=d._table.cell(g.column.id,"appliedDemand").element;a.isLocked()?(a.set("locked",!1),c(g.column.id,a),e.classList.remove("locked")):
(a.set("locked",!0),c(g.column.id,a),e.classList.add("locked"));b();setTimeout(function(){d.controller._saveDraft()},1E3)}));e.open&&g.column.id===a.id?b():(g.set("appliedDemand",a.data.current.appliedDemand),g.column=a,w.open({parent:this,popup:e,around:a.elements[a.elements.length-2],orient:["below-centered","above-centered"],onCancel:b}),w.getTopPopup().wrapper.style.zIndex="949",w.getTopPopup().wrapper.classList.add("forecast"),w.getTopPopup().wrapper.classList.add("demand-popup"))},_onOpenOtbDialog:function(){var a=
this._otbDialog,b=this._otbTable;if(!a){var d=new c,b=this._otbTable=new e({model:d,weekendIndicatorModel:this.weekendIndicatorModel,eventsAndWeekendsData:this.model.get("dateDemandDataMap"),namesModel:this.model.getUiOrder()}),a=this._otbDialog=new g({content:b,buttons:[{label:h.close,onClick:function(){a.hide()}}]});a.domNode.classList.add("otb-dialog");this.own(a);var f=!1,k=d.on("load-complete",function(){f=!0;k.remove()}),l=b.on("table-render-complete",function(){f&&(a._size(),a._position(),
l.remove())})}b.set("targetDate",this.get("targetDate"));a.show()},_setDataAttr:function(a){this._set("data",a);this._table.set("data",a)},_setModelAttr:function(a){this.removeHandles();this._set("model",a);var b=this;this.addHandle(a.on("load-complete",function(){var c=a.get("dateDemandDataMap");b.set("data",c);b._otbTable&&(b._otbTable.set("eventsAndWeekendsData",c),b._otbTable.model.set("targetDate",null),b._otbDialog.open&&b._otbTable.set("targetDate",this.get("targetDate")))}));this.addHandle(a.on("data-change",
function(a){a.detail.notes&&b._table.refreshHeader(a.detail.date)}));this.addHandle(a.watch("targetDate",function(a,c,d){b.set("targetDate",d)}));this.set("updateEnabled",a.get("updateEnabled"));this.set("targetDate",a.get("targetDate"));this.set("data",a.get("dateDemandDataMap"))},_setUpdateEnabledAttr:function(a){this._set("updateEnabled",a);this._demandSelector&&this._demandSelector.set("editable",a)},_setWeekendIndicatorModelAttr:function(a){this._set("weekendIndicatorModel",a);this._table.set("weekendIndicatorModel",
a)},_setTargetDateAttr:b.proxySetter("_table","targetDate"),_getTargetDateAttr:b.proxyGetter("_table","targetDate"),_getHighlightDateAttr:b.proxyGetter("_table","highlightDate"),_setHighlightDateAttr:b.proxySetter("_table","highlightDate"),watch:function(a){if("targetDate"===a||"highlightDate"===a)return this._table.watch.apply(this._table,arguments);this.inherited(arguments)}})})},"xstyle/css":function(){define(["require"],function(l){function m(g,k,f){var d=document.documentElement;g=d.insertBefore(document.createElement(g),
d.firstChild);g.id=k;k=(g.currentStyle||getComputedStyle(g,null))[f];d.removeChild(g);return k}return{load:function(g,k,f,d){function e(){var a=m("x-parse",null,"content");a&&"none"!=a?k([eval(a)],f):f()}var c=k.toUrl(g),b=k.cache&&k.cache["url:"+c];if(b)return b.xCss&&(b=b.cssText),l(["./util/createStyleSheet"],function(a){a(b)}),e();if("none"==m("div",g.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return e();l(["./core/load-css"],function(a){a(c,e)})}}})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane dojo/text!./templates/Dialog.html dojo/i18n!./nls/common".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p,D,A,w,C,z,u,G,x,B,K,y){w=k("dijit._DialogBase"+(t("dojo-bidi")?"_NoBidi":""),[z,G,x,u],{templateString:y,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=h.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){b.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);g.after(this,"onExecute",n.hitch(this,"hide"),!0);g.after(this,"onCancel",n.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this._size();this._position();this.autofocus&&F.isTop(this)&&
(this._getFocusItems(this.domNode),A.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems(this.domNode);A.focus(this._firstFocusItem)},_endDrag:function(){var a=c.position(this.domNode),b=s.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==t("ie")?D:p)(a,{handle:this.titleBar}),
g.after(this._moveable,"onMoveStop",n.hitch(this,"_endDrag"),!0)):e.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:n.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();this._singleChild?"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle):
b.set(this.containerNode,{width:"auto",height:"auto"});var a=c.position(this.domNode),d=s.getBox(this.ownerDocument);d.w*=this.maxRatio;d.h*=this.maxRatio;if(a.w>=d.w||a.h>=d.h){var e=c.position(this.containerNode),f=Math.min(a.w,d.w)-(a.w-e.w),a=Math.min(a.h,d.h)-(a.h-e.h);this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),this._singleChild.resize({w:f,h:a})):b.set(this.containerNode,
{width:f+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!e.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,d=s.getBox(this.ownerDocument),f=this._relativePosition,g=f?null:c.position(a);b.set(a,{left:Math.floor(d.l+(f?f.x:(d.w-g.w)/2))+"px",top:Math.floor(d.t+(f?f.y:(d.h-g.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==q.TAB){this._getFocusItems(this.domNode);var b=a.target;
this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(A.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(A.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==q.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(!this.open){this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=
!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),F.hide(this));var c=s.get(this.ownerDocument);this._modalconnects.push(v(c,"scroll",n.hitch(this,"resize")));this._modalconnects.push(v(this.domNode,"keydown",n.hitch(this,"_onKey")));b.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var d;this._fadeInDeferred=new f(n.hitch(this,function(){d.stop();delete this._fadeInDeferred}));c=this._fadeInDeferred.promise;d=a.fadeIn({node:this.domNode,
duration:this.duration,beforeBegin:n.hitch(this,function(){F.show(this,this.underlayAttrs)}),onEnd:n.hitch(this,function(){this.autofocus&&F.isTop(this)&&(this._getFocusItems(this.domNode),A.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return c}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var b;this._fadeOutDeferred=new f(n.hitch(this,function(){b.stop();delete this._fadeOutDeferred}));
this._fadeOutDeferred.then(n.hitch(this,"onHide"));var c=this._fadeOutDeferred.promise;b=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:n.hitch(this,function(){this.domNode.style.display="none";F.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var d;d=this._modalconnects.pop();)d.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return c}},resize:function(){"none"!=
this.domNode.style.display&&(this._size(),t("touch")||this._position())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();F.hide(this);this.inherited(arguments)}});t("dojo-bidi")&&(w=k("dijit._DialogBase",w,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&
this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var E=k("dijit.Dialog",[K,w],{});E._DialogBase=w;var F=E._DialogLevelManager={_beginZIndex:950,show:function(a,c){H[H.length-1].focus=A.curNode;var d=H[H.length-1].dialog?H[H.length-1].zIndex+2:E._DialogLevelManager._beginZIndex;b.set(a.domNode,"zIndex",d);B.show(c,d-1);H.push({dialog:a,underlayAttrs:c,zIndex:d})},hide:function(a){if(H[H.length-1].dialog==a){H.pop();var b=H[H.length-1];1==H.length?B.hide():B.show(b.underlayAttrs,
b.zIndex-1);if(a.refocus){a=b.focus;if(b.dialog&&(!a||!d.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else b=m.indexOf(m.map(H,function(a){return a.dialog}),a),-1!=b&&H.splice(b,1)},isTop:function(a){return H[H.length-1].dialog==a}},H=E._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];A.watch("curNode",function(a,b,c){a=H[H.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==
a.domNode||e.contains(c,"dijitPopup"))return;while(c=c.parentNode);a.focus()}});t("dijit-legacy-requires")&&r(0,function(){l(["dijit/TooltipDialog"])});return E})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(l,m,g,k,f,d,e,c,b){return g([l,m],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",
pagingDelay:c.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var a=this;e(this.bodyNode,"scroll",c[this.pagingMethod](function(b){a._processScroll(b)},null,this.pagingDelay))},renderQuery:function(a,c,d){function e(a){b(D,"!");if(a)throw g._refreshDeferred&&(g._refreshDeferred.reject(a),delete g._refreshDeferred),a;}var g=this,l={query:a,count:0,node:c,options:d},m=this.preload,s;if(!c){var p={node:b(this.contentNode,"div.dgrid-preload",{rowIndex:0}),
count:0,query:a,next:l,options:d};p.node.style.height="0";l.node=c=b(this.contentNode,"div.dgrid-preload");l.previous=p}c.rowIndex=this.minRowsPerPage;m?((l.next=m.next)&&c.offsetTop>=m.node.offsetTop?l.previous=m:(l.next=m,l.previous=m.previous),l.previous.next=l,l.next.previous=l):this.preload=l;var D=b(c,"-div.dgrid-loading");b(D,"div.dgrid-below").innerHTML=this.loadingMessage;d=k.mixin(this.get("queryOptions"),d,{start:0,count:this.minRowsPerPage},"level"in a?{queryLevel:a.level}:null);this._trackError(function(){return s=
a(d)});if("undefined"===typeof s)e();else return f.when(g.renderArray(s,c,d),function(a){return f.when("undefined"===typeof s.total?s.length:s.total,function(e){var f=a.length,k=c.parentNode,m=g.noDataNode;b(D,"!");"queryLevel"in d||(g._total=e);0===e&&(m&&(b(m,"!"),delete g.noDataNode),g.noDataNode=m=b("div.dgrid-no-data"),k.insertBefore(m,g._getFirstRowSibling(k)),m.innerHTML=g.noDataMessage);for(m=k=0;m<f;m++)k+=g._calcRowHeight(a[m]);f&&k&&(g.rowHeight=k/f);e-=f;l.count=e;c.rowIndex=f;e?c.style.height=
Math.min(e*g.rowHeight,g.maxEmptySpace)+"px":(c.style.display="none",d.count++);g._previousScrollPosition&&(g.scrollTo(g._previousScrollPosition),delete g._previousScrollPosition);g._processScroll();g._refreshDeferred&&(g._refreshDeferred.resolve(s),delete g._refreshDeferred);return a},e)},e),s},refresh:function(a){var b=this,c=a&&a.keepScrollPosition,d;"undefined"===typeof c&&(c=this.keepScrollPosition);c&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return c=
this._refreshDeferred=new f,d=b.renderQuery(function(a){return b.store.query(b.query,a)}),"undefined"===typeof d&&c.reject(),c.then(function(a){setTimeout(function(){e.emit(b.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:b,results:a})},0);delete b._refreshDeferred;return a},function(a){delete b._refreshDeferred;throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var b=a.previousSibling;
return b&&!/\bdgrid-preload\b/.test(b.className)?a.offsetTop-b.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(a){function c(a,e,f,h){var k=g.farOffRemoval,l=a.node;if(e>2*k){for(var m,p=l[f],n=0,r=0,s=[];m=p;){var H=g._calcRowHeight(m);if(n+H+k>e||0>p.className.indexOf("dgrid-row")&&0>p.className.indexOf("dgrid-loading"))break;p=m[f];n+=H;r+=m.count||1;g.removeRow(m,!0);s.push(m)}a.count+=r;h?(l.rowIndex-=r,d(a)):l.style.height=l.offsetHeight+n+"px";var I=b("div",s);setTimeout(function(){b(I,
"!")},1)}}function d(a,b){a.node.style.height=Math.min(a.count*g.rowHeight,b?Infinity:g.maxEmptySpace)+"px"}function e(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var g=this,l=g.bodyNode;a=a&&a.scrollTop||this.getScrollPosition().y;var l=l.offsetHeight+a,m,s,p=g.preload,D=g.lastScrollTop,A=g.bufferRows*g.rowHeight,w=A-g.rowHeight,C,z,u,G=!0;for(g.lastScrollTop=a;p&&!p.node.offsetWidth;)p=p.previous;for(;p&&p!=m;){m=g.preload;g.preload=p;s=p.node;var x=s.offsetTop;if(l+1+w<
x)p=e(p,G=!1);else if(a-1-w>x+s.offsetHeight)p=e(p,G=!0);else{var B=((s.rowIndex?a-A:l)-x)/g.rowHeight,x=(l-a+2*A)/g.rowHeight,K=Math.max(Math.min((a-D)*g.rowHeight,g.maxRowsPerPage/2),g.maxRowsPerPage/-2),x=x+Math.min(Math.abs(K),10);0==s.rowIndex&&(B-=x);B=Math.max(B,0);10>B&&(0<B&&x+B<g.maxRowsPerPage)&&(x+=Math.max(0,B),B=0);x=Math.min(Math.max(x,g.minRowsPerPage),g.maxRowsPerPage,p.count);if(0==x)p=e(p,G);else{var x=Math.ceil(x),B=Math.min(Math.floor(B),p.count-x),y=k.mixin(g.get("queryOptions"),
p.options);p.count-=x;var E=s,F,H=g.queryRowsOverlap;if(K=0<s.rowIndex&&p){var I=p.previous;I&&(c(I,a-(I.node.offsetTop+I.node.offsetHeight),"nextSibling"),0<B&&I.node==s.previousSibling?(B=Math.min(p.count,B),p.previous.count+=B,d(p.previous,!0),s.rowIndex+=B,H=0):x+=B,p.count-=B);y.start=s.rowIndex-H;y.count=Math.min(x+H,g.maxRowsPerPage);s.rowIndex=y.start+y.count}else p.next&&(c(p.next,p.next.node.offsetTop-l,"previousSibling",!0),E=s.nextSibling,E==p.next.node?(p.next.count+=p.count-B,p.next.node.rowIndex=
B+x,d(p.next),p.count=B,H=0):F=!0),y.start=p.count,y.count=Math.min(x+H,g.maxRowsPerPage);F&&(E&&E.offsetWidth)&&(F=E.offsetTop);d(p);"level"in p.query&&(y.queryLevel=p.query.level);if("queryLevel"in y||!(y.start>g._total||0>y.count)){s=b(E,"-div.dgrid-loading[style\x3dheight:"+x*g.rowHeight+"px]");b(s,"div.dgrid-"+(K?"below":"above")).innerHTML=g.loadingMessage;s.count=x;var J=p.query(y);if(void 0===g._trackError(function(){return J})){b(s,"!");return}(function(a,c,e,h){u=f.when(g.renderArray(h,
a,y),function(k){z=h;E=a.nextSibling;b(a,"!");if(e&&E&&E.offsetWidth){var l=g.getScrollPosition();g.scrollTo({x:l.x,y:l.y+E.offsetTop-e,preserveMomentum:!0})}f.when(h.total||h.length,function(a){"queryLevel"in y||(g._total=a);c&&(c.count=a-c.node.rowIndex,0===c.count&&y.count++,d(c))});g._processScroll();return k},function(c){b(a,"!");throw c;})}).call(this,s,K,F,J);p=p.previous}}}}if(u&&(C=this._refreshDeferred))delete this._refreshDeferred,f.when(u,function(){C.resolve(z)})},removeRow:function(a,
b){if(a){var c=a.previousSibling,e=a.nextSibling,c=c&&(null!=c.observerIndex?c.observerIndex:c.previousObserverIndex),f=e&&(null!=e.observerIndex?e.observerIndex:e.nextObserverIndex),e=a.observerIndex;a.observerIndex=void 0;b&&(a.nextObserverIndex=f,a.previousObserverIndex=c);if(this.cleanEmptyObservers&&(-1<e&&e!==c&&e!==f)&&(c=this.observers,f=c[e])){if(!b)for(var g=f.rows,k=0;k<g.length;k++)if(g[k]!=a&&d.isDescendant(g[k],this.domNode))return this.inherited(arguments);f.cancel();this._numObservers--;
c[e]=0}}this.inherited(arguments)}})})},"dojox/charting/plot2d/MarkersOnly":function(){define(["dojo/_base/declare","./Default"],function(l,m){return l("dojox.charting.plot2d.MarkersOnly",m,{constructor:function(){this.opt.lines=!1;this.opt.markers=!0}})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t){var s=k("dijit.Calendar",[q,n,v],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){e.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new s._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:b.hitch(this,
"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(a(this.domNode,"keydown",b.hitch(this,"_onKeyDown")),a(this.dateRowsNode,"mouseover",b.hitch(this,"_onDayMouseOver")),a(this.dateRowsNode,"mouseout",b.hitch(this,"_onDayMouseOut")),a(this.dateRowsNode,"mousedown",b.hitch(this,"_onDayMouseDown")),a(this.dateRowsNode,"mouseup",b.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);
b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=d.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))d.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&!(a.relatedTarget&&
a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",d.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),d.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate"))d.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&d.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var b=-1,d,e=this.currentFocus;switch(a.keyCode){case c.RIGHT_ARROW:b=1;case c.LEFT_ARROW:d="day";this.isLeftToRight()||(b*=-1);break;case c.DOWN_ARROW:b=1;case c.UP_ARROW:d="week";break;case c.PAGE_DOWN:b=1;case c.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case c.END:e=this.dateModule.add(e,"month",1),d="day";case c.HOME:e=new this.dateClassObj(e);e.setDate(1);break;default:return!0}d&&(e=this.dateModule.add(e,d,b));this._setCurrentFocusAttr(e);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});s._MonthDropDownButton=k("dijit.Calendar._MonthDropDownButton",t,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new s._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
b);this.containerNode.innerHTML=(6==h("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});s._MonthDropDown=k("dijit.Calendar._MonthDropDown",[n,r],{months:[],templateString:"\x3cdiv class\x3d'dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event\x3d'onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
l.map(a,function(a,b){return a?"\x3cdiv class\x3d'dijitCalendarMonthLabel' month\x3d'"+b+"'\x3e"+a+"\x3c/div\x3e":""}).join("")},_onClick:function(a){this.onChange(f.get(a.target,"month"))},onChange:function(){},_onMenuHover:function(a){d.toggle(a.target,"dijitCalendarMonthLabelHover","mouseover"==a.type)}});return s})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",
_onClick:function(g){var k=this.checked;this._set("checked",!k);var f=this.inherited(arguments);this.set("checked",f?this.checked:k);return f},_setCheckedAttr:function(g,k){this._set("checked",g);var f=this.focusNode||this.domNode;this._created&&m.get(f,"checked")!=!!g&&m.set(f,"checked",!!g);f.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,k)},postCreate:function(){this.inherited(arguments);var g=this.focusNode||this.domNode;this.checked&&g.setAttribute("checked","checked");void 0===
this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"common/widgets/Table":function(){define("dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/query dijit/_WidgetBase dijit/registry".split(" "),function(l,m,g,k,f,d){return f.createSubclass([],{baseClass:"table",rows:null,_columnIdToObject:null,_Column:function(d,c,b){this.id=d;this.object=c;this.elements=b},idField:"id",headerField:null,
postMixInProperties:function(){this.inherited(arguments);this.headerField||(this.headerField=this.idField)},buildRendering:function(){var d=this.domNode=g.create("table");this.headNode=g.create("thead",{className:"header"},d);this.bodyNode=g.create("tbody",{className:"body"},d);this.inherited(arguments)},_setRowsAttr:function(d){if("object"!==typeof d)throw Error("rows property must be an object, an array, or null");if(d)if(d instanceof Array)d=m.map(d,function(a){a=l.mixin({},a);a.table=this;return a},
this);else if("object"===typeof d){var c=[],b;for(b in d)if("string"===typeof d[b])c.push({label:d[b],field:b,table:this});else{var a=l.mixin({},d[b]);a.field=b;a.table=this;c.push(a)}d=c}this._set("rows",d)},_setDataAttr:function(d){this._set("data",d);this._render()},column:function(d){d.target&&d.target.nodeType&&(d=d.target);var c,b;if(d.nodeType){do{b=d.getAttribute("data-column-id");if(c=this._columnIdToObject[b])return{id:b,data:c,elements:k('[data-column-id\x3d"'+b+'"]',this.bodyNode)};d=
d.parentNode}while(d!==this.domNode)}else return"object"===typeof d?b=d[this.idField]:(b=d,c=this._columnIdToObject[d]),{id:b,data:c,elements:k('[data-column-id\x3d"'+b+'"]',this.bodyNode)}},cell:function(d,c){var b,a,f,g,k;if(null!=d&&null!=c&&(b=this.column(d)))if(a=b.elements){g=0;for(k=a.length;g<k;g++)if(f=a[g],f.classList.contains("field-"+c))return{column:b,element:f}}},_getRenderData:function(){return this.data},_render:function(){this._columnIdToObject={};this._destroyWidgets();var d=this._getRenderData();
this.bodyNode.innerHTML="";this._renderHeader(d);if(d){var c=[],b,a;b=0;for(a=this.rows.length;b<a;b++)c.push(this._renderRow(this.rows[b],b));b=0;for(a=d.length;b<a;b++)this._renderColumn(d[b],c,b),this._columnIdToObject[d[b][this.idField]]=d[b];this.emit("table-render-complete",{})}},_renderHeader:function(d){var c=this.headNode;c.innerHTML="";c=g.create("tr",{className:"row"},c);this._renderColumnHeader(null,c);if(d)for(var b=0;b<d.length;b++)this._renderColumnHeader(d[b],c)},_renderColumnHeader:function(d,
c){var b={};if(d){b.className="column";b["data-column-id"]=d[this.idField];var b=g.create("th",b,c),a=d[this.headerField];"string"===typeof a?b.textContent=a:"object"===typeof a&&b.appendChild(a);return b}b.className="label";b.innerHTML="\x26nbsp;";return g.create("th",b,c)},_renderColumn:function(d,c,b){for(var a=0;a<this.rows.length;a++){var f=d[this.idField],k=this.rows[a],l={className:"column column-"+b+" field-"+k.field+" "+f};l["data-column-id"]=f;l["data-column-index"]=b;f=g.create("td",l,
c[a]);this._renderCell(d,this.rows[a],f);this._renderColumnClasses(d,f,b,k)}},_renderCell:function(d,c,b){var a=null,f=d;c.get?f=c.get(d):"field"in c&&"_item"!==c.field&&(f=f[c.field]);c.editor?(d=new c.editor(l.mixin({name:c.field+"-"+d[this.idField],value:f},c.editorArgs)),b.appendChild(d.domNode),b.widget=d,d.startup()):(c.formatter?f=c.formatter.call(this,f):c.renderCell&&(a=c.renderCell.call(this,d,f,b)||b),a?a!==b&&b.appendChild(a):b.textContent=f)},_renderColumnClasses:function(d,c,b,a){a.className&&
(d="function"===typeof a.className?a.className(d,b):a.className)&&d.split(/ +/).forEach(function(a){c.classList.add(a)})},_renderRow:function(d,c){var b={className:"row "+d.field};b["data-row-id"]=d.field;"number"===typeof c&&(b.className+=" "+(c%2?"odd":"even"));b=g.create("tr",b,this.bodyNode);b.appendChild(this._renderRowLabel(d,c));return b},_renderRowLabel:function(d,c){var b=g.create("td",{className:"label"});"function"===typeof d.label?d.label.call(this,d,c,b):b.innerHTML=d.label;return b},
_getRowNode:function(d){return k('[data-row-id\x3d"'+d+'"]',this.bodyNode)[0]},destroy:function(){this._destroyWidgets();this.inherited(arguments)},_destroyWidgets:function(){for(var e=d.findWidgets(this.domNode),c=0;c<e.length;c++)e[c]&&e[c].destroyRecursive()}})})},"common/widgets/_EventTooltipMixin":function(){define(["dojo/_base/declare","dijit/Tooltip"],function(l,m){return l(null,{buildRendering:function(){this.inherited(arguments);this._banner=document.createElement("div")},postCreate:function(){this.inherited(arguments);
this.on(".icon.event:mouseover",function(){this.hasAttribute("data-event")&&m.show(this.getAttribute("data-event"),this)});this.on(".icon.event:mouseout",function(){m.hide(this)})},setEventText:function(g,k){k&&g.setAttribute("data-event",k)}})})},"forecast/models/DemandSegment":function(){define("common/models/_Model common/util core/Config dojo/_base/lang dojo/date/stamp dojo/io-query dojo/promise/all".split(" "),function(l,m,g,k,f,d,e){return l.createSubclass([],{date:null,places:3,commit:function(){this.inherited(arguments);
this._dirtySegments={};this._dirtyRoompools={};this._needsRedistribution=this._isDirty=!1},dirtySegmentCount:function(){return Object.keys(this._dirtySegments).length},dirtyRoompoolCount:function(){return Object.keys(this._dirtyRoompools).length},getDirtyRoompoolTotal:function(){var c=this._dirtyRoompools;return Object.keys(c).reduce(function(b,a){return b+c[a]},0)},getDirtySegmentTotal:function(){var c=this._dirtySegments;return Object.keys(c).reduce(function(b,a){return b+c[a]},0)},getOriginalRoompoolTotal:function(){return this._originalRoompoolTotal},
getOriginalSegmentTotal:function(){return this._originalSegmentTotal},getRoompoolIds:function(){return this._getIds("roompool","rpcId")},getRoompoolLastYearPercent:function(c){return 100*this.getRoompoolLastYearValue(c)/this.getRoompoolLastYearTotal()},getRoompoolLastYearTotal:function(){var c=0,b=this.roompoolLastYear,a;for(a in b)c+=b[a].demand.uncRemDem;return c},getRoompoolLastYearValue:function(c){var b=m.find(this.roompoolLastYear,function(a){return a.id===c});return b?b.demand.uncRemDem:0},
getRoompoolName:function(c){return this._getName(this.roompoolNames,c)},getRoompoolPercent:function(c){return 100*this.getRoompoolValue(c)/this._originalRoompoolTotal},getRoompoolTotalPercent:function(){var c=this,b=0;this.getRoompoolIds().map(function(a){b+=c.getRoompoolPercent(a)});return this._roundTotal(b)},getRoompoolTotal:function(){var c=this,b=this.getRoompoolIds().reduce(function(a,b){return a+c.getRoompoolValue(b)},0);return this._roundTotal(b)},getRoompoolTotalVariancePercent:function(){return this._roundTotal(this.getRoompoolTotalPercent()-
this._originalRoompoolTotalPercent)},getRoompoolTotalVariance:function(){return this.getRoompoolTotal()-this._originalRoompoolTotal},getRoompoolValue:function(c){return this._getValue(this._roompoolValues,this._dirtyRoompools,c,"rpcId")},getSegmentIds:function(){return this._getIds("segment","segId")},getSegmentName:function(c){return this._getName(this.segmentNames,c)},getSegmentPercent:function(c){return 100*this.getSegmentValue(c)/this._originalSegmentTotal},getSegmentTotal:function(){var c=this,
b=this.getSegmentIds().reduce(function(a,b){return a+c.getSegmentValue(b)},0);return this._roundTotal(b)},getSegmentTotalVariance:function(){return this.getSegmentTotal()-this._originalSegmentTotal},getSegmentValue:function(c){return this._getValue(this._segmentValues,this._dirtySegments,c,"segId")},isDirty:function(){return this._isDirty},isValid:function(){function c(a){return isNaN(a)||0>a}var b=this.getSegmentIds().some(function(a){return c(this.getSegmentValue(a))},this);b||(b=this.getRoompoolIds().some(function(a){return c(this.getRoompoolValue(a))},
this));return!b},load:function(){var c=this.Config.get(this._contextName),b=c.contextPath,c=c.propertyCode,a=b+"api/rest/uncRemDem/stly/v1/properties/"+c+"/stays",d=this.date,f=this.dataDate,g=this;this.loading=e([this._requestGet(b+"api/rest/uncRemDem/v1/properties/"+c+"/runs/latest/stays",{query:{startdate:d,datadate:f,enddate:d,embedded:"roompoolcollection.uisegment"}}),this._requestGet(a,{query:{startdate:d,datadate:f,enddate:d,embedded:"roompoolcollection1"}})]).then(function(a){var b,c;a[0].runs&&
(a[0].runs[0]&&a[0].runs[0].stays)&&(b=a[0].runs[0].stays[0].roompoolcollections);a[1].stays&&a[1].stays[0]&&(c=a[1].stays[0]);b||(b=[],console.warn("No dfs_rpc data for "+d+":",a));c||(c={},console.warn("No rpc/stly data for "+d+":",a));g._originalRoompoolValues={};g._roompoolValues={};g._roompoolIds=null;g._roompolNames={};g._originalSegmentValues={};g._segmentValues={};g._segmentIds=null;g._segmentNames={};g._dirtyRoompools={};g._dirtySegments={};g._redistributedFor=null;g._isDirty=!1;var e=g.demand=
[];b.forEach(function(a){a.segments.forEach(function(b){e.push({segId:b.id,rpcId:a.id,demand:b.demand,val:b.demand.appliedRemainingForecast})})});g.roompoolLastYear=c.roompoolcollections;g._originalSegmentTotal=g.getSegmentTotal();g._originalRoompoolTotal=g.getRoompoolTotal();g._originalRoompoolTotalPercent=g.getRoompoolTotalPercent();Object.keys(g._segmentValues).forEach(function(a){g._originalSegmentValues[a]=g._segmentValues[a]});Object.keys(g._roompoolValues).forEach(function(a){g._originalRoompoolValues[a]=
g._roompoolValues[a]});g.emit("load-complete",{})}).otherwise(function(a){g.emit("load-error",{detail:{error:a}});throw a;});this.loading.always(function(){g.loading=null});this.emit("load-start",{});return this.loading},needsRedistribution:function(){for(var c in this._dirtyRoompools)return!0;for(c in this._dirtySegments)return!0;return!1},redistribute:function(c){if(null!=c)this._redistributeForNewDemand(c);else{var b,a;for(a in this._dirtySegments){b="segments";break}if(!b)for(a in this._dirtyRoompools){b=
"roompools";break}if(!b)return;this._redistributedFor=b;"segments"===b?this._redistributeForChanged("Segment","Roompool","segId","rpcId"):this._redistributeForChanged("Roompool","Segment","rpcId","segId")}this._dirtyRoompools={};this._dirtySegments={};this.emit("load-complete",{detail:{reason:"redistribute"}})},revert:function(){this._dirtyRoompools={};this._dirtySegments={};this._redistributedFor=null;this._isDirty=!1;this.emit("load-complete",{})},setSegmentPercent:function(c,b){this._isDirty=!0;
this._setPercent(c,b,"segment",this._dirtySegments,this._originalSegmentTotal)},setSegmentValue:function(c,b){this._isDirty=!0;this._setValue(c,b,"segment",this._dirtySegments,this._originalSegmentTotal)},setRoompoolPercent:function(c,b){this._isDirty=!0;this._setPercent(c,b,"roompool",this._dirtyRoompools,this._originalRoompoolTotal)},setRoompoolValue:function(c,b){this._isDirty=!0;this._setValue(c,b,"roompool",this._dirtyRoompools,this._originalRoompoolTotal)},toJSON:function(){var c={},b="segments"===
this._redistributedFor?"segId":"rpcId",a="segments"===this._redistributedFor?this._segmentValues:this._roompoolValues,d={};this.demand.forEach(function(a){var c=a[b];d[c]=(d[c]||0)+a.val});this.demand.forEach(function(e){var f=e.val/d[e[b]],f=0==d[e[b]]?0:f*a[e[b]],g=e.rpcId;g in c||(c[g]=[]);c[g].push({rpcId:e.rpcId,segId:e.segId,val:f})});return Object.keys(c).map(function(a){return{id:a,segments:c[a].map(function(a){return{id:a.segId,appliedRemainingForecast:a.val}})}})},_getIds:function(c,b){if(!this.demand)return[];
var a="_"+c+"Ids";if(null==this[a]){var d=this[a]=[];this.demand.forEach(function(a){a=a[b];-1===d.indexOf(a)&&d.push(a)})}return this[a]},_getName:function(c,b){var a;if(c)for(var d=0;d<c.length;d++)if(a=c[d],a.id===b)return a.name},_getValue:function(c,b,a,d){if(a in b)return b[a];a in c||(c[a]=this.demand.reduce(function(b,c){c[d]===a&&(b+=c.val);return b},0));return c[a]},_propertyCodeGetter:function(){null==this.propertyCode&&(this.propertyCode=this.Config.get(this._contextName).propertyCode);
return this.propertyCode},_redistributeForNewDemand:function(c){function b(b,d,e,f,g){var h=c/d;f.forEach(function(d){a._setValue(d,g[d]*h,b,e,c)})}var a=this,d=this._originalSegmentValues,e=this._originalRoompoolValues,f=this.getSegmentTotal();this._roundTotal(c)!==f&&(f=Object.keys(d).reduce(function(a,b){return a+d[b]},0),b("segment",f,this._segmentValues,this.getSegmentIds(),this._originalSegmentValues),this._dirty=!0);f=this.getRoompoolTotal();this._roundTotal(c)!==f&&(f=Object.keys(e).reduce(function(a,
b){return a+e[b]},0),b("roompool",f,this._roompoolValues,this.getRoompoolIds(),this._originalRoompoolValues),this._dirty=!0);this._originalRoompoolTotal=this._originalSegmentTotal=c},_redistributeForChanged:function(c,b,a,d){var e=this,f=this["get"+c+"Ids"](),g=this["get"+c+"Value"].bind(this),k=c.toLowerCase(),l=this["_original"+c+"Values"],m=this["_original"+c+"Total"],p=this["_"+k+"Values"];Object.keys(l).forEach(function(a){p[a]=l[a]});var D=this["_dirty"+c+"s"];c=Object.keys(D).reduce(function(a,
b){p[b]=D[b];return a+D[b]},0);var A=Math.max(0,m-c);c=f.filter(function(a){return null==D[a]});var w=c.reduce(function(a,b){return a+g(b)},0);c.forEach(function(a){var b=g(a)/w*A;e._setValue(a,b,k,p,m)});var C=this.demand;c=this["get"+b+"Ids"]();var z=b.toLowerCase(),u=this["_original"+b+"Total"],G=this["_original"+b+"Values"],x=this["_"+z+"Values"];Object.keys(G).forEach(function(a){x[a]=G[a]});var B={};f.forEach(function(b){B[b]=C.reduce(function(c,d){d[a]===b&&(c+=d.val);return c},0)});c.forEach(function(b){var c=
C.reduce(function(c,e){if(e[d]===b){var f=e[a],k=e.val/B[f];c+=g(f)*k}return c},0);e._setValue(b,c,z,x,u)});this._dirty=!0},_roundTotal:function(c){return Number(c.toFixed(this.places))},_setPercent:function(c,b,a,d,e){d=d[c]=e*(b/100);this.emit(a+"-change",{detail:{id:c,value:d,percent:b}})},_setValue:function(c,b,a,d,e){if(0===b){var f=this["standard"+a[0].toUpperCase()+a.slice(1)];f&&String(f.id)===String(c)&&(b=0.001)}d[c]=b;this.emit(a+"-change",{detail:{id:c,value:b,percent:100*(b/e)}})},_marshaDateGetter:function(){return this.Config.get(this._contextName).marshaDatePlusOneObj},
_targetDateGetter:function(){null==this.targetDate&&(this.targetDate=this.Config.get(this._contextName).marshaDatePlusOneObj);return this.targetDate}})})},"forecast/views/SegmentChart":function(){define("common/widgets/ChartTheme common/widgets/_HandlesMixin ../widgets/DataGrid common/widgets/form/PercentInput common/util dijit/_WidgetBase dijit/form/HorizontalSlider dijit/registry dojo/aspect dojo/dom-construct dojo/i18n!common/nls/common dojo/number dojo/store/Observable dojo/store/Memory dojox/charting/Chart dojox/charting/StoreSeries dojox/charting/plot2d/Pie".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s){return d.createSubclass([m],{baseClass:"segment-chart",backgroundColor:null,places:0,percentPlaces:0,buildRendering:function(){this.inherited(arguments);var b=this.domNode;this.containerNode=b;var c=this._chartNode=a.create("div",{className:"chart"},b),d=this.chart=new r(c);d.setTheme(l);d.addPlot("center",{type:s,labels:!1,radius:55});d.addSeries("center",[1],{plot:"center"});d.addPlot("default",{type:s,labels:!1,startAngle:-90,radius:95});d.addPlot("ring",
{type:s,labels:!1,radius:96});d.addSeries("ring",[1],{plot:"ring"});d.addPlot("highlight",{type:s,labels:!1,startAngle:-90,radius:100});c=this._center=a.create("div",{className:"center"},c);this._percent=a.create("div",{className:"percent"},c);this._value=a.create("div",{className:"value"},c);var f=this,b=a.create("div",{className:"nudge"},b);(this._nudge=new e({minimum:0,maximum:100,discreteValues:101,slideDuration:0,onChange:function(a){this.disabled||f.selected&&f.model.setSegmentPercent(f.selected,
a,!1)}})).placeAt(b);this._nudgeLabel=a.create("label",null,b)},postCreate:function(){this.inherited(arguments);var a=this;this.own(b.after(this.chart,"render",function(){var b=this.stack;a._addPlotClasses(b[1],"main");a._addPlotClasses(b[3],"highlight");b[0].group.rawNode.setAttribute("class","invisible-plot");b[2].group.rawNode.setAttribute("class","invisible-plot")}))},startup:function(){if(!this._started){this.inherited(arguments);var a=this._chartNode;this.chart.resize(a.offsetWidth,a.offsetHeight)}},
_render:function(){if(!this._rendering){this._rendering=!0;var a=this;setTimeout(function(){a._rendering=!1;a.chart.render()})}},_setDisabledAttr:function(a){this._set("disabled",a);c.findWidgets(this.domNode).forEach(function(b){b.set("disabled",a)})},_addPlotClasses:function(a,b){a.group.rawNode.setAttribute("class",b+"-plot");var c=a.group.children.slice();a.dyn.forEach(function(a,b){a.stroke&&c.shift().rawNode.setAttribute("class","segment"+b)})},_setModelAttr:function(a){this._set("model",a);
this.removeHandles();0<a.getSegmentIds().length&&this._postLoad();var b=this;this.addHandle(a.on("load-start",function(){b._ignoreUpdates=!0}));this.addHandle(a.on("load-complete",function(){b._ignoreUpdates=!1;b._postLoad()}));this.addHandle(a.on("segment-change",function(a){var c=a.detail;a=c.id;if(a===b.selected){var d=c.percent||0,c=c.value||0;b.set("percent",d);b.set("value",c);b.set("nudge",d);d=b._store;a=d.get(a);a.value=c;d.put(a)}}))},_postLoad:function(){var a=this.model;this._total=a.getSegmentTotal();
var b=a.getSegmentIds().map(function(b){return{id:b,value:a.getSegmentValue(b)}}),b=this._store=new n(new v({data:b})),c=this.chart;c.addSeries("main",new t(b,{query:{}}));c.addSeries("highlight",new t(b,{query:{}}),{plot:"highlight"});this.set("selected",this.selected);this._render()},_setSelectedAttr:function(a){this.selected=a;if(null!=a){var b=this.model,c=b.getSegmentPercent(a);this.set("percent",c);this.set("value",b.getSegmentValue(a));this._nudgeLabel.textContent=b.getSegmentName(a);this.set("nudge",
c)}},_setValueAttr:function(a){this._value.textContent=q.format(a,{places:this.places})},_setPercentAttr:function(a){this._percent.textContent=q.format(a,{places:this.percentPlaces})},_setNudgeAttr:function(a){this._nudged||this._nudge.set("value",a,!1)}})})},"common/util":function(){define("exports dojo/date dojo/date/locale dojo/date/stamp dojo/Deferred dojo/i18n!common/nls/common dojo/keys dojo/on dojox/date/timezone".split(" "),function(l,m,g,k,f,d,e,c){var b=this;l.require=function(a){var c=
new f,d=b.require.toUrl(a),e;require.on&&(e=require.on("error",function(a){if("scriptError"===a.message&&a.info[0].slice(0,-3)===d){var b=Error("Couldn't load "+d+" from "+a.info[0]);b.info=a.info;c.reject(b)}}));b.require([a],function(a){e&&e.remove();c.resolve(a)});return c.promise};l.toISODate=function(a){return null==a?"":k.toISOString(a,{selector:"date"})};l.isWithinDateRange=function(a,b,c){function d(a){return"string"!==typeof a?l.toISODate(a):a}if(null==c)return!1;a=d(a);b=d(b);c=d(c);return c>=
a&&c<=b};l.formatTimestamp=function(a){if(null==a)return"";"string"===typeof a&&(a=k.fromISOString(a));var b=g.format(a,{selector:"date",datePattern:d.timestampDatePattern});a=g.format(a,{selector:"time",timePattern:d.timestampTimePattern}).toLowerCase();return b+" "+a};l.formatTimeSince=function(a,b){b=b||new Date;var c=(b-a)/6E4;if(1>c)return d.lessThanAMinute;var e,f=Math.floor(c)%60;e=f+" "+(1===f?d.minute:d.minutes)+"";c/=60;if(1>c)return e;f=Math.floor(c)%24;e=f+" "+(1===f?d.hour:d.hours)+", "+
e;c/=24;if(1>c)return e;f=Math.floor(c);return e=f+" "+(1===f?d.day:d.days)+", "+e};l.proxyGetter=function(a,b){return function(){return this[a].get(b||"value")}};l.proxySetter=function(a,b){return function(c){this[a].set(b||"value",c)}};l.createHandle=function(){var a=Array.prototype.slice.call(arguments,0),b={remove:function(){b.remove=function(){};a.forEach(function(a){a&&a.remove&&a.remove()});a=b=null}};return b};l.instanceGetter=function(a,b){return function(){var c=this[b];if(c&&"function"===
typeof c.then)return c;this[b]=l.require(a).then(function(a){return new a({})});return this[b]}};l.moduleGetter=function(a,b){return function(){var c=this[b];if(c&&"function"===typeof c.then)return c;this[b]=l.require(a).then(function(a){return a});return this[b]}};l.removeChildren=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};l.click=function(a,b){var d=c(a,"click",b),f=c(a,"keydown",function(a){(a.keyCode===e.ENTER||a.keyCode===e.SPACE)&&b.call(this,a)});return{remove:function(){this.remove=
function(){};d.remove();f.remove()}}};l.isEqual=function(a,b){return a===b||a!==a&&b!==b};l.bindValues=function(a,b,c,d,e){var f=a.get(b);c.set(d,e?e(f,a,c):f);return l.createHandle(a.watch(b,function(b,f,g){g=e?e(g,a,c,f):g;l.isEqual(g,c.get(d))||c.set(d,g)}),c.watch(d,function(d,f,g){g=e?e(g,a,c,f):g;l.isEqual(g,a.get(b))||a.set(b,g)}))};l.passthrough=function(a){return function(b){var c=a.call(this,b);if(b instanceof Error)throw b;return c||b}};l.find=function(a,b){if(a)for(var c=0;c<a.length;c++)if(b(a[c],
c))return a[c]};l.createComparator=function(a,b){return b?function(b,c){return b[a]<c[a]?1:b[a]>c[a]?-1:0}:function(b,c){return b[a]<c[a]?-1:b[a]>c[a]?1:0}};l.parseServerTimeStamp=function(a){if(!/\d\d:\d\d$/.test(a)){var b=k.fromISOString(a+"-05:00"),b=dojox.date.timezone.getTzInfo(b,"EST5EDT").tzOffset/60;a+="-0"+b+":00"}return k.fromISOString(a)}})},"forecast/views/RoompoolChart":function(){define("common/widgets/ChartTheme ../widgets/DataGrid common/widgets/_HandlesMixin common/widgets/form/PercentInput common/util dijit/_WidgetBase dijit/registry dojo/aspect dojo/dom-construct dojo/i18n!common/nls/common dojo/number dojo/store/Observable dojo/store/Memory dojox/charting/Chart dojox/charting/StoreSeries dojox/charting/axis2d/Invisible dojox/charting/plot2d/StackedBars".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s){return d.createSubclass([g],{baseClass:"roompool-chart",places:0,buildRendering:function(){this.inherited(arguments);var a=this.containerNode=this.domNode,a=this._chartNode=b.create("div",{className:"chart"},a),c=this.chart=new v(a,{margins:{l:0,r:0,t:0,b:0}});c.setTheme(l);c.addPlot("default",{type:s,gap:19});c.addAxis("x",{type:t,min:0});c.addAxis("y",{type:t,min:0});this._currentHeading=b.create("span",{className:"heading current"},a);this._lastYearHeading=
b.create("span",{className:"heading lastyear"},a);this._currentTotal=b.create("span",{className:"total current"},a);this._lastYearTotal=b.create("span",{className:"total lastyear"},a);this._currentHighlighters=b.create("div",{className:"highlight current"},a);this._lastYearHighlighters=b.create("div",{className:"highlight lastyear"},a)},postCreate:function(){this.inherited(arguments);var a=this;this.own(c.after(this.chart,"render",function(){a._postRender()}))},startup:function(){if(!this._started){this.inherited(arguments);
var a=this.domNode;this.chart.resize(a.offsetWidth,a.offsetHeight)}},_render:function(){this._renderTimer&&clearTimeout(this._renderTimer);var a=this;this._renderTimer=setTimeout(function(){a._renderTimer=null;a.chart.render()})},_postRender:function(){this._currentHighlighters.innerHTML="";this._lastYearHighlighters.innerHTML="";var a=this.chart.series;if(0!==a.length){a.slice(0,-1).forEach(function(a,b){a.group.rawNode.setAttribute("class","roompool"+b)});var c=a[a.length-1].group.rawNode;c.setAttribute("class",
"filler");var d=this.model.getRoompoolIds(),e=d.map(function(b,c){var d=a[c].group.rawNode.childNodes;return{lastYear:d[0],current:d[1]}}),f=this;["lastYear","current"].forEach(function(a,g){var h=c.childNodes[g],k=["x","y","width","height"].map(function(a){return Number(h.getAttribute(a))}),l=f["_"+a+"Highlighters"];["left","top","width","height"].forEach(function(a,b){l.style[a]=k[b]+"px"});var m=f["_"+a+"Heading"];m.style.top=k[1]-m.offsetHeight-3+"px";f["_"+a+"Total"].style.top="current"===a?
k[1]+k[3]+2+"px":k[1]-m.offsetHeight+"px";var n=0;d.forEach(function(c,d){var f=b.create("div",{className:c+" roompool"+d},l),g=Number(e[d][a].getAttribute("width"))-n;f.style.left=Math.round(n)+"px";f.style.width=Math.round(g)+"px";n+=g});var p=e[e.length-1][a].getAttribute("width"),m=parseFloat(getComputedStyle(m).width);"lastYear"===a&&p<m&&(p=m);f["_"+a+"Total"].style.left=p+"px"})}},_setModelAttr:function(a){this.removeHandles();this._set("model",a);var b=this;this.addHandle(a.on("load-start",
function(){b._ignoreUpdates=!0}));this.addHandle(a.on("load-complete",function(){b._ignoreUpdates=!1;b._postLoad()}));this.addHandle(a.on("roompool-change",function(a){a=a.detail;var c=b._store,d=c.get("current");d[a.id]=a.value;c.put(d);b._updateEndSpace()}));this._postLoad()},_postLoad:function(){var b=this.model,c=b.getRoompoolIds(),d={current:b.getRoompoolIds().map(function(a){return b.getRoompoolValue(a)}),lastYear:b.getRoompoolIds().map(function(a){return b.getRoompoolLastYearValue(a)})},e=
["lastYear","current"].map(function(a){var b={time:a};c.forEach(function(c,e){b[c]=d[a][e]});return b}),f=this._store=new q(new n({data:e,idProperty:"time"})),g=this.chart;Object.keys(g.runs).forEach(function(a){g.removeSeries(a)});0<c.length&&(this._updateEndSpace(),c.forEach(function(a){g.addSeries(a,new r(f,{query:{}},function(b){return b[a]}))}),g.addSeries("endSpace",new r(f,{query:{}},function(a){return a.endSpace})));this.set("currentTotal",b.getRoompoolTotal());this.set("lastYearTotal",b.getRoompoolLastYearTotal());
this._render();this._currentHeading.textContent=a.remainingDemand;this._lastYearHeading.textContent=a.stly},_setCurrentTotalAttr:function(a){this._currentTotal.textContent=this._format(a)},_setDisabledAttr:function(a){e.findWidgets(this.domNode).forEach(function(b){b.set("disabled",a)})},_setLastYearTotalAttr:function(a){this._lastYearTotal.textContent=this._format(a)},_format:function(a){return null==a?"":h.format(a,{places:this.places})},_updateEndSpace:function(){var a=this.model,b=this._store,
c={lastYear:a.getRoompoolLastYearTotal(),current:a.getRoompoolTotal()},d=1.2*Math.max(c.lastYear,c.current);["lastYear","current"].forEach(function(a){var e=b.get(a);e.endSpace=d-c[a];b.put(e)});this.set("currentTotal",c.current)}})})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(l){var m=function(f,d){return Math.abs(f-d)<=1E-6*(Math.abs(f)+Math.abs(d))},g=l.getObject("dojox.charting.scaler.common",!0),k={};return l.mixin(g,{doIfLoaded:function(f,d,e){if(void 0==
k[f])try{k[f]=require(f)}catch(c){k[f]=null}return k[f]?d(k[f]):e()},getNumericLabel:function(f,d,e){var c="";g.doIfLoaded("dojo/number",function(a){c=(e.fixed?a.format(f,{places:0>d?-d:0}):a.format(f))||""},function(){c=e.fixed?f.toFixed(0>d?-d:0):f.toString()});if(e.labelFunc){var b=e.labelFunc(c,f,d);if(b)return b}if(e.labels){for(var b=e.labels,a=0,h=b.length;a<h;){var k=Math.floor((a+h)/2);b[k].value<f?a=k+1:h=k}if(a<b.length&&m(b[a].value,f))return b[a].text;--a;if(0<=a&&a<b.length&&m(b[a].value,
f))return b[a].text;a+=2;if(a<b.length&&m(b[a].value,f))return b[a].text}return c}})})},"forecast/views/DemandGraph":function(){define("dojo/_base/lang dojo/date/locale dojo/date dojo/date/stamp dojo/dom-construct dojo/number dojo/on dojo/string dojo/when dojox/charting/StoreSeries dojox/charting/scaler/linear dojox/charting/axis2d/Default dojox/charting/plot2d/Indicator dojox/charting/plot2d/MarkersOnly dojox/charting/plot2d/Markers dojox/charting/plot2d/StackedColumns dojox/charting/plot2d/Columns dojo/i18n!common/nls/common common/widgets/_HandlesMixin common/widgets/DayGraph common/widgets/DayGraphTooltip common/util dojo/query".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p,D,A,w,C){function z(a){return l.getObject("current.appliedDemand.applied",!1,a)||0}var u=w.createSubclass([],{"class":"demand-tooltip",_fields:{total:["addlDemand","transBooked","appliedDemand","groupProj"],remaining:["appliedDemand","remDemLastYear"]},set:function(a,b){switch(a){case "addlDemand":this._addlDemand.textContent=d.format(b,{places:2});break;case "appliedDemand":this._appliedDemand.textContent=d.format(Math.round(b.applied));["optimized","not-optimized"].forEach(function(a){this._appliedDemand.classList.remove(a)},
this);b.isOptimized()?this._appliedDemand.classList.add("optimized"):b.isOverridden()&&this._appliedDemand.classList.add("not-optimized");break;case "groupProj":this._groupProj.textContent=d.format(Math.round(b));break;case "remDemLastYear":this._remDemLastYear.textContent=d.format(Math.round(b));break;case "transBooked":this._transBooked.textContent=d.format(Math.round(b));break;case "mode":this._items.classList.remove("total");this._items.classList.remove("remaining");this._items.classList.add(b);
break;default:this.inherited(arguments)}},renderBody:function(a){var b=this._items=f.create("div",{className:"demand-items"},a),c=this;["addlDemand","appliedDemand","transBooked","groupProj","remDemLastYear"].forEach(function(a){var d=f.create("div",{className:"demand-item "+a},b);f.place('\x3cspan class\x3d"label"\x3e'+("remDemLastYear"===a?p.stly:"appliedDemand"===a?p.remDem:"transBooked"===a?p.transientBooked:p[a])+"\x3c/span\x3e",d);c["_"+a]=f.create("span",{className:"value"},d)})},onEvent:function(a){var b=
a.index;a=this.graph.get("store");var b=this._targetDate=this.graph._indexToDate(b),c=a.get(k.toISOString(b,{selector:"date"}));if(c){this.set("mode",this.graph.mode);var d=this;this._fields[this.graph.mode].forEach(function(a){"remDemLastYear"===a?d.set(a,c.lastYear.remDem||0):d.set(a,c.current[a])});this.set("date",b)}}}),G=q.createSubclass([],{constructor:function(){this.vertical=!0;this.opt.includeZero=!0;this.opt.fixUpper="minor";this.opt.min=0;this.opt.majorTick={length:4};this.opt.minorTick=
{length:4};this.opt.minorLabels=!1},render:function(a,b){var c=this.ticks;if(c){var d=c.minor,c=c.major,e=h.getTransformerFromModel(this.scaler);b.t+=e(d[d.length-1].value)-e(c[c.length-1].value);d.splice(d.length-1,1)}this.inherited(arguments)}});return A.createSubclass([D],{mode:"total",buildRendering:function(){this.inherited(arguments);this.domNode.classList.add("demand-graph");var a=this.chart;a.addPlot("totalDemand",{type:s,gap:3});var b=this._tooltip=new u(a,"totalDemand",{},this);this.own(b);
a.addPlot("capacity",{type:n});a.addPlot("soldOut",{type:v,marker:"m -11,-2 22,0 0,4 -22,0 z"});a.addPlot("extremeDemand",{type:v,marker:"m -11,0 22,0 0,1 -22,0 z"});a.addPlot("extremeDemandStly",{type:v,marker:"m -3,0 6,0 0,1 -6,0 z"})},_getDefaultPlot:function(){return"total"===this.mode?"demand":"remainingDemand"},_configureYAxis:function(a){this.inherited(arguments);a.type=G;a.fixUpper="minor";var b;b="total"===this.mode?this.store.query({}).map(this._getTotalItemDemand):this.store.query({}).map(this._getMaxItemDemand);
b=b.reduce(function(a,b){return a+b},0)/b.length;var c=this.model.get("capacity")||0;b=Math.max(1.05*c,1.25*b);c=Math.pow(10,Math.floor(Math.log(b)/Math.log(10))-1);b=Math.ceil(b/c)*c;b=a.majorTickStep=10*Math.ceil(b/5/10);c=a.minorTickStep=b/2;a.max=5*b+c},_updateExtremeDemand:function(a,b){function c(a,b){var d=[],e,g;null==b&&(b=5);for(var l=0;l<f;l++)e=(a[l]-h)/h,g=l+1,0<e&&0<b&&d.push({x:g,y:h}),0.25<e&&1<b&&d.push({x:g,y:h+1*k}),0.75<e&&2<b&&d.push({x:g,y:h+2*k}),1.5<e&&3<b&&d.push({x:g,y:h+
3*k}),3<e&&4<b&&d.push({x:g,y:h+4*k});return d}var d=this.chart,e=d.axes.y,f=this.numberOfDays,g=e.opt.minorTickStep,h=e.opt.max-g,k=g/4;d.addSeries("extremeDemand",c(a),{plot:"extremeDemand"});b&&d.addSeries("extremeDemandStly",c(b),{plot:"extremeDemandStly"},1)},_updateFooter:function(){var a=this.model.get("status");if(a.lastUpdBy&&a.lastUpdTs){var b=C.parseServerTimeStamp(a.lastUpdTs);this._footer.textContent=c.substitute(p.lastRefreshed,[C.formatTimeSince(b),a.lastUpdBy])}},_updateOverlayPlot:function(a){this.chart.addSeries("totalDemand",
a,{plot:"totalDemand"})},_getTotalItemDemand:function(a){if(!a.current)return 0;var b=a.current;return b.groupProj+b.transBooked+b.addlDemand+z(a)},_getMaxItemDemand:function(a){return a.current?Math.max(z(a),a.lastYear.remDem||0):0},_plotTotalDemand:function(){function b(d,f,g,h){c[d](f,new a(e,{query:{}},g),h)}var c=this.chart,d=this.numberOfDays,e=this.store,f=this.model.get("capacity"),g=function(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}(d);["groupProj","transBooked"].forEach(function(a){for(var b,
c=0;c<d;c++)b=e.data[c],b.current&&(g[c]+=b.current[a])});for(var h=[],k=0;k<d;k++)g[k]>f&&h.push({x:k+1,y:f});var k="updateSeries",l=!0,m=!0;this._modeChanged&&(k="addSeries",l={plot:"demand"},m={plot:"soldOut"});b(k,"groupProj",function(a){return a.current?a.current.groupProj:0},l);b(k,"transBooked",function(a){return a.current?a.current.transBooked:0},l);b(k,"remDem",z,l);b(k,"addlDemand",function(a){return a.current?a.current.addlDemand:0},l);c[k]("soldOut",h,m);c.addPlot("capacity",{type:n,vertical:!1,
labels:!1,values:f});f=e.query({}).map(this._getTotalItemDemand);this._updateExtremeDemand(f);var p=c.axes.y.opt.max;this._updateOverlayPlot(f.map(function(a){return Math.min(a,p)}));return f},_plotRemainingDemand:function(){var b=this.chart,c=this.store,d="updateSeries",e=!0,f=!0;this._modeChanged&&(d="addSeries",e={plot:"remainingDemand"},f={plot:"remainingDemandStly"});var g=b.axes.y,h=g.opt.max-g.opt.minorTickStep;this._updateExtremeDemand(c.query({}).map(z),c.query({}).map(function(a){return a.lastYear?
a.lastYear.remDem||0:0}));b[d]("remDemLastYear",new a(c,{query:{}},function(a){return a.lastYear&&Math.min(a.lastYear.remDem||0,h)||0}),f);b[d]("remDem",new a(c,{query:{}},z),e);this._updateOverlayPlot(c.query({}).map(z))},_configurePlots:function(){var a=this.chart;this._modeChanged&&(this.removeGridLines(),"total"===this.mode?(a.removePlot("remainingDemand"),a.removePlot("remainingDemandStly"),a.removePlot("extremeDemandStly"),a.addPlot("demand",{type:t,gap:3})):(a.removePlot("demand"),a.addPlot("extremeDemandStly",
{type:v,marker:"m -3,0 6,0 0,1 -6,0 z"}),a.addPlot("remainingDemandStly",{type:r}),a.addPlot("remainingDemand",{type:s,gap:3})),this.addGridLines());"total"===this.mode?this._plotTotalDemand():this._plotRemainingDemand();this._modeChanged=!1},_setModeAttr:function(a){switch(a){case "total":this.legend.set("labels",[p.addlDemand,p.remDem,p.transientBooked,p.groupProj]);break;case "remaining":this.legend.set("labels",[p.remDem,p.stly])}this._set("mode",a);this._modeChanged=this._layoutMarkers=!0;this._render()},
_setModelAttr:function(a){this.removeHandles();this._set("model",a);var b=this;this.addHandle(a.on("load-complete",function(){b.set("data",a.get("dateDemandDataMap"));b._updateFooter()}));this.addHandle(a.watch("targetDate",function(a,c,d){b.set("targetDate",d)}));this.set("targetDate",a.get("targetDate"));this.set("data",a.get("dateDemandDataMap"))}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(l,m){return l("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},
onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var g=m._getTabNavigable(this.containerNode);this._firstFocusItem=g.lowest||g.first||this.closeButtonNode||this.domNode;this._lastFocusItem=g.last||g.highest||this._firstFocusItem}})})},"common/models/_ImplementMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/io-query"],function(l,m,g){return l(null,{implement:function(){var k={eid:this.Config.get(this._contextName).loginName},
k=this._requestPost(this._getImplementUrl(),{data:k}),f=this;return k.response?k.response.then(function(d){if(202!==d.status)throw Error("Error: status code is "+d.status);f.postImplement&&f.postImplement();d=d.getHeader("location");-1!==d.indexOf("?")?(d=d.slice(d.indexOf("?")+1),d=g.queryToObject(d),f.optRunId=d.optrunid):/\d+$/.test(d)?(d=d.split("/"),f.optRunId=d[d.length-1]):console.warn("Could not get run ID from location "+d)}):k},waitForImplement:function(g){function f(){l._requestGet(b.contextPath+
a,{query:{optrunid:c}}).then(function(a){"S"===a.status?e.resolve():"F"===a.status?e.reject(Error("Implement failed")):0<h?d():e.reject(Error("Implement did not complete"))})}function d(){h--;setTimeout(function(){f()},1E3*g)}var e=new m,c=this.optRunId,b=this.Config.get(this._contextName),a="api/rest/optStatus/v1/properties/"+b.propertyCode,h=3,l=this;c?d():e.reject(Error("optRunId has not been set"));return e.promise},_getImplementUrl:function(){return this.Config.get(this._contextName).contextPath+
"api/rest/implement"}})})},"forecast/views/Forecast":function(){define("dijit/_WidgetBase dijit/form/DropDownButton dijit/popup dojo/Deferred dojo/date dojo/date/stamp dojo/dom-construct dojo/aspect dojo/on dojo/promise/all dojo/string dojo/topic dojo/when dojo/_base/lang dojo/i18n!common/nls/common common/widgets/_HandlesMixin common/widgets/ImplementDialog common/widgets/form/Button common/widgets/form/RefreshButton common/widgets/form/DateSelector common/widgets/form/DropDownMenuButton common/widgets/form/ToggleButtonGroup ./ClearOverridesDialog ./DemandSegment ./DetailsTable ./DemandGraph common/models/Property common/models/WeekendIndicator widget/DatePicker widget/OverlayMixin common/util".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p,D,A,w,C,z,u,G,x,B,K,y,E,F){return l.createSubclass([t,E],{baseClass:"index forecast-view",targetDate:null,model:null,buildRendering:function(){this.inherited(arguments);var a=this.containerNode=this.domNode,b=this,c=this.topBar=e.create("div",{className:"top-bar"},a),d=e.create("span",{className:"accuracy",innerHTML:"OY System Forecast Accuracy: "},c);this._accuracy=e.create("span",{className:"value",innerHTML:"0%"},d);c=this.buttons=e.create("div",{className:"buttons"},
c);this.publishStatusNode=e.place('\x3cspan class\x3d"icon alert-button" tabindex\x3d"0"\x3e\x3c/span\x3e',c);this.settingsButton=new w({label:'\x3cspan class\x3d"icon settings-button"\x3e\x3c/span\x3e',hideChrome:!0,options:[{label:r.oneYieldExport,value:"export"}]});this.settingsButton.placeAt(c);c=e.create("div",{className:"title"},a);e.create("h1",{innerHTML:r.unconstrainedForecast},c);c=e.create("div",{className:"date-container"},a);e.place("\x3clabel\x3eView\x3c/label\x3e",c);(this._dateSelector=
new A).placeAt(c);(this._demandToggle=new C({singleSelect:!0,buttons:[{label:"Rem Dem and Total",name:"total",checked:!0},{label:"Rem Demand vs. STLY",name:"remaining"}],value:"total"})).placeAt(c);(this._demandGraph=new x({mode:"total"})).placeAt(a);(this._detailsTable=new G({controller:this})).placeAt(a);a=this.footerNode=e.create("div",{className:"footer"},a);this.buttonsNode=e.create("div",{className:"buttons"},a);this._refreshButton=new D({publishTo:"/forecast/confirm",needsConfirmation:function(){return b.isDirty()},
onConfirm:function(){b.refresh()}});this._refreshButton.placeAt(this.buttonsNode);this._clearButton=new p({label:r.clearOverrides,"class":"left",onClick:function(){b._showClearOverridesDialog()}});this._clearButton.placeAt(this.buttonsNode);this._clearOverridesDialog=new z;this.own(this._clearOverridesDialog);this._saveDraftButton=new p({label:r.saveDraft,disabled:!0,onClick:function(){b._saveDraft()}});this._saveDraftButton.placeAt(this.buttonsNode);this._implementButton=new p({label:r.implement,
disabled:!0,onClick:function(){b._implement()}});this._implementButton.placeAt(this.buttonsNode)},postCreate:function(){this.inherited(arguments);var a=this;this.own(this._dateSelector.watch("targetDate",function(b,c,d){var e=a._dateSelector;e._ignoreNext?e._ignoreNext=!1:a._confirmDemandSegmentChange().then(function(){a.model.set("targetDate",d);a.model.loading&&a.model.loading!==a._overlayPromise&&a.showOverlay(a.model.loading)},function(){e._ignoreNext=!0;e.set("targetDate",c)})}),this._demandToggle.watch("value",
function(b,c,d){a._demandGraph.set("mode",d)}),this._detailsTable.watch("highlightDate",function(b,c,e){a._demandSegmentPane&&a._demandSegmentPane.isOpen&&(a._detailsTable.isValidDateForDemandSegment(e)?(c=d.toISOString(e,{selector:"date"}),b=a.model.getDemandSegmentModel(c),c=a.model.getAppliedDemand(c),a._setDemandSegmentModel(b,c)):a._demandSegmentPane.hide())}),b(window,"beforeunload",function(b){if(a.isDirty())return b.returnValue=r.youHaveUnsavedChanges}));this.on("increment-date",function(b){a._confirmDemandSegmentChange().then(function(){a._dateSelector._ignoreNext=
!0;a.model.incrementTargetDate(b.detail.count)})});this.on("set-date",function(b){a._confirmDemandSegmentChange().then(function(){a.model.set("targetDate",b.detail.date)})});this.on("demand-arrow-clicked",function(b){a._toggleDemandSegment(b.detail.date)});this.on("select-detail-date",function(b){a._confirmDemandSegmentChange().then(function(){a._detailsTable.set("highlightDate",b.detail.date)})});this._clearOverridesDialog.on("clear-overrides",function(b){a._clearOverrides(b.detail.startDate,b.detail.endDate)});
this._clearOverridesDialog.on("overrides-change",function(b){a._onOverrideChanged(b)});this.on("overrides-change",function(b){a._onOverrideChanged(b);q.publish("/forecast/appliedRemDem",b.detail.appliedDemand)});this.settingsButton.on("menu-click",function(b){b=b.detail.value;switch(b){case "export":a.propertyModel.loaded().then(function(){a._download(a.model.getExportUrl(a.propertyModel.get("kDate")))});break;default:console.error('Unknown menu action "'+b+'"')}});this.own(q.subscribe("/managesupply/groupProjection/save",
function(){a.reload()}),q.subscribe("/managesupply/allotments/save",function(){a.reload()}),q.subscribe("/managesupply/refresh",function(){a.reload()}),q.subscribe("/managesupply/implement",function(){a.reload(!0)}))},isDirty:function(){return this.model.isDirty()||this._demandSegmentPane&&this._demandSegmentPane.model.needsRedistribution()},isValid:function(){return this._demandSegmentPane.isValid()},refresh:function(){var a=this;return this.showOverlay(this.model.refresh()).then(function(){var b=
a._demandSegmentPane;if(b){var c=b.model.get("date");b.set("model",a.model.getDemandSegmentModel(c))}q.publish("/forecast/refresh",{generatedRunId:a.model.get("generatedRunId")})}).otherwise(function(a){q.publish("/forecast/message","Error on refresh: "+a.message,!0,!0)})},reload:function(a){function b(){return c.showOverlay(c.model.reload()).then(function(){var a=c._demandSegmentPane;if(a){var b=a.model.get("date");a.set("model",c.model.getDemandSegmentModel(b))}d.resolve()}).otherwise(function(a){q.publish("/forecast/message",
"Error on reload: "+a.message,!0,!0);d.reject(a)})}var c=this,d=new k,e=a?r.confirmReloadForImplement:r.refreshConfirmation,f=a?r.discard:r["continue"],g=a?r.save:r.cancel;this.isDirty()?q.publish("/forecast/confirm",{title:r.refresh,message:e,confirmText:f,cancelText:g,onConfirm:b,onCancel:function(){a?c._saveDraft().always(function(){d.resolve()}):d.resolve()}}):b();return d.promise},_applyDemand:function(){try{var a=d.toISOString(this._detailsTable.get("highlightDate"),{selector:"date"}),b=this.model.getAppliedDemand(a);
this.model.getDemandSegmentModel(a).redistribute(b.get("value"));this._setDemandApplyButtonVisible(!1)}catch(c){console.error(c.stack||c),q.publish("/forecast/message","There was a problem applying the demand values",!0,!0)}},_clearOverrides:function(a,b){var c=this;b=b||a;return this.showOverlay(this.model.clearOverrides(a,b).then(function(){q.publish("/forecast/clearOverrides",{detail:{startDate:a,endDate:b}});c._detailsTable.refreshOverrides();var d=c._demandSegmentPane;if(d){var d=d.model.get("date"),
e=c.model.getAppliedDemand(d);if(!b||F.isWithinDateRange(a,b,d)&&!e.isLocked()){var f=c.model.getDemandSegmentModel(d),g=c.model.getAppliedDemand(d);return n(f.loading).then(function(){c._setDemandSegmentModel(f,g)})}}}).otherwise(function(a){console.error(a.stack||a);q.publish("/forecast/message","Error clearing overrides: "+a.message,!0,!0)}))},_onOverrideChanged:function(a){function b(){d.redistribute(c.get("value"))}var c=a.detail.appliedDemand;if(a.detail.cleared)this._clearOverrides(c.date);
else{var d=this.model.getDemandSegmentModel(c.date);this._detailsTable.refreshOverrides();d.loading?this.showOverlay(n(d.loading).then(b)):b()}this._demandGraph.render()},_isDemandApplyButtonVisible:function(){return!!this._demandApplyButton&&null!=this._demandApplyButton.parentNode},_setDemandApplyButtonVisible:function(a){if(a){var b=this;this._demandApplyButton||(this._demandApplyButton=e.create("div",{className:"apply-button-wrapper"}),a=e.create("div",{className:"apply-button"},this._demandApplyButton),
(new p({label:r.apply,onClick:function(){b._applyDemand()}})).placeAt(a));e.place(this._demandApplyButton,this._demandSegmentPane.domNode,"first");a=this._detailsTable.domNode.querySelector(".column.highlight");this._demandApplyButton.style.left=a.offsetLeft+"px";this._saveDraftButton.set("disabled",!0)}else this._demandApplyButton&&this._demandApplyButton.remove()},_implement:function(){if(!this._implementDialog){this._implementDialog=new s;this.own(this._implementDialog);var a=this;this._implementDialog.on("implement",
function(){a.model.save().then(function(){a.model.implement().then(function(){a.propertyModel.loaded().then(function(){var b=a.propertyModel.get("implementPoolInterval");return a.model.waitForImplement(b).then(function(){q.publish("/forecast/implement",{optRunId:a.model.get("optRunId")});a.emit("implement");a.reload(!0)})},function(a){console.error(a.stack||a);q.publish("/forecast/message",r.propertyServiceError,!0,!0)}).otherwise(function(a){console.error(a.stack||a);q.publish("/forecast/message",
r.implementIncompleteOrFailed,!0,!0)})}).otherwise(function(a){console.error(a.stack||a);q.publish("/forecast/message",r.implementNotSuccessful,!0,!0)})})});this._implementDialog.on("navigate-step",function(b){a.emit("navigate-step",b)})}this._implementDialog.set("date",F.toISODate(this.get("targetDate")));this._implementDialog.show()},_confirmDemandSegmentChange:function(){var a=new k;if(this._demandSegmentPane&&this._demandSegmentPane.isOpen){var b=this;this._demandSegmentPane.model.needsRedistribution()?
q.publish("/forecast/confirm",{title:r.discardChanges,message:r.youHaveValuesThatHaveNotBeenRedistributed,confirmText:r.discard,onConfirm:function(){b._demandSegmentPane.model.revert();a.resolve()},onCancel:function(){a.reject()}}):a.resolve()}else a.resolve();return a.promise},revert:function(){this.model.revert()},_download:function(a){var b=document.getElementById("ngic-forecast-export-frame");b||(b=e.create("iframe",{id:"ngic-forecast-export-frame",style:"display:none;"},this.domNode));b.src=
a},_showClearOverridesDialog:function(){this._clearOverridesDialog.reset();this._clearOverridesDialog.show()},_saveDraft:function(){var a=this;this._detailsTable.closeNotesDialog();return this.showOverlay(this.model.save().then(function(){a._saveDraftButton.set("disabled",!0);var b=a._demandSegmentPane;if(b&&b.isOpen){var c=b.get("model").get("date");b.set("model",a.model.getDemandSegmentModel(c))}},function(a){console.error(a.stack||a);q.publish("/forecast/message",r.saveError+": "+a.message,!0,
!0)}))},_setDemandSegmentModel:function(a,b){this._setDemandApplyButtonVisible(!1);this._demandSegmentPane.set("model",a);b&&null!=b.get("value")&&n(a.loading).then(function(){a.redistribute(b.get("value"))})},_updateSystemAccuracyPercent:function(){var a=this.model.get("dateDemandDataMap"),b=null;a&&(b=d.toISOString(this.model.get("targetDate"),{selector:"date"}),b=(a[b]||{}).systemAccuracy);this.set("accuracy",b)},_setModelAttr:function(a){this.removeHandles();this._set("model",a);this._detailsTable.set("model",
a);this._demandGraph.set("model",a);this._clearOverridesDialog.set("model",a);this.weekendIndicatorModel=new K;this.weekendIndicatorModel.load();this.propertyModel=new B;this.propertyModel.load();this._detailsTable.set("weekendIndicatorModel",this.weekendIndicatorModel);this._demandGraph.set("weekendIndicatorModel",this.weekendIndicatorModel);a.loading&&this.showOverlay(a.loading);var b=this;a&&(this.addHandle(a.watch(function(a,c,d){switch(a){case "targetDate":b._dateSelector.set("targetDate",d),
b._updateSystemAccuracyPercent()}})),this.addHandle(a.on("load-complete",function(){b._dateSelector.set({minDate:a.get("minDate"),maxDate:a.get("maxDate"),targetDate:a.get("targetDate")});var c=a.get("status");b._demandGraph.set("time",c.optLastUpdTs);b._demandGraph.set("user",c.optLastUpdBy);"C"===a.get("publishStatusComplete")&&b.publishStatusNode.classList.add("on");b._implementButton.set("disabled",!a.hasUpdatePrivilege());b._refreshButton.set("disabled",!a.hasUpdatePrivilege());b._clearButton.set("disabled",
!a.hasUpdatePrivilege());b._saveDraftButton.set("disabled",!a.hasUpdatePrivilege());b._updateSystemAccuracyPercent()})),this.addHandle(a.on("data-change",function(c){c=c.detail;if(c.demandSegment){var d=c.demandSegment,e=b._demandSegmentPane;e&&(e.isOpen&&d===e.get("model")&&d.needsRedistribution())&&b._setDemandApplyButtonVisible(!1)}!c.appliedDemand&&a.get("updateEnabled")&&b._saveDraftButton.set("disabled",!a.hasUpdatePrivilege())})),this.addHandle(a.on("error",function(a){a=a.detail.error;console.error(a.stack||
a);q.publish("/forecast/message",a.message,!0,!0)})))},_setAccuracyAttr:function(a){this._accuracy.textContent=null!=a?a+"%":"N/A";this._set("accuracy",a)},_getTargetDateAttr:F.proxyGetter("_dateSelector","targetDate"),_setTargetDateAttr:F.proxySetter("_dateSelector","targetDate"),_toggleDemandSegment:function(a){var b=this._demandSegmentPane,c=this;b||(b=this._demandSegmentPane=new u,this.model.hasUpdatePrivilege()||b.set("disabled",!0),b.placeAt(this.footerNode,"before"),b.on("cancel",function(){void 0!==
c._demandApplyButton&&c._applyDemand();b.hide();c.domNode.classList.remove("demand-segment-open")}),b.on("data-change",function(){c._saveDraftButton.set("disabled",!0)}),b.on("redistribution-complete",function(){c.model.hasUpdatePrivilege()&&c._saveDraftButton.set("disabled",!c.isValid())}));if(b.isOpen)this._confirmDemandSegmentChange().then(function(){if(c._isDemandApplyButtonVisible()){var a=b.get("model"),d=c.model.getAppliedDemand(a.get("date"));a.redistribute(d.get("value"))}b.hide()});else{var d=
this.model.getDemandSegmentModel(a);a=this.model.getAppliedDemand(a);b.show();this._setDemandSegmentModel(d,a);this.domNode.classList.add("demand-segment-open")}}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(l,m,g,k,f,d,e,c,b,a,h,q,n,v,r,t,s,p,D,A,w){var C=m("dijit.form._SliderMover",h,{onMouseMove:function(a){var b=this.widget,d=b._abspos;d||(d=b._abspos=f.position(b.sliderBarContainer,!0),b._setPixelValue_=c.hitch(b,"_setPixelValue"),b._isReversed_=b._isReversed());a=a[b._mousePixelCoord]-d[b._startingPixelCoord];b._setPixelValue_(b._isReversed_?d[b._pixelCount]-a:a,d[b._pixelCount],!1)},destroy:function(a){h.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});g=m("dijit.form.HorizontalSlider",[D,A],{templateString:w,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:r.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case e.HOME:this._setValueAttr(this.minimum,!1);break;case e.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?e.RIGHT_ARROW:e.LEFT_ARROW:case !1===this._descending?e.DOWN_ARROW:e.UP_ARROW:case !1===this._descending?e.PAGE_DOWN:
e.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?e.LEFT_ARROW:e.RIGHT_ARROW:case !1===this._descending?e.UP_ARROW:e.DOWN_ARROW:case !1===this._descending?e.PAGE_UP:e.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){!this.disabled&&!this.readOnly&&(b("ie")||t.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&
!this.readOnly&&this.clickSelect){t.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var b=f.position(this.sliderBarContainer,!0),c=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._setPixelValue(this._isReversed()?b[this._pixelCount]-c:c,b[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(1>=d||Infinity==d)d=b;d--;a=Math.round(a/(b/d));this._setValueAttr(Math.max(Math.min((this.maximum-
this.minimum)*a/d+this.minimum,this.maximum),this.minimum),c)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var c=(a-this.minimum)/(this.maximum-this.minimum),d=!1===this._descending?this.remainingBar:this.progressBar,e=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(b&&0<this.slideDuration&&d.style[this._progressPixelSize]){var f=
this,g={},h=parseFloat(d.style[this._progressPixelSize]),l=this.slideDuration*(c-h/100);0!=l&&(0>l&&(l=0-l),g[this._progressPixelSize]={start:h,end:100*c,units:"%"},this._inProgressAnim=k.animateProperty({node:d,duration:l,onAnimate:function(a){e.style[f._progressPixelSize]=100-parseFloat(a[f._progressPixelSize])+"%"},onEnd:function(){delete f._inProgressAnim},properties:g}),this._inProgressAnim.play())}else d.style[this._progressPixelSize]=100*c+"%",e.style[this._progressPixelSize]=100*(1-c)+"%"},
_bumpValue:function(a,b){if(!this.disabled&&!this.readOnly){var c=d.getComputedStyle(this.sliderBarContainer),e=f.getContentBox(this.sliderBarContainer,c),c=this.discreteValues;if(1>=c||Infinity==c)c=e[this._pixelCount];c--;e=(this.value-this.minimum)*c/(this.maximum-this.minimum)+a;0>e&&(e=0);e>c&&(e=c);e=e*(this.maximum-this.minimum)/c+this.minimum;this._setValueAttr(e,b)}},_onClkBumper:function(a){!this.disabled&&(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===
this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==e.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(l.forEach(this.getChildren(),function(a){this[a.container]!=
this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,c){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=q('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+
"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(s.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),s.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(v(this.domNode,n.wheel,c.hitch(this,"_mouseWheeled")));var b=m(C,{widget:this});this._movable=
new a(this.sliderHandle,{mover:b});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});g._Mover=C;return g})},"common/widgets/form/RefreshButton":function(){define(["dojo/i18n!common/nls/common","dojo/topic","./Button"],function(l,m,g){return g.createSubclass([],{"class":"left",label:l.refresh,needsConfirmation:function(){return!0},onClick:function(){if(this.needsConfirmation())m.publish(this.publishTo,
{title:l.refresh,message:l.refreshConfirmation,confirmText:l["continue"],onConfirm:this.onConfirm});else this.onConfirm()}})})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(l,m,g,k){return l("dijit.form._FormValueWidget",[g,k],{_layoutHackIE7:function(){if(7==m("ie"))for(var f=this.domNode,d=f.parentNode,e=f.firstChild||f,c=e.style.filter,b=this;d&&0==d.clientHeight;)(function(){var a=b.connect(d,"onscroll",function(){b.disconnect(a);
e.style.filter=(new Date).getMilliseconds();b.defer(function(){e.style.filter=c})})})(),d=d.parentNode}})})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"0"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"*now":function(l){l(['dojo/i18n!*preload*forecast/nls/main*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define(["dojo/date/stamp","dojo/io-query","core/Config","./models/Forecast","./views/Forecast"],function(l,m,g,k,f){return{startup:function(d){var e=g.get("forecastContext"),c=new k({targetDate:e.targetDate||e.marshaDate||e.marshaDatePlusOneObj}),e=location.search.slice(1),b=m.queryToObject(e);["minDate","maxDate"].forEach(function(a){var d=b[a];d&&(console.warn("Overriding value for "+a+" in forecast/main.js"),c.set(a,l.fromISOString(d)))});e=this.view=new f({model:c});e.placeAt(d,"replace");e.startup();
return e}}});
//# sourceMappingURL=main.js.mapO8n      \I}\I?\l   K    :https://salesnet.marriott.com/oysinvrecmd/forecast/script/forecast/main.js strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAgAAgAAAAAAAAAAAAAAAAAAAAEAMQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAdLMIIHRzCCBi+gAwIBAgIRALCpK2PnxQkfAAAAAFDnPccwDQYJKoZIhvcNAQELBQAwgboxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAxMiBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxLjAsBgNVBAMTJUVudHJ1c3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBMMUswHhcNMTgwOTA3MTMyNDE1WhcNMjAwOTA3MTM1NDE1WjB5MQswCQYDVQQGEwJVUzERMA8GA1UECBMITWFyeWxhbmQxETAPBgNVBAcTCEJldGhlc2RhMSQwIgYDVQQKExtNYXJyaW90dCBJbnRlcm5hdGlvbmFsIEluYy4xHjAcBgNVBAMTFXNhbGVzbmV0Lm1hcnJpb3R0LmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMMMHRXSGH+X/un6H2XrmLh7xsiE5+YxtQlX57S++2Hau/2MskB5cxPVvyLyROvjvD5cY8zyEi/P0Vxz2vpKTrKsq1l16Q5O+moMDTcGEuGJAQ8lImGZNh+YjzYBubjwsju5sKtYpJ2AurwercinfXf8oO8oBnWURGp+xQKYl9LbiD4FUmkr88E3afbunhF3LdhGMBNp1Zy4QvRWWA3A2QS+kl1zxE4EtKGqX89BQ3m1vw2As1y9NDBDt6jxEy+4onczYQS7VXNpjZUQA+Ytn8OATllq3SfbTgC+808XD9Cl/ISZ2awuiS3+xWGKw49raJBD3OaqVI7r8ZI35czz1F8CAwEAAaOCA4YwggOCMCAGA1UdEQQZMBeCFXNhbGVzbmV0Lm1hcnJpb3R0LmNvbTCCAfYGCisGAQQB1nkCBAIEggHmBIIB4gHgAHUAVYHUwhaQNgFK6gubVzxT8MDkOHhwJQgXL6OqHQcT0wwAAAFltE/YDQAABAMARjBEAiBOcGVWsTskdObBqzvJ27PHkecPRQt+A3qqNaCUKI+I6QIgCQd+Bc8k5aGMbFAWut6Fdd9/GGmyt39gaxl31/6Xjc8AdwCHdb/nWXz4jEOZX73zbv9WjUdWNv9KtWDBtOr/XqCDDwAAAWW0T9gKAAAEAwBIMEYCIQD+5taiLmGr8xP+fUnK7oivZwwNWNzLxK90UVuef/ZguwIhAM+yknjipxX6j/hpsN/C6d3d7KnUPbrsa8XezM5Ml23cAHYA3esdK3oNT6Ygi4GtgWhwfi6OnQHVXIiNPRHEzbbsvswAAAFltE/YFAAABAMARzBFAiEAzbsnOD0AWdJnYJ7Q7jJzbT+KrBfec4eP1u+sXNdg8qICICaeJAfNhqpdRdII/JtsKH0DphIg9FJEZ9cMTp25vLTYAHYAu9nfvB+KcbWTlCOXqpJ7RzhXlQqrUugakJZkNo4e0YUAAAFltE/X6wAABAMARzBFAiAlV8MKR90Ty2HBPGoQOU38L3MzjOrlavDKWX/ZHtrOPgIhAKlgWAA03f3bNu/dtaZcyYbUp+PP4ZdiD8ty5ObcQktdMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC5lbnRydXN0Lm5ldC9sZXZlbDFrLmNybDBLBgNVHSAERDBCMDYGCmCGSAGG+mwKAQUwKDAmBggrBgEFBQcCARYaaHR0cDovL3d3dy5lbnRydXN0Lm5ldC9ycGEwCAYGZ4EMAQICMGgGCCsGAQUFBwEBBFwwWjAjBggrBgEFBQcwAYYXaHR0cDovL29jc3AuZW50cnVzdC5uZXQwMwYIKwYBBQUHMAKGJ2h0dHA6Ly9haWEuZW50cnVzdC5uZXQvbDFrLWNoYWluMjU2LmNlcjAfBgNVHSMEGDAWgBSConB03bxTP8971PfNf6dgxgpMvzAdBgNVHQ4EFgQUy6ugN7FNCIXuHdw2qwJ6Rz3dFQ0wCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEA2Ja/Dc2s8LS250Hqn+QmAxz3fl6GNvDS9pLuVfEt18moKjBiM4F/OCrfJkPVldJA6eioI+ZN0iKCz/JrPlsLEzAIYI+JrGmgucyMXDiZHqVn1PpqOxQXCfp7C7ehEDfKz7Ja5wr/9gxN8HMENaTWt6kbdm9h+a5MGKDIRl4etuOlfOEVMNC7QV9q63WPMLxaKwZkPtvNJ0SBAMnidJdTwK0lYk2uo12M+TAwhphamw0zqRYCBDEnZ1RYFIDG2Xll/vBUS1OPvCjPFARbGJFLUez4/9fmqaQz1JiQjsBkY7AnK705ve48VkqaZZfc2RfjNuwJrQMBa6Q9bsrgDzixCwAvAAMAAAAAAQEAAAAAAAAEbm9uZQAAAARub25lAZWfsWVlF0h/q5vYkTvlMZeudM2lzS9HP5b18Lf/9ixoAAAAA2YKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAAB0swggdHMIIGL6ADAgECAhEAsKkrY+fFCR8AAAAAUOc9xzANBgkqhkiG9w0BAQsFADCBujELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDEyIEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEuMCwGA1UEAxMlRW50cnVzdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEwxSzAeFw0xODA5MDcxMzI0MTVaFw0yMDA5MDcxMzU0MTVaMHkxCzAJBgNVBAYTAlVTMREwDwYDVQQIEwhNYXJ5bGFuZDERMA8GA1UEBxMIQmV0aGVzZGExJDAiBgNVBAoTG01hcnJpb3R0IEludGVybmF0aW9uYWwgSW5jLjEeMBwGA1UEAxMVc2FsZXNuZXQubWFycmlvdHQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwwwdFdIYf5f+6fofZeuYuHvGyITn5jG1CVfntL77Ydq7/YyyQHlzE9W/IvJE6+O8PlxjzPISL8/RXHPa+kpOsqyrWXXpDk76agwNNwYS4YkBDyUiYZk2H5iPNgG5uPCyO7mwq1iknYC6vB6tyKd9d/yg7ygGdZREan7FApiX0tuIPgVSaSvzwTdp9u6eEXct2EYwE2nVnLhC9FZYDcDZBL6SXXPETgS0oapfz0FDebW/DYCzXL00MEO3qPETL7iidzNhBLtVc2mNlRAD5i2fw4BOWWrdJ9tOAL7zTxcP0KX8hJnZrC6JLf7FYYrDj2tokEPc5qpUjuvxkjflzPPUXwIDAQABo4IDhjCCA4IwIAYDVR0RBBkwF4IVc2FsZXNuZXQubWFycmlvdHQuY29tMIIB9gYKKwYBBAHWeQIEAgSCAeYEggHiAeAAdQBVgdTCFpA2AUrqC5tXPFPwwOQ4eHAlCBcvo6odBxPTDAAAAWW0T9gNAAAEAwBGMEQCIE5wZVaxOyR05sGrO8nbs8eR5w9FC34Deqo1oJQoj4jpAiAJB34FzyTloYxsUBa63oV1338YabK3f2BrGXfX/peNzwB3AId1v+dZfPiMQ5lfvfNu/1aNR1Y2/0q1YMG06v9eoIMPAAABZbRP2AoAAAQDAEgwRgIhAP7m1qIuYavzE/59ScruiK9nDA1Y3MvEr3RRW55/9mC7AiEAz7KSeOKnFfqP+Gmw38Lp3d3sqdQ9uuxrxd7MzkyXbdwAdgDd6x0reg1PpiCLga2BaHB+Lo6dAdVciI09EcTNtuy+zAAAAWW0T9gUAAAEAwBHMEUCIQDNuyc4PQBZ0mdgntDuMnNtP4qsF95zh4/W76xc12DyogIgJp4kB82Gql1F0gj8m2wofQOmEiD0UkRn1wxOnbm8tNgAdgC72d+8H4pxtZOUI5eqkntHOFeVCqtS6BqQlmQ2jh7RhQAAAWW0T9frAAAEAwBHMEUCICVXwwpH3RPLYcE8ahA5TfwvczOM6uVq8MpZf9ke2s4+AiEAqWBYADTd/ds27921plzJhtSn48/hl2IPy3Lk5txCS10wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAzBgNVHR8ELDAqMCigJqAkhiJodHRwOi8vY3JsLmVudHJ1c3QubmV0L2xldmVsMWsuY3JsMEsGA1UdIAREMEIwNgYKYIZIAYb6bAoBBTAoMCYGCCsGAQUFBwIBFhpodHRwOi8vd3d3LmVudHJ1c3QubmV0L3JwYTAIBgZngQwBAgIwaAYIKwYBBQUHAQEEXDBaMCMGCCsGAQUFBzABhhdodHRwOi8vb2NzcC5lbnRydXN0Lm5ldDAzBggrBgEFBQcwAoYnaHR0cDovL2FpYS5lbnRydXN0Lm5ldC9sMWstY2hhaW4yNTYuY2VyMB8GA1UdIwQYMBaAFIKicHTdvFM/z3vU981/p2DGCky/MB0GA1UdDgQWBBTLq6A3sU0Ihe4d3DarAnpHPd0VDTAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDYlr8NzazwtLbnQeqf5CYDHPd+XoY28NL2ku5V8S3XyagqMGIzgX84Kt8mQ9WV0kDp6Kgj5k3SIoLP8ms+WwsTMAhgj4msaaC5zIxcOJkepWfU+mo7FBcJ+nsLt6EQN8rPslrnCv/2DE3wcwQ1pNa3qRt2b2H5rkwYoMhGXh6246V84RUw0LtBX2rrdY8wvForBmQ+280nRIEAyeJ0l1PArSViTa6jXYz5MDCGmFqbDTOpFgIEMSdnVFgUgMbZeWX+8FRLU4+8KM8UBFsYkUtR7Pj/1+appDPUmJCOwGRjsCcrvTm97jxWSppll9zZF+M27AmtAwFrpD1uyuAPOLELZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAFEjCCBQ4wggP2oAMCAQICDA7pTMMAAAAAUdN3hTANBgkqhkiG9w0BAQsFADCBvjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDA5IEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEyMDAGA1UEAxMpRW50cnVzdCBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IC0gRzIwHhcNMTUxMDA1MTkxMzU2WhcNMzAxMjA1MTk0MzU2WjCBujELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDEyIEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEuMCwGA1UEAxMlRW50cnVzdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEwxSzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANo/ltBNuS9E59s5XptQ7lylYdpBZ1MJqgCajld/KWvbx+EhJKo60I1HI9LtchbwkSHSXbe4S6iDj7eRMmjPziWTLLJ9l8j+wbQXugmeA5CTe3xJgyJoipveR8MxmHoufUAL0u8+07KMqo9Iqf8A6ClYBve2k1qUcyYmrVgO5UK41epzeWRoUyW4hM+Ueq4GRQyja03Qxr7qGKQ28JKyuhyIjzpSf/debYMcnfAf5cPW3aV4kj2wbSzqyc+UQRlxRGi6RzwE6V26PvA19xW2nvIuFR4/R8jIOKdzRV1NsDuxjhcpN+rdBQEiu5Q2Ko1bNf5TGS8IRsEqsxpiHU4r2RsCAwEAAaOCAQwwggEIMA4GA1UdDwEB/wQEAwIBBjASBgNVHRMBAf8ECDAGAQH/AgEAMDMGCCsGAQUFBwEBBCcwJTAjBggrBgEFBQcwAYYXaHR0cDovL29jc3AuZW50cnVzdC5uZXQwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL2NybC5lbnRydXN0Lm5ldC9nMmNhLmNybDA7BgNVHSAENDAyMDAGBFUdIAAwKDAmBggrBgEFBQcCARYaaHR0cDovL3d3dy5lbnRydXN0Lm5ldC9ycGEwHQYDVR0OBBYEFIKicHTdvFM/z3vU981/p2DGCky/MB8GA1UdIwQYMBaAFGpyJnrQHu995ztpUdRsjZ+QEmarMA0GCSqGSIb3DQEBCwUAA4IBAQA51Y6Yg2HILGPTcB0ZMMv2CazMadXJ3DdB8jIP73TDWPZ4Jwk0CJWSL9ffuKP9DoHppJzTP01oKxUxChXMUgST6JNQw9mx4uFotzoJdPE0WAo/d5hAuOZo/13kyEbF7IHXyYIYXIPOcdi8v6yZApPblJiE0pymtf5cu/BKryGswj9JJGfWLo7PrMxkFRhy5Wx301Koud2NrABKNRnUb3Ojde9rZMPgjYMSoYrnDoZN2LQgG75qpYxLaGbjK8dYC/tWENSR+x3TMVgQjETjdXsQnbU4sfaqyoFkbOjy4oFVl1F/4cInUKLJPFsAQ/ZbudWl/P8HUEBnB7BV8Ld+bi3MZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEQjCCBD4wggMmoAMCAQICBEpTjCgwDQYJKoZIhvcNAQELBQAwgb4xCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAwOSBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxMjAwBgNVBAMTKUVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMB4XDTA5MDcwNzE3MjU1NFoXDTMwMTIwNzE3NTU1NFowgb4xCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAwOSBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxMjAwBgNVBAMTKUVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuoS2ctueDGvimekwAad26jK4lUEaydphTlhyz/72gnm/c2EGCqUn2LNf00VOHHLWTjLycooP94MZ0GqAgABFHrDH55q/ElcnHKNoLwqHvWprDl5l8xx31dSFjXAhtLMy54ui1YY5ArG40kfO5MlJxDun3vtUfVe+8OhuwnmyOgtV4lCYFjITXC94VsHClLPyWuQnmp8k18bs0JslguPMwsRFxYyXegZrKhGfqQpuSDtv29QRGUL3jwe/9VNfnD70FyzmaaxOMkxid+q36OW7NLwZi66cUee3frVTsTMi5W3PcDwa+uKbZ7aD9I2lr2JMTeBYrGQ0EgP4to2UYySkcQIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUanImetAe733nO2lR1GyNn5ASZqswDQYJKoZIhvcNAQELBQADggEBAHmfHZbGtnk/Io2H04cDBGBqa5ouWYlzEaxD0fUT/405K8DyvU9wjKkv6hfEC1Se1BuWmDM8qK1iogB2q1lpbgYdfsS5RI2YrxLUYdsKGUZH8+v3Y8FABUCl0rf0tZo2v6mIdogEVQQrnId/Gjc8fi2lGtjUiV7Kvaw9bNhtr9Xzdg/NO4g4Ip1sk5rEPb+CG2U/pg9dqvzlshXKta3GvD3QhOjqBnKwTTkyeL8+EZwLpJ2aIfPwmwsweNvB3IdD/rxjmsrFwhzJx43/OxJYCOa2Pex6LE77g5bODDxph1RzpHPCk/9REKwVVAHY/AWxiaF/dIOaSdfcTnuKSG+LRfYA request-method GET response-head HTTP/1.1 200 OK
content-language: en-US
content-length: 490730
content-type: application/javascript
date: Wed, 05 Dec 2018 21:56:11 GMT
last-modified: Thu, 27 Sep 2018 14:24:34 GMT
p3p: CP="NON CUR OTPi OUR NOR UNI"
x-powered-by: Servlet/3.0
 original-response-headers content-language: en-US
content-length: 490730
content-type: application/javascript
date: Wed, 05 Dec 2018 21:56:11 GMT
last-modified: Thu, 27 Sep 2018 14:24:34 GMT
p3p: CP="NON CUR OTPi OUR NOR UNI"
x-powered-by: Servlet/3.0
Set-Cookie: PD-S-SESSION-ID=1_2_1_IRNAryPZb7gtgJM59kHonp40mlK0iuhwK7LoZbD7yRnrSr5R; Path=/; Secure
Set-Cookie: PD-ID=F1jIIXjicmb3NrUGHjNf3fFZvA4XqOfQUhTV32v5Jv5VR1m0R68TSxugsxjIeGscrN/MOZnGfBv0tSZAYTbv9jYv9OkXB5wmYhmJyu3HWfxOsljHiVifhm0uF8dc+UZRei3rcsXPaD18M2v3mNkxiE8pjlZY2/rEdm2LJWe6gbMHqtCpSLI/4v/AmZlkAOlobUMIP1CP1dLp948A/lgW5hEgelS3O4yjzxZ6UnsTqw86RqMZpEoJE/zxarqT73o9BKn/knWTZjq73UdO8LrWg1H3rVYj+kRFiXYsX1xchf7HZ0WkXecklxAW5aguPZQIDEKvDkEDvc6Ot6Hhc8d03g==; Domain=.marriott.com; Path=/; Secure
 uncompressed-len 0 net-response-time-onstart 111 net-response-time-onstop 1378  |