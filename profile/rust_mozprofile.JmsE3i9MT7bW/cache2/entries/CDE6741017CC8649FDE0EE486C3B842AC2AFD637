//>>built
require({cache:{"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(_1,_2,_3,_4,_5,_6,_7,_8){_1.byId=_2.byId;_1.isDescendant=_2.isDescendant;_1.setSelectable=_2.setSelectable;_1.getAttr=_4.get;_1.setAttr=_4.set;_1.hasAttr=_4.has;_1.removeAttr=_4.remove;_1.getNodeProp=_4.getNodeProp;_1.attr=function(_9,_a,_b){if(arguments.length==2){return _4[typeof _a=="string"?"get":"set"](_9,_a);}return _4.set(_9,_a,_b);};_1.hasClass=_6.contains;_1.addClass=_6.add;_1.removeClass=_6.remove;_1.toggleClass=_6.toggle;_1.replaceClass=_6.replace;_1._toDom=_1.toDom=_7.toDom;_1.place=_7.place;_1.create=_7.create;_1.empty=function(_c){_7.empty(_c);};_1._destroyElement=_1.destroy=function(_d){_7.destroy(_d);};_1._getPadExtents=_1.getPadExtents=_8.getPadExtents;_1._getBorderExtents=_1.getBorderExtents=_8.getBorderExtents;_1._getPadBorderExtents=_1.getPadBorderExtents=_8.getPadBorderExtents;_1._getMarginExtents=_1.getMarginExtents=_8.getMarginExtents;_1._getMarginSize=_1.getMarginSize=_8.getMarginSize;_1._getMarginBox=_1.getMarginBox=_8.getMarginBox;_1.setMarginBox=_8.setMarginBox;_1._getContentBox=_1.getContentBox=_8.getContentBox;_1.setContentSize=_8.setContentSize;_1._isBodyLtr=_1.isBodyLtr=_8.isBodyLtr;_1._docScroll=_1.docScroll=_8.docScroll;_1._getIeDocumentElementOffset=_1.getIeDocumentElementOffset=_8.getIeDocumentElementOffset;_1._fixIeBiDiScrollLeft=_1.fixIeBiDiScrollLeft=_8.fixIeBiDiScrollLeft;_1.position=_8.position;_1.marginBox=function marginBox(_e,_f){return _f?_8.setMarginBox(_e,_f):_8.getMarginBox(_e);};_1.contentBox=function contentBox(_10,box){return box?_8.setContentSize(_10,box):_8.getContentBox(_10);};_1.coords=function(_11,_12){_1.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");_11=_2.byId(_11);var s=_3.getComputedStyle(_11),mb=_8.getMarginBox(_11,s);var abs=_8.position(_11,_12);mb.x=abs.x;mb.y=abs.y;return mb;};_1.getProp=_5.get;_1.setProp=_5.set;_1.prop=function(_13,_14,_15){if(arguments.length==2){return _5[typeof _14=="string"?"get":"set"](_13,_14);}return _5.set(_13,_14,_15);};_1.getStyle=_3.get;_1.setStyle=_3.set;_1.getComputedStyle=_3.getComputedStyle;_1.__toPixelValue=_1.toPixelValue=_3.toPixelValue;_1.style=function(_16,_17,_18){switch(arguments.length){case 1:return _3.get(_16);case 2:return _3[typeof _17=="string"?"get":"set"](_16,_17);}return _3.set(_16,_17,_18);};return _1;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_19,_1a,_1b,has,_1c){var _1d=_1c.doc.documentElement,ie=has("ie"),_1e=has("opera"),maj=Math.floor,ff=has("ff"),_1f=_19.boxModel.replace(/-/,""),_20={"dj_quirks":has("quirks"),"dj_opera":_1e,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_20["dj_ie"]=true;_20["dj_ie"+maj(ie)]=true;_20["dj_iequirks"]=has("quirks");}if(ff){_20["dj_ff"+maj(ff)]=true;}_20["dj_"+_1f]=true;var _21="";for(var clz in _20){if(_20[clz]){_21+=clz+" ";}}_1d.className=_1a.trim(_1d.className+" "+_21);_1b(function(){if(!_19.isBodyLtr()){var _22="dj_rtl dijitRtl "+_21.replace(/ /g,"-rtl ");_1d.className=_1a.trim(_1d.className+" "+_22+"dj_rtl dijitRtl "+_21.replace(/ /g,"-rtl "));}});return has;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(_23,_24,has,_25){var _26;if(1){_26=function(url,_27,_28){_25(url,{sync:!!_27,headers:{"X-Requested-With":null}}).then(_28);};}else{if(_24.getText){_26=_24.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _29={},_2a=function(_2b){if(_2b){_2b=_2b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _2c=_2b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_2c){_2b=_2c[1];}}else{_2b="";}return _2b;},_2d={},_2e={};_23.cache=function(_2f,url,_30){var key;if(typeof _2f=="string"){if(/\//.test(_2f)){key=_2f;_30=url;}else{key=_24.toUrl(_2f.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_2f+"";_30=url;}var val=(_30!=undefined&&typeof _30!="string")?_30.value:_30,_31=_30&&_30.sanitize;if(typeof val=="string"){_29[key]=val;return _31?_2a(val):val;}else{if(val===null){delete _29[key];return null;}else{if(!(key in _29)){_26(key,true,function(_32){_29[key]=_32;});}return _31?_2a(_29[key]):_29[key];}}};return {dynamic:true,normalize:function(id,_33){var _34=id.split("!"),url=_34[0];return (/^\./.test(url)?_33(url):url)+(_34[1]?"!"+_34[1]:"");},load:function(id,_35,_36){var _37=id.split("!"),_38=_37.length>1,_39=_37[0],url=_35.toUrl(_37[0]),_3a="url:"+url,_3b=_2d,_3c=function(_3d){_36(_38?_2a(_3d):_3d);};if(_39 in _29){_3b=_29[_39];}else{if(_35.cache&&_3a in _35.cache){_3b=_35.cache[_3a];}else{if(url in _29){_3b=_29[url];}}}if(_3b===_2d){if(_2e[url]){_2e[url].push(_3c);}else{var _3e=_2e[url]=[_3c];_26(url,!_35.async,function(_3f){_29[_39]=_29[url]=_3f;for(var i=0;i<_3e.length;){_3e[i++](_3f);}delete _2e[url];});}}else{_3c(_3b);}}};});},"advisor/widgets/MultiAlertPane":function(){define(["dijit/_WidgetBase","dijit/registry","dojo/dom-construct","dojo/i18n!../nls/common","dojo/on","dojo/topic","dojo/promise/all","./AlertPane","dojo/query"],function(_40,_41,_42,_43,on,_44,all,_45){function _46(_47){return function(_48){this._set(_47,_48);var _49=_41.findWidgets(this.containerNode);_49.forEach(function(_4a){_4a.set(_47,_48);});};};return _40.createSubclass([],{baseClass:"multi-alert-pane",buildRendering:function(){this.inherited(arguments);this.headerNode=_42.create("div",{className:"alert-pane-heading"},this.domNode);this.activeAlertsNode=_42.create("div",{className:"alert-pane-active-alert hidden"},this.headerNode);_42.create("span",{className:"icon alert"},this.activeAlertsNode);_42.create("span",{className:"active-alert-button",innerHTML:"Active Alerts"},this.activeAlertsNode);this.containerNode=_42.create("div",{},this.domNode);},postCreate:function(){this.inherited(arguments);var _4b=this;this.on(".alert-pane-heading .alert-pane-title:click",function(){var _4c=this.getAttribute("data-app-name");_4b.set("selectedPane",_4c);});},load:function(){return all(_41.findWidgets(this.containerNode).map(function(_4d){return _4d.load();}));},_setActiveAlertsModelAttr:function(_4e){this._set("activeAlertsModel",_4e);var _4f=this;_4e.on("load-complete",function(){var _50=_4f.appId.some(function(_51){return _4e.hasAlerts(_51);});_4f.set("activeAlertStatus",_50);});},_setActiveAlertStatusAttr:function(_52){this.activeAlertsNode.classList[_52?"remove":"add"]("hidden");},_setAppNameAttr:function(_53){this._set("appName",_53);this.domNode.setAttribute("data-app-name",_53);},_getPane:function(_54){var _55=this.containerNode.querySelector(".alert-pane[data-app-name=\""+_54+"\"]");if(_55){return _41.byNode(_55);}},_setPriorityDateItemAttr:function(_56){this.set("selectedPane",_56.appName);this.set("selectedDate",_56.date);var _57=this.get("selectedPane");_57.set("priorityDateItem",_56);},_getSelectedPaneAttr:function(){var id=this.domNode.getAttribute("data-selected-id")||"0";var _58=this.containerNode.querySelector(".alert-pane[data-pane-id=\""+id+"\"]");var _59=_58.getAttribute("data-app-name");return this._getPane(_59);},_setSelectedPaneAttr:function(_5a){var _5b=this.get("selectedPane");var _5c;if(_5b){_5c=_5b.subtitleNode;if(_5c&&_5c.parentNode){_5c.parentNode.removeChild(_5c);}}_5b=this._getPane(_5a);_5c=_5b.subtitleNode;if(_5c){this.headerNode.insertBefore(_5c,this.activeAlertsNode);}var id=_5b.domNode.getAttribute("data-pane-id");this.domNode.setAttribute("data-selected-id",id);var _5d=this.get("selectedPane").get("selectedDate");this._set("selectedDate",_5d);this._set("selectedPane",_5b);},_getSelectedAppAttr:function(){return this.get("selectedPane").get("appName");},_setSelectedDateAttr:function(_5e){this._set("selectedDate",_5e);this.get("selectedPane").set("selectedDate",_5e);},_setModulesAttr:function(_5f){this._set("modules",_5f);if(!_5f){return;}var _60=this;_5f.forEach(function(_61,_62){var _63=new _45({appName:_61.name,alertActionsModel:_60.alertActionsModel,uiOrderModel:_60.uiOrderModel,priorityDatesModel:_60.priorityDatesModel,watchDatesModel:_60.watchDatesModel,weekendIndicatorModel:_60.weekendIndicatorModel,propertyCode:_60.propertyCode,loginName:_60.loginName,contextPath:_61.contextPath,dataDate:_60.dataDate,marshaDate:_60.marshaDate,module:_61,updatePrivilege:_60.updatePrivilege});_63.watch("selectedDate",function(_64,_65,_66){_60._set("selectedDate",_66);});var _67=_63.titleNode;_67.setAttribute("data-pane-id",String(_62));_67.setAttribute("data-app-name",_61.name);_60.headerNode.insertBefore(_67,_60.activeAlertsNode);_63.domNode.setAttribute("data-pane-id",String(_62));_63.placeAt(_60.containerNode);_63.startup();});this.set("selectedPane",_5f[0].name);this.set("appId",_5f.map(function(_68){return _68.step;}));},_setActionStoreAttr:_46("actionStore"),_setModulePropertiesAttr:_46("moduleProperties"),_setWeekendIndicatorModelAttr:_46("weekendIndicatorModel"),_setPriorityDatesStoreAttr:_46("priorityDatesStore"),_setWatchDatesStoreAttr:_46("watchDatesStore"),_setPropertyCodeAttr:_46("propertyCode"),_setLoginNameAttr:_46("loginName")});});},"advisor/widgets/PriorityAndWatchDates":function(){define(["dijit/_WidgetBase","dijit/form/CheckBox","dojo/dom-construct","dojo/date/locale","dojo/date/stamp","dojo/i18n!../nls/common","dojo/on","dojo/when","widget/OverlayMixin","../util","dojo/query"],function(_69,_6a,_6b,_6c,_6d,_6e,on,_6f,_70,_71){var _72=_69.createSubclass([],{baseClass:"simple-list",constructor:function(){this.queryOptions={sort:[{attribute:"date"}]};},buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;},row:function(_73){var _74=_73;if(_73.target&&_73.target.nodeType){_74=_73.target;}while(_74&&_74!==this.domNode&&!_74.classList.contains("row")){_74=_74.parentElement;}if(_74&&_74.classList.contains("row")){return {element:_74,data:this.store.get(_74.getAttribute("data-id"))};}},_renderRow:function(_75,row){this.columns.forEach(function(_76){var _77=_6b.create("td",{className:"cell field-"+_76.field},row);this._renderCell(_76,_75,_77);},this);},_renderCell:function(_78,_79,_7a){var _7b=_78.get?_78.get(_79):_79[_78.field||_78];if(_78.renderCell){_78.renderCell(_79,_7b,_7a);}else{if(_7b){_6b.create("div",{innerHTML:_7b},_7a);}}},_render:function(){function _7c(_7d){var _7e=_7f.domNode;_7e.innerHTML="";if(_7d&&_7d.length){_7e.classList.remove("no-data");var _80=_6b.create("table",{className:"content"},_7e);_7f._table=_6b.create("tbody",{},_80);_7d.forEach(function(_81){var row=_6b.create("tr",{className:"row"+(_81.date===_7f.selectedDate?" selected":""),"data-id":_7f.store.getIdentity(_81)},_7f._table);_7f._renderRow(_81,row);});}else{_7e.classList.add("no-data");_6b.create("div",{className:"no-data",innerHTML:_7f.noDataText||_6e.noHighPriorityDates},_7e);}};var _7f=this;if(this._observer){this._observer.remove();this._observer=null;}var _82=this.get("store");if(_82){var _83=_82.query(this.query,this.queryOptions);_6f(_83).then(function(_84){_7c(_84);});if(_83.observe){this._observer=_83.observe(function(_85,_86,to){if(_86===-1){_7f.emit("date-added",{detail:{data:_85}});}else{if(to===-1){_7f.emit("date-removed",{detail:{data:_85}});}}_6f(_83).then(function(_87){_7c(_87);});},true);}}else{_7c(null);}},_setQueryAttr:function(_88){this._set("query",_88);this._render();},_setSortAttr:function(_89){this.queryOptions.sort=_89||[{attribute:"date"}];this._render();},_setStoreAttr:function(_8a){this._set("store",_8a);if(!_8a){return;}if(_8a.on){if(this._storeWatcher){this._storeWatcher.remove();}var _8b=this;this._storeWatcher=_8a.on("load",function(){_8b._render();});}this._render();}});return _69.createSubclass([_70],{baseClass:"priority-and-watch-date-list",buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;this._heading=_6b.create("label",{className:"heading",innerHTML:_6e.priorityDates},this.domNode);var _8c=_6b.create("div",{className:"arrow-button"},this.domNode);_6b.create("span",{className:"icon up-arrow-small","data-direction":"up"},_8c);this._list=_6b.create("div",{className:"list"},this.domNode);this._listContent=_6b.create("div",{className:"content"},this._list);this._buildPriorityDateList();this._buildWatchDateList();this._watchDateDeleteContainer=_6b.create("div",{className:"watch-date-delete-button"},this.domNode);_6b.create("button",{innerHTML:_6e.del},this._watchDateDeleteContainer);var _8d=_6b.create("div",{className:"arrow-button"},this.domNode);_6b.create("span",{className:"icon down-arrow-small","data-direction":"down"},_8d);},postCreate:function(){this.inherited(arguments);var _8e=this;this._priorityDateList.on(".row .close:click",function(_8f){_8f.stopPropagation();var _90=this;while(_90&&!_90.classList.contains("row")){_90=_90.parentNode;}var row=_8e._priorityDateList.row(_90);if(row.element.classList.contains("selected")){_8e.emit("priority-date-deselected",{detail:{data:row.data}});}_8e.showOverlay(_8e.get("priorityDatesModel").deleteItem(row.data));});this.on(".row:click",function(){_8e._setSelection(this);});this._priorityDateList.on("date-removed",function(_91){_8e.emit("priority-date-removed",_91);});this.on(".arrow-button .icon:mousedown",function(_92){_92.preventDefault();});this.on(".arrow-button .icon:click",function(){var _93;var _94;if(this.getAttribute("data-direction")==="up"){_93=_8e._list.scrollTop;_94=_8e._list.clientHeight;_8e._list.scrollTop=Math.max(0,_93-_94);}else{_93=_8e._list.scrollTop;_94=_8e._list.clientHeight;var _95=_8e._watchDateList.domNode;var _96=_95.offsetTop+_95.offsetHeight;if(_96===0){var _97=_8e._priorityDateList.domNode;_96=_97.offsetTop+_97.offsetHeight;}_8e._list.scrollTop=Math.min(_96,_93+_94);}});this.on(".watch-date-delete-button button:click",function(){_8e._hideWatchDatesDeleteButton();_8e._deleteWatchDates();});},clearSelection:function(){this._setSelection(null);},_buildPriorityDateList:function(){var _98=this;this._priorityDateList=new _72({"class":"priority-dates-grid",columns:[{field:"control",renderCell:function(_99,_9a,_9b){_6b.create("span",{className:"icon close"},_9b);}},{field:"date",get:function(_9c){var _9d=_9c.date;if(typeof _9d==="string"){_9d=_6d.fromISOString(_9d);}return _6c.format(_9d,{datePattern:"dd MMM yyyy",selector:"date"});},renderCell:function(_9e,_9f,_a0){_a0.innerHTML=_9f;if(_98._isWeekendItem(_9e)){_a0.classList.add("weekend");}}}]});this._priorityDateList.placeAt(this._listContent);},_buildWatchDateList:function(){_6b.create("label",{className:"heading watch-dates",innerHTML:"Watch Dates"},this._listContent);var _a1=this;var _a2=this._watchDateList=new _72({"class":"watch-dates-grid",columns:[{field:"control",renderCell:function(_a3,_a4,_a5){var _a6=new _6a({autoSave:false});_a6.placeAt(_a5);}},{field:"date",renderCell:function(_a7,_a8,_a9){if(typeof _a8==="string"){_a8=_6d.fromISOString(_a8);}var _aa=_6c.format(_a8,{datePattern:"dd MMM yyyy",selector:"date"});_a9.innerHTML=_aa;if(_a1._isWeekendItem(_a7)){_a9.classList.add("weekend");}}}],getSelected:function(){return _71.querySelectorAll(_a2.domNode,"[data-id]").filter(function(_ab){var _ac=_ab.querySelector("input[type=\"checkbox\"]");return _ac.checked;});}});_a2.placeAt(this._listContent);this._watchDateList.on("change",function(_ad){var row=_a1._watchDateList.row(_ad);row.element.classList[_ad.target.checked?"add":"remove"]("selected");if(_ad.target.checked){_a1._showWatchDatesDeleteButton();}else{var _ae=_a1._watchDateList.getSelected();if(_ae.length===0){_a1._hideWatchDatesDeleteButton();}}});},_deleteWatchDates:function(){this.showOverlay(this.get("watchDatesModel").deleteItems(this.get("selectedWatchDates")));},_getSelectedDates:function(_af){return _71.querySelectorAll(_af.domNode,".row .dijitChecked").map(function(_b0){return _af.row(_b0).data;});},_getSelectedPriorityDateAttr:function(){return this._getSelectedDates(this._priorityDateList);},_getSelectedWatchDatesAttr:function(){return this._watchDateList&&this._getSelectedDates(this._watchDateList);},_hideWatchDatesDeleteButton:function(){if(!this.domNode.classList.contains("watch-dates-selected")){return;}var _b1=this._watchDateDeleteContainer.offsetHeight;this.domNode.classList.remove("watch-dates-selected");this._list.scrollTop-=_b1;},_isWeekendItem:function(_b2){return this.isWeekend?this.isWeekend(_b2.date):false;},_setAppIdAttr:function(_b3){this._set("appId",_b3);this.set("priorityDateFilter",null);this._watchDateList&&this._watchDateList.set("query",{appId:_b3});},_setDisableWatchDatesAttr:function(_b4){this._set("disableWatchDates",_b4);this.domNode.classList[_b4?"add":"remove"]("hide-watch-dates");this._watchDateList.set("store",_b4?null:this.get("watchDatesModel").get("store"));},_setHeadingAttr:function(_b5){if(this._heading){this._heading.textContent=_b5;}},_setPriorityDatesModelAttr:function(_b6){this._set("priorityDatesModel",_b6);this._priorityDateList.set("store",_b6.get("store"));},_setPriorityDatesSortAttr:function(_b7){this._priorityDateList.set("sort",_b7);},_setPriorityDateFilterAttr:function(_b8){var _b9={appId:this.appId};if(_b8){Object.keys(_b8).forEach(function(key){_b9[key]=_b8[key];});}this._priorityDateList.set("query",_b9);},_setSelection:function(_ba){var row;if(_ba){var _bb;if(this._priorityDateList.domNode.contains(_ba)){row=this._priorityDateList.row(_ba);_bb="priority";}else{row=this._watchDateList.row(_ba);_bb="watch";}}else{row={};}var _bc=this._priorityDateList;var _bd=this;_71.querySelectorAll(this.domNode,".row").forEach(function(_be){if(_be===row.element){_be.classList.toggle("selected");_bd.emit(_bb+"-date-selected",{detail:{data:row.data}});}else{if(_be.classList.contains("selected")){var _bf=_bc.domNode.contains(_be)?"priority":"watch";_be.classList.remove("selected");_bd.emit(_bf+"-date-deselected",{detail:{data:row.data}});}}if(row&&row.data){_bd._set("selectedDate",row.data.date);}});},_setSelectedDateAttr:function(_c0){this.clearSelection();var _c1=this.domNode.querySelector("[data-id=\""+_c0+"-"+this.get("appId")+"\"]");_c1&&_c1.classList.add("selected");this._priorityDateList.selectedDate=_c0;this._watchDateList.selectedDate=_c0;this._set("selectedDate",_c0);},_setWatchDatesModelAttr:function(_c2){this._set("watchDatesModel",_c2);this._watchDateList.set("store",_c2.get("store"));},_showWatchDatesDeleteButton:function(){if(this.domNode.classList.contains("watch-dates-selected")){return;}this.domNode.classList.add("watch-dates-selected");this._list.scrollTop+=this._watchDateDeleteContainer.offsetHeight;},_setWeekendIndicatorModelAttr:function(_c3){this._set("weekendIndicatorModel",_c3);if(_c3){var _c4=this;_c3.loaded().then(function(){_c4.isWeekend=_c3.isWeekend.bind(_c3);_c4._priorityDateList._render();_c4._watchDateList._render();});}}});});},"advisor/widgets/Tab":function(){define(["dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/on","dojo/promise/all","dojo/when","dojo/text!./templates/Tab.html"],function(_c5,_c6,on,all,_c7,_c8){return _c5.createSubclass([_c6],{templateString:_c8,index:"",label:"",actionCounts:null,postCreate:function(){this.inherited(arguments);var _c9=this;this.on("click",function(_ca){var _cb=_ca.target;if(_c9.statusNode===_cb||_c9.statusNode.contains(_cb)){_c9.emit("click-alert",_ca);}else{if(!_c9.get("disabled")){_c9.emit("click-tab",_ca);}}});},_setActionCountsAttr:function(_cc){this._set("actionCounts",_cc);if(Array.isArray(_cc)){if(_cc.some(function(_cd){return _cd>0;})){_cc=_cc.join("/");}else{_cc=null;}}this.countDiv.textContent=_cc;this.domNode.classList[_cc?"add":"remove"]("has-alerts");},_setActiveAlertsModelAttr:function(_ce){this._set("activeAlertsModel",_ce);var _cf=this;_ce.on("load-complete",function(){var _d0;if(Array.isArray(_cf.appId)){_d0=_cf.appId.some(function(_d1){return _ce.hasAlerts(_d1);});}else{_d0=_ce.hasAlerts(_cf.appId);}_cf.domNode.classList[_d0?"add":"remove"]("has-active-alerts");});},_setDisabledAttr:function(_d2){this._set("disabled",_d2);this.domNode.classList[_d2?"add":"remove"]("disabled");},_setPriorityDatesStoreAttr:function(_d3){this._set("priorityDatesStore",_d3);this._updateActionCount();var _d4=this;_d3.on("load",function(){_d4._updateActionCount();});},_setAppIdAttr:function(app){this._set("appId",app);this._updateActionCount();},_setAdvisorIdAttr:function(id){this.domNode.setAttribute("data-advisor-id",id);this._set("advisorId",id);},_updateActionCount:function(){if(this._queryObserver){this._queryObserver.remove();this._queryObserver=null;}if(!this.appId||!this.priorityDatesStore){return;}var _d5=Array.isArray(this.appId)?this.appId:[this.appId];var _d6=_d5.map(function(id){return this.priorityDatesStore.query({appId:id});},this);var _d7=this;all(_d6).then(function(_d8){var _d9=[];_d8.forEach(function(_da,_db){_d9[_db]=_da.length;if(_da.observe){this._queryObserver=_da.observe(function(_dc,_dd,_de){if(_dd===-1){_d9[_db]++;}else{if(_de===-1){_d9[_db]--;}}_d7.set("actionCounts",_d9);});}});_d7.set("actionCounts",_d9);});}});});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_df,has,_e0,win){_e0(function(){if(has("highcontrast")){_df.add(win.body(),"dijit_a11y");}});return has;});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_e1,_e2){return _e1("dijit._Contained",null,{_getSibling:function(_e3){var _e4=this.domNode;do{_e4=_e4[_e3+"Sibling"];}while(_e4&&_e4.nodeType!=1);return _e4&&_e2.byNode(_e4);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dojo/request/default":function(){define(["exports","require","../has"],function(_e5,_e6,has){var _e7=has("config-requestProvider"),_e8;if(1){_e8="./xhr";}else{if(0){_e8="./node";}}if(!_e7){_e7=_e8;}_e5.getPlatformDefaultId=function(){return _e8;};_e5.load=function(id,_e9,_ea,_eb){_e6([id=="platform"?_e8:_e7],function(_ec){_ea(_ec);});};});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_ed){return function(_ee,_ef){switch(typeof _ee){default:throw new Error("Can not query with a "+typeof _ee);case "object":case "undefined":var _f0=_ee;_ee=function(_f1){for(var key in _f0){var _f2=_f0[key];if(_f2&&_f2.test){if(!_f2.test(_f1[key],_f1)){return false;}}else{if(_f2!=_f1[key]){return false;}}}return true;};break;case "string":if(!this[_ee]){throw new Error("No filter function "+_ee+" was found in store");}_ee=this[_ee];case "function":}function _f3(_f4){var _f5=_ed.filter(_f4,_ee);var _f6=_ef&&_ef.sort;if(_f6){_f5.sort(typeof _f6=="function"?_f6:function(a,b){for(var _f7,i=0;_f7=_f6[i];i++){var _f8=a[_f7.attribute];var _f9=b[_f7.attribute];_f8=_f8!=null?_f8.valueOf():_f8;_f9=_f9!=null?_f9.valueOf():_f9;if(_f8!=_f9){return !!_f7.descending==(_f8==null||_f8>_f9)?-1:1;}}return 0;});}if(_ef&&(_ef.start||_ef.count)){var _fa=_f5.length;_f5=_f5.slice(_ef.start||0,(_ef.start||0)+(_ef.count||Infinity));_f5.total=_fa;}return _f5;};_f3.matches=_ee;return _f3;};});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_fb,_fc,_fd,_fe){return _fb("dijit.form.ToggleButton",[_fd,_fe],{baseClass:"dijitToggleButton",setChecked:function(_ff){_fc.deprecated("setChecked("+_ff+") is deprecated. Use set('checked',"+_ff+") instead.","","2.0");this.set("checked",_ff);}});});},"advisor/util":function(){define(["exports","dojo/date","dojo/date/stamp","dojox/date/timezone"],function(_100,_101,_102){_100.querySelectorAll=function(node,_103){return Array.prototype.slice.call(node.querySelectorAll(_103));};_100.indexOf=function(_104,_105,_106){var item;var i;if(typeof _105==="function"){for(i=0;i<_104.length;i++){if(_105(_104[i])){return i;}}}else{for(i=0;i<_104.length;i++){item=_104[i];if(item[_105]===_106){return i;}}}return -1;};_100.find=function(_107,test){var item;for(var i=0;i<_107.length;i++){item=_107[i];if(test(item)){return item;}}};_100.proxyGetter=function(_108,_109){return function(){return this[_108].get(_109||"value");};};_100.proxySetter=function(_10a,_10b){return function(_10c){this[_10a].set(_10b||"value",_10c);};};_100.toISODate=function(date){return _102.toISOString(date,{selector:"date"});};_100.parseServerTimeStamp=function(_10d){if(!(/\d\d:\d\d$/.test(_10d))){var date=_102.fromISOString(_10d+"-05:00");var _10e=dojox.date.timezone.getTzInfo(date,"EST5EDT");var _10f=_10e.tzOffset/60;_10d+="-0"+_10f+":00";}return _102.fromISOString(_10d);};});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_110,on,_111,has,_112){var _113=new _110();var _114;_111(function(){var _115=_112.getBox();_113._rlh=on(window,"resize",function(){var _116=_112.getBox();if(_115.h==_116.h&&_115.w==_116.w){return;}_115=_116;_113.emit("resize");});if(has("ie")==8){var _117=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_117){_117=screen.deviceXDPI;_113.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_114=evt.target;});on(document,"focusout",function(evt){_114=null;});}});_113.getEffectiveBox=function(doc){var box=_112.getBox(doc);var tag=_114&&_114.tagName&&_114.tagName.toLowerCase();if(has("ios")&&_114&&!_114.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_114.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_114.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _113;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_118,dojo,_119,_11a,_11b,dom,_11c,_11d,_11e,all,_11f,_120,has,_121,don,_122){new Date("X");function _123(text){return eval("("+text+")");};var _124=0;_11e.after(_119,"extend",function(){_124++;},true);function _125(ctor){var map=ctor._nameCaseMap,_126=ctor.prototype;if(!map||map._extendCnt<_124){map=ctor._nameCaseMap={};for(var name in _126){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_124;}return map;};var _127={};function _128(_129,_12a){var ts=_129.join();if(!_127[ts]){var _12b=[];for(var i=0,l=_129.length;i<l;i++){var t=_129[i];_12b[_12b.length]=(_127[t]=_127[t]||(_119.getObject(t)||(~t.indexOf("/")&&(_12a?_12a(t):_118(t)))));}var ctor=_12b.shift();_127[ts]=_12b.length?(ctor.createSubclass?ctor.createSubclass(_12b):ctor.extend.apply(ctor,_12b)):ctor;}return _127[ts];};var _12c={_clearCache:function(){_124++;_127={};},_functionFromScript:function(_12d,_12e){var _12f="",_130="",_131=(_12d.getAttribute(_12e+"args")||_12d.getAttribute("args")),_132=_12d.getAttribute("with");var _133=(_131||"").split(/\s*,\s*/);if(_132&&_132.length){_11a.forEach(_132.split(/\s*,\s*/),function(part){_12f+="with("+part+"){";_130+="}";});}return new Function(_133,_12f+_12d.innerHTML+_130);},instantiate:function(_134,_135,_136){_135=_135||{};_136=_136||{};var _137=(_136.scope||dojo._scopeName)+"Type",_138="data-"+(_136.scope||dojo._scopeName)+"-",_139=_138+"type",_13a=_138+"mixins";var list=[];_11a.forEach(_134,function(node){var type=_137 in _135?_135[_137]:node.getAttribute(_139)||node.getAttribute(_137);if(type){var _13b=node.getAttribute(_13a),_13c=_13b?[type].concat(_13b.split(/\s*,\s*/)):[type];list.push({node:node,types:_13c});}});return this._instantiate(list,_135,_136);},_instantiate:function(_13d,_13e,_13f,_140){var _141=_11a.map(_13d,function(obj){var ctor=obj.ctor||_128(obj.types,_13f.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_13e,_13f,obj.scripts,obj.inherited);},this);function _142(_143){if(!_13e._started&&!_13f.noStart){_11a.forEach(_143,function(_144){if(typeof _144.startup==="function"&&!_144._started){_144.startup();}});}return _143;};if(_140){return all(_141).then(_142);}else{return _142(_141);}},construct:function(ctor,node,_145,_146,_147,_148){var _149=ctor&&ctor.prototype;_146=_146||{};var _14a={};if(_146.defaults){_119.mixin(_14a,_146.defaults);}if(_148){_119.mixin(_14a,_148);}var _14b;if(has("dom-attributes-explicit")){_14b=node.attributes;}else{if(has("dom-attributes-specified-flag")){_14b=_11a.filter(node.attributes,function(a){return a.specified;});}else{var _14c=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_14d=_14c.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_14b=_11a.map(_14d.split(/\s+/),function(name){var _14e=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_14e=="enctype"?node.getAttribute(_14e):node.getAttributeNode(_14e).value};});}}var _14f=_146.scope||dojo._scopeName,_150="data-"+_14f+"-",hash={};if(_14f!=="dojo"){hash[_150+"props"]="data-dojo-props";hash[_150+"type"]="data-dojo-type";hash[_150+"mixins"]="data-dojo-mixins";hash[_14f+"type"]="dojoType";hash[_150+"id"]="data-dojo-id";}var i=0,item,_151=[],_152,_153;while(item=_14b[i++]){var name=item.name,_154=name.toLowerCase(),_155=item.value;switch(hash[_154]||_154){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_153=_155;break;case "data-dojo-id":case "jsid":_152=_155;break;case "data-dojo-attach-point":case "dojoattachpoint":_14a.dojoAttachPoint=_155;break;case "data-dojo-attach-event":case "dojoattachevent":_14a.dojoAttachEvent=_155;break;case "class":_14a["class"]=node.className;break;case "style":_14a["style"]=node.style&&node.style.cssText;break;default:if(!(name in _149)){var map=_125(ctor);name=map[_154]||name;}if(name in _149){switch(typeof _149[name]){case "string":_14a[name]=_155;break;case "number":_14a[name]=_155.length?Number(_155):NaN;break;case "boolean":_14a[name]=_155.toLowerCase()!="false";break;case "function":if(_155===""||_155.search(/[^\w\.]+/i)!=-1){_14a[name]=new Function(_155);}else{_14a[name]=_119.getObject(_155,false)||new Function(_155);}_151.push(name);break;default:var pVal=_149[name];_14a[name]=(pVal&&"length" in pVal)?(_155?_155.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_155==""?new Date(""):_155=="now"?new Date():_11f.fromISOString(_155)):(pVal instanceof _11d)?(dojo.baseUrl+_155):_123(_155);}}else{_14a[name]=_155;}}}for(var j=0;j<_151.length;j++){var _156=_151[j].toLowerCase();node.removeAttribute(_156);node[_156]=null;}if(_153){try{_153=_123.call(_146.propsThis,"{"+_153+"}");_119.mixin(_14a,_153);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_153+"'");}}_119.mixin(_14a,_145);if(!_147){_147=(ctor&&(ctor._noScript||_149._noScript)?[]:_121("> script[type^='dojo/']",node));}var _157=[],_158=[],_159=[],ons=[];if(_147){for(i=0;i<_147.length;i++){var _15a=_147[i];node.removeChild(_15a);var _15b=(_15a.getAttribute(_150+"event")||_15a.getAttribute("event")),prop=_15a.getAttribute(_150+"prop"),_15c=_15a.getAttribute(_150+"method"),_15d=_15a.getAttribute(_150+"advice"),_15e=_15a.getAttribute("type"),nf=this._functionFromScript(_15a,_150);if(_15b){if(_15e=="dojo/connect"){_157.push({method:_15b,func:nf});}else{if(_15e=="dojo/on"){ons.push({event:_15b,func:nf});}else{_14a[_15b]=nf;}}}else{if(_15e=="dojo/aspect"){_157.push({method:_15c,advice:_15d,func:nf});}else{if(_15e=="dojo/watch"){_159.push({prop:prop,func:nf});}else{_158.push(nf);}}}}}var _15f=ctor.markupFactory||_149.markupFactory;var _160=_15f?_15f(_14a,node,ctor):new ctor(_14a,node);function _161(_162){if(_152){_119.setObject(_152,_162);}for(i=0;i<_157.length;i++){_11e[_157[i].advice||"after"](_162,_157[i].method,_119.hitch(_162,_157[i].func),true);}for(i=0;i<_158.length;i++){_158[i].call(_162);}for(i=0;i<_159.length;i++){_162.watch(_159[i].prop,_159[i].func);}for(i=0;i<ons.length;i++){don(_162,ons[i].event,ons[i].func);}return _162;};if(_160.then){return _160.then(_161);}else{return _161(_160);}},scan:function(root,_163){var list=[],mids=[],_164={};var _165=(_163.scope||dojo._scopeName)+"Type",_166="data-"+(_163.scope||dojo._scopeName)+"-",_167=_166+"type",_168=_166+"textdir",_169=_166+"mixins";var node=root.firstChild;var _16a=_163.inherited;if(!_16a){function _16b(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_16b(node.parentNode,attr));};_16a={dir:_16b(root,"dir"),lang:_16b(root,"lang"),textDir:_16b(root,_168)};for(var key in _16a){if(!_16a[key]){delete _16a[key];}}}var _16c={inherited:_16a};var _16d;var _16e;function _16f(_170){if(!_170.inherited){_170.inherited={};var node=_170.node,_171=_16f(_170.parent);var _172={dir:node.getAttribute("dir")||_171.dir,lang:node.getAttribute("lang")||_171.lang,textDir:node.getAttribute(_168)||_171.textDir};for(var key in _172){if(_172[key]){_170.inherited[key]=_172[key];}}}return _170.inherited;};while(true){if(!node){if(!_16c||!_16c.node){break;}node=_16c.node.nextSibling;_16e=false;_16c=_16c.parent;_16d=_16c.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_16d&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_16d.push(node);}node=node.nextSibling;continue;}if(_16e){node=node.nextSibling;continue;}var type=node.getAttribute(_167)||node.getAttribute(_165);var _173=node.firstChild;if(!type&&(!_173||(_173.nodeType==3&&!_173.nextSibling))){node=node.nextSibling;continue;}var _174;var ctor=null;if(type){var _175=node.getAttribute(_169),_176=_175?[type].concat(_175.split(/\s*,\s*/)):[type];try{ctor=_128(_176,_163.contextRequire);}catch(e){}if(!ctor){_11a.forEach(_176,function(t){if(~t.indexOf("/")&&!_164[t]){_164[t]=true;mids[mids.length]=t;}});}var _177=ctor&&!ctor.prototype._noScript?[]:null;_174={types:_176,ctor:ctor,parent:_16c,node:node,scripts:_177};_174.inherited=_16f(_174);list.push(_174);}else{_174={node:node,scripts:_16d,parent:_16c};}_16d=_177;_16e=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_163.template));_16c=_174;node=_173;}var d=new _120();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_163.contextRequire||_118;r(mids,function(){d.resolve(_11a.filter(list,function(_178){if(!_178.ctor){try{_178.ctor=_128(_178.types,_163.contextRequire);}catch(e){}}var _179=_178.parent;while(_179&&!_179.types){_179=_179.parent;}var _17a=_178.ctor&&_178.ctor.prototype;_178.instantiateChildren=!(_17a&&_17a.stopParser&&!(_163.template));_178.instantiate=!_179||(_179.instantiate&&_179.instantiateChildren);return _178.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_17b,_17c){var hash=_123("{"+_17b.innerHTML+"}"),vars=[],mids=[],d=new _120();var _17d=(_17c&&_17c.contextRequire)||_118;for(var name in hash){vars.push(name);mids.push(hash[name]);}_17d(mids,function(){for(var i=0;i<vars.length;i++){_119.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_17e){var _17f=new _120(),_180=_17f.promise;_17f.resolve(true);var self=this;_121("script[type='dojo/require']",root).forEach(function(node){_180=_180.then(function(){return self._require(node,_17e);});node.parentNode.removeChild(node);});return _180;},parse:function(_181,_182){var root;if(!_182&&_181&&_181.rootNode){_182=_181;root=_182.rootNode;}else{if(_181&&_119.isObject(_181)&&!("nodeType" in _181)){_182=_181;}else{root=_181;}}root=root?dom.byId(root):_11c.body();_182=_182||{};var _183=_182.template?{template:true}:{},_184=[],self=this;var p=this._scanAmd(root,_182).then(function(){return self.scan(root,_182);}).then(function(_185){return self._instantiate(_185,_183,_182,true);}).then(function(_186){return _184=_184.concat(_186);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_119.mixin(_184,p);return _184;}};if(1){dojo.parser=_12c;}if(_11b.parseOnLoad){_122(100,_12c,"parse");}return _12c;});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_187,_188,_189,lang,on,_18a){return _188("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_18b){var res=[];_187.forEach(_18b||this.getChildren(),function(_18c){if("value" in _18c){res.push(_18c);}else{res=res.concat(this._getDescendantFormWidgets(_18c.getChildren()));}},this);return res;},reset:function(){_187.forEach(this._getDescendantFormWidgets(),function(_18d){if(_18d.reset){_18d.reset();}});},validate:function(){var _18e=false;return _187.every(_187.map(this._getDescendantFormWidgets(),function(_18f){_18f._hasBeenBlurred=true;var _190=_18f.disabled||!_18f.validate||_18f.validate();if(!_190&&!_18e){_18a.scrollIntoView(_18f.containerNode||_18f.domNode);_18f.focus();_18e=true;}return _190;}),function(item){return item;});},setValues:function(val){_189.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_187.forEach(this._getDescendantFormWidgets(),function(_191){if(!_191.name){return;}var _192=map[_191.name]||(map[_191.name]=[]);_192.push(_191);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _193=map[name],_194=lang.getObject(name,false,obj);if(_194===undefined){continue;}_194=[].concat(_194);if(typeof _193[0].checked=="boolean"){_187.forEach(_193,function(w){w.set("value",_187.indexOf(_194,w._get("value"))!=-1);});}else{if(_193[0].multiple){_193[0].set("value",_194);}else{_187.forEach(_193,function(w,i){w.set("value",_194[i]);});}}}},getValues:function(){_189.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_187.forEach(this._getDescendantFormWidgets(),function(_195){var name=_195.name;if(!name||_195.disabled){return;}var _196=_195.get("value");if(typeof _195.checked=="boolean"){if(/Radio/.test(_195.declaredClass)){if(_196!==false){lang.setObject(name,_196,obj);}else{_196=lang.getObject(name,false,obj);if(_196===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_196!==false){ary.push(_196);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_196);}else{lang.setObject(name,[prev,_196],obj);}}else{lang.setObject(name,_196,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _197=_187.map(this._descendants,function(w){return w.get("state")||"";});return _187.indexOf(_197,"Error")>=0?"Error":_187.indexOf(_197,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_198){this._descendants=this._getDescendantFormWidgets();_187.forEach(this._descendants,function(_199){if(!_199._started){_199.startup();}});if(!_198){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_19a,_19b){this.onValidStateChange(_19b=="");});},destroy:function(){this.inherited(arguments);}});});},"dojox/layout/FloatingPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","dojo/_base/declare","dojo/_base/fx","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/_TemplatedMixin","dijit/_Widget","dijit/BackgroundIframe","dojo/dnd/Moveable","./ContentPane","./ResizeHandle","dojo/text!./resources/FloatingPane.html","./Dock"],function(_19c,lang,_19d,_19e,_19f,_1a0,_1a1,has,_1a2,dom,_1a3,_1a4,_1a5,_1a6,_1a7,_1a8,_1a9,_1aa,_1ab,_1ac,Dock){_19c.experimental("dojox.layout.FloatingPane");var _1ad=_19e("dojox.layout.FloatingPane",[_1aa,_1a6],{closable:true,dockable:true,resizable:false,maxable:false,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:_1ac,attributeMap:lang.delegate(_1a7.prototype.attributeMap,{title:{type:"innerHTML",node:"titleNode"}}),postCreate:function(){this.inherited(arguments);new _1a9(this.domNode,{handle:this.focusNode});if(!this.dockable){this.dockNode.style.display="none";}if(!this.closable){this.closeNode.style.display="none";}if(!this.maxable){this.maxNode.style.display="none";this.restoreNode.style.display="none";}if(!this.resizable){this.resizeHandle.style.display="none";}else{this.domNode.style.width=_1a4.getMarginBox(this.domNode).w+"px";}this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new _1a8(this.domNode);this._naturalState=_1a4.position(this.domNode);},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.resizable){if(has("ie")){this.canvas.style.overflow="auto";}else{this.containerNode.style.overflow="auto";}this._resizeHandle=new _1ab({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle);}if(this.dockable){var _1ae=this.dockTo;if(this.dockTo){this.dockTo=dijit.byId(this.dockTo);}else{this.dockTo=dijit.byId("dojoxGlobalFloatingDock");}if(!this.dockTo){var _1af,_1b0;if(_1ae){_1af=_1ae;_1b0=dom.byId(_1ae);}else{_1b0=_1a5.create("div",null,_19d.body());_1a3.add(_1b0,"dojoxFloatingDockDefault");_1af="dojoxGlobalFloatingDock";}this.dockTo=new Dock({id:_1af,autoPosition:"south"},_1b0);this.dockTo.startup();}if((this.domNode.style.display=="none")||(this.domNode.style.visibility=="hidden")){this.minimize();}}this.connect(this.focusNode,"onmousedown","bringToTop");this.connect(this.domNode,"onmousedown","bringToTop");this.resize(_1a4.position(this.domNode));this._started=true;},setTitle:function(_1b1){_19c.deprecated("pane.setTitle","Use pane.set('title', someTitle)","2.0");this.set("title",_1b1);},close:function(){if(!this.closable){return;}_1a0.unsubscribe(this._listener);this.hide(lang.hitch(this,function(){this.destroyRecursive();}));},hide:function(_1b2){_19f.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null);}if(_1b2){_1b2();}})}).play();},show:function(_1b3){var anim=_19f.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility="visible";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null);}if(typeof _1b3=="function"){_1b3();}this._isDocked=false;if(this._dockNode){this._dockNode.destroy();this._dockNode=null;}})}).play();var _1b4=_1a4.getContentBox(this.domNode);this.resize(lang.mixin(_1a4.position(this.domNode),{w:_1b4.w,h:_1b4.h}));this._onShow();},minimize:function(){if(!this._isDocked){this.hide(lang.hitch(this,"_dock"));}},maximize:function(){if(this._maximized){return;}this._naturalState=_1a4.position(this.domNode);if(this._isDocked){this.show();setTimeout(lang.hitch(this,"maximize"),this.duration);}_1a3.add(this.focusNode,"floatingPaneMaximized");this.resize(_1a2.getBox());this._maximized=true;},_restore:function(){if(this._maximized){this.resize(this._naturalState);_1a3.remove(this.focusNode,"floatingPaneMaximized");this._maximized=false;}},_dock:function(){if(!this._isDocked&&this.dockable){this._dockNode=this.dockTo.addNode(this);this._isDocked=true;}},resize:function(dim){dim=dim||this._naturalState;this._naturalState=dim;var dns=this.domNode.style;if("t" in dim){dns.top=dim.t+"px";}else{if("y" in dim){dns.top=dim.y+"px";}}if("l" in dim){dns.left=dim.l+"px";}else{if("x" in dim){dns.left=dim.x+"px";}}dns.width=dim.w+"px";dns.height=dim.h+"px";var _1b5={l:0,t:0,w:dim.w,h:(dim.h-this.focusNode.offsetHeight)};_1a4.setMarginBox(this.canvas,_1b5);this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){this._singleChild.resize(_1b5);}},bringToTop:function(){var _1b6=_1a1.filter(this._allFPs,function(i){return i!==this;},this);_1b6.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_1b6.push(this);_1a1.forEach(_1b6,function(w,x){w.domNode.style.zIndex=this._startZ+(x*2);_1a3.remove(w.domNode,"dojoxFloatingPaneFg");},this);_1a3.add(this.domNode,"dojoxFloatingPaneFg");},destroy:function(){this._allFPs.splice(_1a1.indexOf(this._allFPs,this),1);if(this._resizeHandle){this._resizeHandle.destroy();}this.inherited(arguments);}});return _1ad;});},"advisor/models/UiOrder":function(){define(["./_Model"],function(_1b7){return _1b7.createSubclass([],{constructor:function(){this._roomCollectionsById=[];this._roomCollectionsByName={};},postLoad:function(_1b8){this._roomCollectionsById=[];this._roomCollectionsByName={};_1b8.RPC_UI_ORDER.forEach(function(_1b9){this._roomCollectionsById[_1b9.id]=_1b9;this._roomCollectionsByName[_1b9.name.toLowerCase()]=_1b9;},this);this.inherited(arguments);},getRoomCollection:function(_1ba){if(_1ba.id!=null){return this._roomCollectionsById[_1ba.id];}else{if(_1ba.name!=null){return this._roomCollectionsByName[_1ba.name];}}},getRoomPools:function(){return this._response.ROOM_POOL_UI_ORDER;},getRoomPoolNames:function(){return this.getRoomPools().map(function(_1bb){return _1bb.name;});},getStandardRoompoolName:function(){if(this._standardRoompoolName===undefined){var _1bc=this.getRoomPools();for(var i=0;i<_1bc.length;i++){if(_1bc[i].isStandard==="Y"){this._standardRoompoolName=_1bc[i];break;}}return this._standardRoompoolName;}return this.__standardRoompoolName;},_getLoadUrl:function(){return this.contextPath+"api/rest/allUiOrder/v1/properties/"+this.propertyCode;},_roomCollectionsGetter:function(){return this._roomCollectionsById.filter(function(_1bd){return _1bd!=null;});}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_1be,_1bf,_1c0,_1c1){return _1bf("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1c2,_1c3){var _1c4=this.containerNode;if(_1c3>0){_1c4=_1c4.firstChild;while(_1c3>0){if(_1c4.nodeType==1){_1c3--;}_1c4=_1c4.nextSibling;}if(_1c4){_1c3="before";}else{_1c4=this.containerNode;_1c3="last";}}_1c0.place(_1c2.domNode,_1c4,_1c3);if(this._started&&!_1c2._started){_1c2.startup();}},removeChild:function(_1c5){if(typeof _1c5=="number"){_1c5=this.getChildren()[_1c5];}if(_1c5){var node=_1c5.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_1c6,dir){_1c1.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _1c7=this.getChildren(),idx=_1be.indexOf(_1c7,_1c6);return _1c7[idx+dir];},getIndexOfChild:function(_1c8){return _1be.indexOf(this.getChildren(),_1c8);}});});},"advisor/models/AlertActions":function(){define(["./_Model"],function(_1c9){return _1c9.createSubclass([],{constructor:function(){this._alertActions={};},getAlertAction:function(_1ca,_1cb){var _1cc=this._alertActions;var _1cd=_1ca+_1cb;if(!_1cc[_1cd]){_1cc[_1cd]=this._requestGet(this.contextPath+"api/rest/alertAction/v1/byids",{query:{alertid:_1ca,actionid:_1cb}}).then(function(_1ce){return _1ce[0];}).otherwise(function(_1cf){console.warn("Error getting alert action "+_1cd+":",(_1cf.stack||_1cf));});}return _1cc[_1cd];}});});},"advisor/widgets/Dialog":function(){define(["dijit/Dialog","dijit/registry","dojo/dom-construct","dojo/query"],function(_1d0,_1d1,_1d2){return _1d0.createSubclass([],{baseClass:"claro marriott modal-dialog",buildRendering:function(){this.inherited(arguments);this.domNode.className=this.baseClass;this.titleNode.className="title";this.titleBar.className="header";this.closeButtonNode.className="close-icon";this.containerNode.className="modal-content";this.buttonContainer=_1d2.create("div",{className:"dashboardFooter"},this.domNode);},postCreate:function(){this.inherited(arguments);var self=this;this.on("button:click",function(){var name=this.getAttribute("name");if(name==="cancel"){self.onCancel();}else{if(name==="ok"){self.onExecute();}else{self.onChoice({detail:{name:name}});}}});},onChoice:function(){},resize:function(){this.inherited(arguments);this._position();},_setCancelButtonAttr:function(_1d3){this.domNode.classList.add("cancel-button");if(!this._cancelButton){this._cancelButton=_1d2.create("button",{name:"cancel"},this.buttonContainer);}this._cancelButton.innerHTML=_1d3;},_setOkButtonAttr:function(_1d4){this.domNode.classList.add("ok-button");if(!this._okButton){this._okButton=_1d2.create("button",{name:"ok"},this.buttonContainer);}this._okButton.innerHTML=_1d4;},_setButtonsAttr:function(_1d5){this.buttonContainer.innerHTML="";if(_1d5){_1d5.forEach(function(info){var _1d6=_1d2.create("button",{name:info.name,innerHTML:info.label},this.buttonContainer);if(info.position==="left"){_1d6.classList.add("left");}},this);}}});});},"widget/MessageConsolePane":function(){define("widget/MessageConsolePane",["dojo","dojox/layout/FloatingPane"],function(dojo,_1d7){dojo.declare("widget.MessageConsolePane",[dojox.layout.FloatingPane],{resizable:"false",closable:"false",dockable:"true",dockto:"messageDock",title:"0 Message(s)",constructor:function(){},postMixInProperties:function(){this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.minimize=function(){};this.closeNode.style.display="none";this.resizeHandle.style.display="none";this.maxNode.style.display="none";dojo.style(this.domNode,{top:"-200px",left:"-200px",width:"405px",height:"205px",zIndex:500,position:"absolute"});}});return widget.MessageConsolePane;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_1d8,on,_1d9){function _1da(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _1db;on(document,"keydown",function(e){if(_1da(e)){_1db=e.target;e.preventDefault();}else{_1db=null;}});on(document,"keyup",function(e){if(_1da(e)&&e.target==_1db){_1db=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _1dc=function(node,_1dd){node.dojoClick=true;return on(node,"click",_1dd);};_1dc.click=_1dc;_1dc.press=function(node,_1de){var _1df=on(node,_1d9.press,function(evt){if(evt.type=="mousedown"&&!_1d8.isLeft(evt)){return;}_1de(evt);}),_1e0=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_1de(evt);}});return {remove:function(){_1df.remove();_1e0.remove();}};};_1dc.release=function(node,_1e1){var _1e2=on(node,_1d9.release,function(evt){if(evt.type=="mouseup"&&!_1d8.isLeft(evt)){return;}_1e1(evt);}),_1e3=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_1e1(evt);}});return {remove:function(){_1e2.remove();_1e3.remove();}};};_1dc.move=_1d9.move;return _1dc;});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(_1e4,_1e5,_1e6,_1e7,_1e8,dom,_1e9,_1ea,_1eb,fx,i18n,keys,lang,on,_1ec,has,_1ed,_1ee,_1ef,_1f0,_1f1,_1f2,_1f3,_1f4,_1f5,_1f6,_1f7,_1f8,_1f9){var _1fa=_1e7("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_1f3,_1f5,_1f6,_1f4],{templateString:_1f9,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_1f1.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _1fb=i18n.getLocalization("dijit","common");lang.mixin(this,_1fb);this.inherited(arguments);},postCreate:function(){_1eb.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_1e6.after(this,"onExecute",lang.hitch(this,"hide"),true);_1e6.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this._size();this._position();if(this.autofocus&&_1fc.isTop(this)){this._getFocusItems(this.domNode);_1f0.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems(this.domNode);_1f0.focus(this._firstFocusItem);},_endDrag:function(){var _1fd=_1ea.position(this.domNode),_1fe=_1ed.getBox(this.ownerDocument);_1fd.y=Math.min(Math.max(_1fd.y,0),(_1fe.h-_1fd.h));_1fd.x=Math.min(Math.max(_1fd.x,0),(_1fe.w-_1fd.w));this._relativePosition=_1fd;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_1ef:_1ee)(node,{handle:this.titleBar});_1e6.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_1e9.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_1e5.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_1eb.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_1ea.position(this.domNode);var _1ff=_1ed.getBox(this.ownerDocument);_1ff.w*=this.maxRatio;_1ff.h*=this.maxRatio;if(bb.w>=_1ff.w||bb.h>=_1ff.h){var _200=_1ea.position(this.containerNode),w=Math.min(bb.w,_1ff.w)-(bb.w-_200.w),h=Math.min(bb.h,_1ff.h)-(bb.h-_200.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_1eb.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_1e9.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_201=_1ed.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_1ea.position(node),l=Math.floor(_201.l+(p?p.x:(_201.w-bb.w)/2)),t=Math.floor(_201.t+(p?p.y:(_201.h-bb.h)/2));_1eb.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems(this.domNode);var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_1f0.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_1f0.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_1fc.hide(this);}var win=_1ed.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_1eb.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _202;this._fadeInDeferred=new _1e8(lang.hitch(this,function(){_202.stop();delete this._fadeInDeferred;}));var _203=this._fadeInDeferred.promise;_202=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_1fc.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_1fc.isTop(this)){this._getFocusItems(this.domNode);_1f0.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _203;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _204;this._fadeOutDeferred=new _1e8(lang.hitch(this,function(){_204.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _205=this._fadeOutDeferred.promise;_204=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_1fc.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _205;},resize:function(){if(this.domNode.style.display!="none"){this._size();if(!has("touch")){this._position();}}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_1fc.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_1fa=_1e7("dijit._DialogBase",_1fa,{_setTitleAttr:function(_206){this._set("title",_206);this.titleNode.innerHTML=_206;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_207){if(this._created&&this.textDir!=_207){this._set("textDir",_207);this.set("title",this.title);}}});}var _208=_1e7("dijit.Dialog",[_1f8,_1fa],{});_208._DialogBase=_1fa;var _1fc=_208._DialogLevelManager={_beginZIndex:950,show:function(_209,_20a){ds[ds.length-1].focus=_1f0.curNode;var _20b=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_208._DialogLevelManager._beginZIndex;_1eb.set(_209.domNode,"zIndex",_20b);_1f7.show(_20a,_20b-1);ds.push({dialog:_209,underlayAttrs:_20a,zIndex:_20b});},hide:function(_20c){if(ds[ds.length-1].dialog==_20c){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_1f7.hide();}else{_1f7.show(pd.underlayAttrs,pd.zIndex-1);}if(_20c.refocus){var _20d=pd.focus;if(pd.dialog&&(!_20d||!dom.isDescendant(_20d,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_20d=pd.dialog._firstFocusItem;}if(_20d){try{_20d.focus();}catch(e){}}}}else{var idx=_1e5.indexOf(_1e5.map(ds,function(elem){return elem.dialog;}),_20c);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_20e){return ds[ds.length-1].dialog==_20e;}};var ds=_208._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_1f0.watch("curNode",function(attr,_20f,node){var _210=ds[ds.length-1].dialog;if(node&&_210&&!_210._fadeOutDeferred&&node.ownerDocument==_210.ownerDocument){do{if(node==_210.domNode||_1e9.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_210.focus();}});if(has("dijit-legacy-requires")){_1ec(0,function(){var _211=["dijit/TooltipDialog"];_1e4(_211);});}return _208;});},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_212,_213,lang,_214,_215,_216,_217,_218){var _219=function(a){return a.length==1&&(typeof a[0]=="string");};var _21a=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _21b=_212.NodeList,awc=_21b._adaptWithCondition,aafe=_21b._adaptAsForEach,aam=_21b._adaptAsMap;function _21c(_21d){return function(node,name,_21e){if(arguments.length==2){return _21d[typeof name=="string"?"get":"set"](node,name);}return _21d.set(node,name,_21e);};};lang.extend(_21b,{_normalize:function(_21f,_220){var _221=_21f.parse===true;if(typeof _21f.template=="string"){var _222=_21f.templateFunc||(dojo.string&&dojo.string.substitute);_21f=_222?_222(_21f.template,_21f):_21f;}var type=(typeof _21f);if(type=="string"||type=="number"){_21f=_215.toDom(_21f,(_220&&_220.ownerDocument));if(_21f.nodeType==11){_21f=lang._toArray(_21f.childNodes);}else{_21f=[_21f];}}else{if(!lang.isArrayLike(_21f)){_21f=[_21f];}else{if(!lang.isArray(_21f)){_21f=lang._toArray(_21f);}}}if(_221){_21f._runParse=true;}return _21f;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_223,_224,_225){if(_223.nodeType!=1&&_224=="only"){return;}var _226=_223,_227;var _228=ary.length;for(var i=_228-1;i>=0;i--){var node=(_225?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_227){_227=_226.ownerDocument.createElement("div");}_227.appendChild(node);dojo.parser.parse(_227);node=_227.firstChild;while(_227.firstChild){_227.removeChild(_227.firstChild);}}if(i==_228-1){_215.place(node,_226,_224);}else{_226.parentNode.insertBefore(node,_226);}_226=node;}},position:aam(_216.position),attr:awc(_21c(_217),_219),style:awc(_21c(_218),_219),addClass:aafe(_214.add),removeClass:aafe(_214.remove),toggleClass:aafe(_214.toggle),replaceClass:aafe(_214.replace),empty:aafe(_215.empty),removeAttr:aafe(_217.remove),marginBox:aam(_216.getMarginBox),place:function(_229,_22a){var item=_212(_229)[0];return this.forEach(function(node){_215.place(node,item,_22a);});},orphan:function(_22b){return (_22b?_212._filterResult(this,_22b):this).forEach(_21a);},adopt:function(_22c,_22d){return _212(_22c).place(this[0],_22d)._stash(this);},query:function(_22e){if(!_22e){return this;}var ret=new _21b;this.map(function(node){_212(_22e,node).forEach(function(_22f){if(_22f!==undefined){ret.push(_22f);}});});return ret._stash(this);},filter:function(_230){var a=arguments,_231=this,_232=0;if(typeof _230=="string"){_231=_212._filterResult(this,a[0]);if(a.length==1){return _231._stash(this);}_232=1;}return this._wrap(_213.filter(_231,a[_232],a[_232+1]),this);},addContent:function(_233,_234){_233=this._normalize(_233,this[0]);for(var i=0,node;(node=this[i]);i++){if(_233.length){this._place(_233,node,_234,i>0);}else{_215.empty(node);}}return this;}});return _21b;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_235,Grid,_236){return _235([Grid,_236],{});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_237,a11y){return _237("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _238=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_238.lowest||_238.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_238.last||_238.highest||this._firstFocusItem;}});});},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,_239,lang,_23a,_23b,_23c,has,dom,_23d){var _23e=lang.mixin;var _23f={};var _240=_23f._Line=function(_241,end){this.start=_241;this.end=end;};_240.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _242=_23f.Animation=function(args){_23e(this,args);if(lang.isArray(this.curve)){this.curve=new _240(this.curve[0],this.curve[1]);}};_242.prototype=new _23a();lang.extend(_242,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _243=this._percent,_244=this.easing;return _244?_244(_243):_243;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_239.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_245,_246){var _247=this;if(_247._delayTimer){_247._clearTimer();}if(_246){_247._stopTimer();_247._active=_247._paused=false;_247._percent=0;}else{if(_247._active&&!_247._paused){return _247;}}_247._fire("beforeBegin",[_247.node]);var de=_245||_247.delay,_248=lang.hitch(_247,"_play",_246);if(de>0){_247._delayTimer=setTimeout(_248,de);return _247;}_248();return _247;},_play:function(_249){var _24a=this;if(_24a._delayTimer){_24a._clearTimer();}_24a._startTime=new Date().valueOf();if(_24a._paused){_24a._startTime-=_24a.duration*_24a._percent;}_24a._active=true;_24a._paused=false;var _24b=_24a.curve.getValue(_24a._getStep());if(!_24a._percent){if(!_24a._startRepeatCount){_24a._startRepeatCount=_24a.repeat;}_24a._fire("onBegin",[_24b]);}_24a._fire("onPlay",[_24b]);_24a._cycle();return _24a;},pause:function(){var _24c=this;if(_24c._delayTimer){_24c._clearTimer();}_24c._stopTimer();if(!_24c._active){return _24c;}_24c._paused=true;_24c._fire("onPause",[_24c.curve.getValue(_24c._getStep())]);return _24c;},gotoPercent:function(_24d,_24e){var _24f=this;_24f._stopTimer();_24f._active=_24f._paused=true;_24f._percent=_24d;if(_24e){_24f.play();}return _24f;},stop:function(_250){var _251=this;if(_251._delayTimer){_251._clearTimer();}if(!_251._timer){return _251;}_251._stopTimer();if(_250){_251._percent=1;}_251._fire("onStop",[_251.curve.getValue(_251._getStep())]);_251._active=_251._paused=false;return _251;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _252=this;if(_252._active){var curr=new Date().valueOf();var step=_252.duration===0?1:(curr-_252._startTime)/(_252.duration);if(step>=1){step=1;}_252._percent=step;if(_252.easing){step=_252.easing(step);}_252._fire("onAnimate",[_252.curve.getValue(step)]);if(_252._percent<1){_252._startTimer();}else{_252._active=false;if(_252.repeat>0){_252.repeat--;_252.play(null,true);}else{if(_252.repeat==-1){_252.play(null,true);}else{if(_252._startRepeatCount){_252.repeat=_252._startRepeatCount;_252._startRepeatCount=0;}}}_252._percent=0;_252._fire("onEnd",[_252.node]);!_252.repeat&&_252._stopTimer();}}return _252;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_253=null,_254={run:function(){}};lang.extend(_242,{_startTimer:function(){if(!this._timer){this._timer=_23c.after(_254,"run",lang.hitch(this,"_cycle"),true);ctr++;}if(!_253){_253=setInterval(lang.hitch(_254,"run"),this.rate);}},_stopTimer:function(){if(this._timer){this._timer.remove();this._timer=null;ctr--;}if(ctr<=0){clearInterval(_253);_253=null;ctr=0;}}});var _255=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_23d.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_23f._fade=function(args){args.node=dom.byId(args.node);var _256=_23e({properties:{}},args),_257=(_256.properties.opacity={});_257.start=!("start" in _256)?function(){return +_23d.get(_256.node,"opacity")||0;}:_256.start;_257.end=_256.end;var anim=_23f.animateProperty(_256);_23c.after(anim,"beforeBegin",lang.partial(_255,_256.node),true);return anim;};_23f.fadeIn=function(args){return _23f._fade(_23e({end:1},args));};_23f.fadeOut=function(args){return _23f._fade(_23e({end:0},args));};_23f._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _258=function(_259){this._properties=_259;for(var p in _259){var prop=_259[p];if(prop.start instanceof _23b){prop.tempColor=new _23b();}}};_258.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_25a=prop.start;if(_25a instanceof _23b){ret[p]=_23b.blendColors(_25a,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_25a)){ret[p]=((prop.end-_25a)*r)+_25a+(p!="opacity"?prop.units||"px":0);}}}return ret;};_23f.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _242(args);_23c.after(anim,"beforeBegin",lang.hitch(anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_23e({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _25b=(p.toLowerCase().indexOf("color")>=0);function _25c(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_23d.get(node,p);return (p=="opacity")?+v:(_25b?v:parseFloat(v));};if(!("end" in prop)){prop.end=_25c(n,p);}else{if(!("start" in prop)){prop.start=_25c(n,p);}}if(_25b){prop.start=new _23b(prop.start);prop.end=new _23b(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _258(pm);}),true);_23c.after(anim,"onAnimate",lang.hitch(_23d,"set",anim.node),true);return anim;};_23f.anim=function(node,_25d,_25e,_25f,_260,_261){return _23f.animateProperty({node:node,duration:_25e||_242.prototype.duration,properties:_25d,easing:_25f,onEnd:_260}).play(_261||0);};if(1){_23e(dojo,_23f);dojo._Animation=_242;}return _23f;});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_262,_263,_264,_265,lang){function _266(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_267,dim){var _268=_267.resize?_267.resize(dim):_264.setMarginBox(_267.domNode,dim);if(_268){lang.mixin(_267,_268);}else{lang.mixin(_267,_264.getMarginBox(_267.domNode));lang.mixin(_267,dim);}};var _269={marginBox2contentBox:function(node,mb){var cs=_265.getComputedStyle(node);var me=_264.getMarginExtents(node,cs);var pb=_264.getPadBorderExtents(node,cs);return {l:_265.toPixelValue(node,cs.paddingLeft),t:_265.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_26a,dim,_26b,_26c,_26d){dim=lang.mixin({},dim);_263.add(_26a,"dijitLayoutContainer");_26b=_262.filter(_26b,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_262.filter(_26b,function(item){return item.region=="center"||item.layoutAlign=="client";}));_262.forEach(_26b,function(_26e){var elm=_26e.domNode,pos=(_26e.region||_26e.layoutAlign);if(!pos){throw new Error("No region setting for "+_26e.id);}var _26f=elm.style;_26f.left=dim.l+"px";_26f.top=dim.t+"px";_26f.position="absolute";_263.add(elm,"dijitAlign"+_266(pos));var _270={};if(_26c&&_26c==_26e.id){_270[_26e.region=="top"||_26e.region=="bottom"?"h":"w"]=_26d;}if(pos=="leading"){pos=_26e.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_26e.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_270.w=dim.w;size(_26e,_270);dim.h-=_26e.h;if(pos=="top"){dim.t+=_26e.h;}else{_26f.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_270.h=dim.h;size(_26e,_270);dim.w-=_26e.w;if(pos=="left"){dim.l+=_26e.w;}else{_26f.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_26e,dim);}}}});}};lang.setObject("dijit.layout.utils",_269);return _269;});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_271,_272,dom,_273,has,_274,_275,_276,put){_276("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _277="dgrid-row-odd",_278="dgrid-row-even",_279,_27a;function byId(id){return document.getElementById(id);};function _27b(_27c){_27c.className="";document.body.removeChild(_27c);};function _27d(_27e,_27f){put(document.body,_27e,".dgrid-scrollbar-measure");var size=_27e["offset"+_27f]-_27e["client"+_27f];_27b(_27e);return size;};has.add("dom-scrollbar-width",function(_280,doc,_281){return _27d(_281,"Width");});has.add("dom-scrollbar-height",function(_282,doc,_283){return _27d(_283,"Height");});has.add("dom-rtl-scrollbar-left",function(_284,doc,_285){var div=put("div"),_286;put(document.body,_285,".dgrid-scrollbar-measure[dir=rtl]");put(_285,div);_286=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_27b(_285);put(div,"!");_285.removeAttribute("dir");return _286;});var _287=0;function _288(){return "dgrid_"+_287++;};var _289=/ +/g;function _28a(cls){var _28b=cls?"."+cls.replace(_289,"."):"";if(this._class){_28b="!"+this._class.replace(_289,"!")+_28b;}put(this.domNode,_28b);this._class=cls;};function _28c(){return this._class;};var _28d=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _28e(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _28f(_290){if(typeof _290.x!=="undefined"){this.bodyNode.scrollLeft=_290.x;}if(typeof _290.y!=="undefined"){this.bodyNode.scrollTop=_290.y;}};return _272(has("touch")?_275:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_291,_292){var grid=this;(this._Row=function(id,_293,_294){this.id=id;this.data=_293;this.element=_294;}).prototype.remove=function(){grid.removeRow(this.element);};if(_292){this.srcNodeRef=_292=_292.nodeType?_292:byId(_292);}this.create(_291,_292);},listType:"list",create:function(_295,_296){var _297=this.domNode=_296||put("div"),cls;if(_295){this.params=_295;_272.safeMixin(this,_295);cls=_295["class"]||_295.className||_297.className;this._sort=_295.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_297.id=_297.id||this.id||_288();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_28a.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _298=this.domNode,_299=this.addUiClasses,self=this,_29a,_29b,_29c,_29d,_29e;_29e=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_298.className="";put(_298,"[role=grid].dgrid.dgrid-"+this.listType+(_299?".ui-widget":""));_29a=this.headerNode=put(_298,"div.dgrid-header.dgrid-header-row"+(_299?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_29b=put(_298,"div.dgrid-spacer");}_29c=this.bodyNode=put(_298,"div.dgrid-scroller");if(has("ff")){_29c.tabIndex=-1;}this.headerScrollNode=put(_298,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_299?".ui-widget-header":""));_29d=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_298,_29d);if(_29e){_298.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_273(_29c,"scroll",function(_29f){if(self.showHeader){_29a.scrollLeft=_29f.scrollLeft||_29c.scrollLeft;}_29f.stopPropagation();_273.emit(_298,"scroll",{scrollTarget:_29c});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_299?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_273(window,"resize",_274.throttleDelayed(_28d,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _2a0=this.bodyNode,_2a1=this.headerNode,_2a2=this.footerNode,_2a3=_2a1.offsetHeight,_2a4=this.showFooter?_2a2.offsetHeight:0,_2a5=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_2a0.style.marginTop=_2a3+"px";_2a0.style.marginBottom=_2a4+"px";if(_2a5){_2a0.style.height="";_2a0.style.height=Math.max((this.domNode.offsetHeight-_2a3-_2a4),0)+"px";if(_2a4){_2a2.style.bottom="1px";setTimeout(function(){_2a2.style.bottom="";},0);}}if(!_279){_279=has("dom-scrollbar-width");_27a=has("dom-scrollbar-height");if(has("ie")){_279++;_27a++;}_274.addCssRule(".dgrid-scrollbar-width","width: "+_279+"px");_274.addCssRule(".dgrid-scrollbar-height","height: "+_27a+"px");if(_279!=17&&!_2a5){_274.addCssRule(".dgrid-header-row","right: "+_279+"px");_274.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_279+"px");}}if(_2a5){_2a1.style.width=_2a0.clientWidth+"px";setTimeout(function(){_2a1.scrollLeft=_2a0.scrollLeft;},0);}},addCssRule:function(_2a6,css){var rule=_274.addCssRule(_2a6,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_2a7,_2a8){var _2a9=_273(this.domNode,_2a7,_2a8);if(!has("dom-addeventlistener")){this._listeners.push(_2a9);}return _2a9;},cleanup:function(){var _2aa=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _2ab=byId(i);if(_2ab){this.removeRow(_2ab,true);}}}for(i=0;i<_2aa.length;i++){var _2ac=_2aa[i];_2ac&&_2ac.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_2ad,_2ae,_2af,i,_2b0){if(_2ae){var row=this.insertRow(_2ad,_2ae,_2af,i,_2b0);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_2b1){var next=_2b1;var _2b2=next.rowIndex;if(_2b2>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_2b2%2==1?_277:_278)+"!"+(_2b2%2==0?_277:_278));}}next.rowIndex=_2b2++;}}while((next=next.nextSibling)&&next.rowIndex!=_2b2);}},renderArray:function(_2b3,_2b4,_2b5){_2b5=_2b5||{};var self=this,_2b6=_2b5.start||0,_2b7=this.observers,rows,_2b8,_2b9;if(!_2b4){this._lastCollection=_2b3;}if(_2b3.observe){self._numObservers++;var _2ba=_2b3.observe(function(_2bb,from,to){var row,_2bc,_2bd,_2be;function _2bf(){_2bd=(_2bd.connected||_2bd).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_2b8){_2bc=row.nextSibling;if(_2bc){if(from!=to){_2bc.rowIndex--;}}self.removeRow(row);}_2b5.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_2bd=rows[to];_2bd=_2bd&&_2c0(_2bd);}else{_2bd=rows[to-1];if(_2bd){_2bd=_2c0(_2bd);_2bf();}}}else{_2bd=self._getFirstRowSibling&&self._getFirstRowSibling(_2b8);}if(row&&_2bd&&row.id===_2bd.id){_2bf();}if(_2bd&&!_2bd.parentNode){_2bd=byId(_2bd.id);}_2be=(_2b4&&_2b4.parentNode)||(_2bd&&_2bd.parentNode)||self.contentNode;row=self.newRow(_2bb,_2be,_2bd,_2b5.start+to,_2b5);if(row){row.observerIndex=_2b9;rows.splice(to,0,row);if(!_2bc||to<from){var _2c1=row.previousSibling;_2bc=!_2c1||_2c1.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_2c1;}}_2b5.count++;}if(from===0){_2c2(1,1);}else{if(from===_2b3.length-(to===-1?0:1)){_2c2(0,0);}}from!=to&&_2bc&&self.adjustRowIndices(_2bc);self._onNotification(rows,_2bb,from,to);},true);_2b9=_2b7.push(_2ba)-1;}var _2c3=document.createDocumentFragment(),_2c4;function _2c2(){var _2c5=arguments;if(_2b9>-1){for(var i=0;i<_2c5.length;i++){var top=_2c5[i];var _2c6=rows[top?0:rows.length-1];_2c6=_2c6&&_2c0(_2c6);if(_2c6){var row=_2c6[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_2c6){var _2c7=top?"unshift":"push";_2b3[_2c7](row.data);rows[_2c7](row.element);_2b5.count++;}}}}};function _2c0(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _2c8(_2c9){_2c4=self.insertRow(_2c9,_2c3,null,_2b6++,_2b5);_2c4.observerIndex=_2b9;return _2c4;};function _2ca(_2cb){if(typeof _2b9!=="undefined"){_2b7[_2b9].cancel();_2b7[_2b9]=0;self._numObservers--;}if(_2cb){throw _2cb;}};var _2cc;function _2cd(_2ce){_2cc=_2ce.slice(0);_2b8=_2b4?_2b4.parentNode:self.contentNode;if(_2b8&&_2b8.parentNode&&(_2b8!==self.contentNode||_2ce.length)){_2b8.insertBefore(_2c3,_2b4||null);_2c4=_2ce[_2ce.length-1];_2c4&&self.adjustRowIndices(_2c4);}else{if(_2b7[_2b9]&&self.cleanEmptyObservers){_2ca();}}rows=_2ce;if(_2ba){_2ba.rows=rows;}};if(_2b3.map){rows=_2b3.map(_2c8,console.error);if(rows.then){return _2b3.then(function(_2cf){_2b3=_2cf;return rows.then(function(_2d0){_2cd(_2d0);_2c2(1,1,0,0);return _2cc;});});}}else{rows=[];for(var i=0,l=_2b3.length;i<l;i++){rows[i]=_2c8(_2b3[i]);}}_2cd(rows);_2c2(1,1,0,0);return _2cc;},_onNotification:function(rows,_2d1,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_2d2,_2d3,_2d4,i,_2d5){var _2d6=_2d5.parentId,id=this.id+"-row-"+(_2d6?_2d6+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_2d2):this._autoId++),row=byId(id),_2d7=row&&row.previousSibling;if(row){if(row===_2d4){_2d4=(_2d4.connected||_2d4).nextSibling;}this.removeRow(row);}row=this.renderRow(_2d2,_2d5);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_277:_278)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_2d2;_2d3.insertBefore(row,_2d4||null);if(_2d7){this.adjustRowIndices(_2d7);}row.rowIndex=i;return row;},renderRow:function(_2d8,_2d9){return put("div",""+_2d8);},removeRow:function(_2da,_2db){_2da=_2da.element||_2da;delete this._rowIdToObject[_2da.id];if(!_2db){put(_2da,"!");}},row:function(_2dc){var id;if(_2dc instanceof this._Row){return _2dc;}if(_2dc.target&&_2dc.target.nodeType){_2dc=_2dc.target;}if(_2dc.nodeType){var _2dd;do{var _2de=_2dc.id;if((_2dd=this._rowIdToObject[_2de])){return new this._Row(_2de.substring(this.id.length+5),_2dd,_2dc);}_2dc=_2dc.parentNode;}while(_2dc&&_2dc!=this.domNode);return;}if(typeof _2dc=="object"){id=this.store.getIdentity(_2dc);}else{id=_2dc;_2dc=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_2dc,byId(this.id+"-row-"+id));},cell:function(_2df){return {row:this.row(_2df)};},_move:function(item,_2e0,_2e1,_2e2){var _2e3,_2e4,_2e5;_2e5=_2e4=item.element;_2e0=_2e0||1;do{if((_2e3=_2e4[_2e0<0?"previousSibling":"nextSibling"])){do{_2e4=_2e3;if(_2e4&&(_2e4.className+" ").indexOf(_2e1+" ")>-1){_2e5=_2e4;_2e0+=_2e0<0?1:-1;break;}}while((_2e3=(!_2e2||!_2e4.hidden)&&_2e4[_2e0<0?"lastChild":"firstChild"]));}else{_2e4=_2e4.parentNode;if(!_2e4||_2e4===this.bodyNode||_2e4===this.headerNode){break;}}}while(_2e0);return _2e5;},up:function(row,_2e6,_2e7){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(_2e6||1),"dgrid-row",_2e7));},down:function(row,_2e8,_2e9){if(!row.element){row=this.row(row);}return this.row(this._move(row,_2e8||1,"dgrid-row",_2e9));},scrollTo:has("touch")?function(_2ea){return this.useTouchScroll?this.inherited(arguments):_28f.call(this,_2ea);}:_28f,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_28e.call(this);}:_28e,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for getting "+name);}return this[name];},set:function(name,_2eb){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for setting "+name);}this[name]=_2eb;}}return this;},_getClass:_28c,_setClass:_28a,_getClassName:_28c,_setClassName:_28a,_setSort:function(_2ec,_2ed){this._sort=typeof _2ec!="string"?_2ec:[{attribute:_2ec,descending:_2ed}];this.refresh();if(this._lastCollection){if(_2ec.length){if(typeof _2ec!="string"){_2ed=_2ec[0].descending;_2ec=_2ec[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_2ec],bVal=b[_2ec];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_2ed?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_2ee,_2ef){_271.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_2ee,_2ef);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _2f0=this.headerNode;this.showHeader=show;put(_2f0,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_2f0.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_271.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _2f1={addOnWindowUnload:function(obj,_2f2){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_2f2));},addOnUnload:function(obj,_2f3){on(win,"beforeunload",lang.hitch(obj,_2f3));}};dojo.addOnWindowUnload=_2f1.addOnWindowUnload;dojo.addOnUnload=_2f1.addOnUnload;return _2f1;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_2f4,lang,_2f5,_2f6,_2f7,_2f8,html,_2f9,_2fa,_2fb,_2fc,dom,_2fd,_2fe,xhr,i18n,when){return _2fb("dijit.layout.ContentPane",[_2f5,_2f6,_2f7],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_2f4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_2ff,node,ctor){var self=new ctor(_2ff,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_300,_301){if((!_300||!_300.template)&&_301&&!("href" in _300)&&!("content" in _300)){_301=dom.byId(_301);var df=_301.ownerDocument.createDocumentFragment();while(_301.firstChild){df.appendChild(_301.firstChild);}_300=lang.delegate(_300,{content:df});}this.inherited(arguments,[_300,_301]);},postMixInProperties:function(){this.inherited(arguments);var _302=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_2f8.substitute(this.loadingMessage,_302);this.errorMessage=_2f8.substitute(this.errorMessage,_302);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_2fa.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_2fa.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_2fa.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_2f4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _2fc(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_2f4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _2fc(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_303){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _2fc(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _304={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_304,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_304)),_305;hand.then(function(html){_305=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _305;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_306){if(this.isLoaded){this._onUnloadHandler();}var _307=this._contentSetter;_2fa.forEach(this.getChildren(),function(_308){if(_308.destroyRecursive){_308.destroyRecursive(_306);}else{if(_308.destroy){_308.destroy(_306);}}_308._destroyed=true;});if(_307){_2fa.forEach(_307.parseResults,function(_309){if(!_309._destroyed){if(_309.destroyRecursive){_309.destroyRecursive(_306);}else{if(_309.destroy){_309.destroy(_306);}}_309._destroyed=true;}});delete _307.parseResults;}if(!_306){_2fe.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_30a){this.destroyDescendants();var _30b=this._contentSetter;if(!(_30b&&_30b instanceof html._ContentSetter)){_30b=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _30c=this.onContentError(e);try{this.containerNode.innerHTML=_30c;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _30d=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_30b.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_30d);var self=this;return when(p&&p.then?p:_30b.parseDeferred,function(){delete self._contentSetterParams;if(!_30a){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_30e){this.onLoadDeferred.reject(err);var _30f=this["on"+type+"Error"].call(this,err);if(_30e){console.error(_30e,err);}else{if(_30f){this._setContent(_30f,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_310=0,_311="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _312(_313,_314){var _315=[],_316=[{cls:0,refs:[]}],_317={},_318=1,l=_313.length,i=0,j,lin,base,top,_319,rec,name,refs;for(;i<l;++i){base=_313[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_314);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_314);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_319=lin[j].prototype;if(!_319.hasOwnProperty("declaredClass")){_319.declaredClass="uniqName_"+(_310++);}name=_319.declaredClass;if(!_317.hasOwnProperty(name)){_317[name]={count:0,refs:[],cls:lin[j]};++_318;}rec=_317[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_316[0].refs.push(top);}while(_316.length){top=_316.pop();_315.push(top.cls);--_318;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_315.push(top.cls);--_318;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_316.push(top);}}}}if(_318){err("can't build consistent linearization",_314);}base=_313[0];_315[0]=base?base._meta&&base===_315[_315.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _315;};function _31a(args,a,f){var name,_31b,_31c,_31d,meta,base,_31e,opf,pos,_31f=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_31d=args.callee;name=name||_31d.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_31c=meta.bases;pos=_31f.p;if(name!=_311){if(_31f.c!==_31d){pos=0;base=_31c[0];meta=base._meta;if(meta.hidden[name]!==_31d){_31b=meta.chains;if(_31b&&typeof _31b[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_31e=base.prototype;if(meta&&(_31e[name]===_31d&&_31e.hasOwnProperty(name)||meta.hidden[name]===_31d)){break;}}while(base=_31c[++pos]);pos=base?pos:-1;}}base=_31c[++pos];if(base){_31e=base.prototype;if(base._meta&&_31e.hasOwnProperty(name)){f=_31e[name];}else{opf=op[name];do{_31e=base.prototype;f=_31e[name];if(f&&(base._meta?_31e.hasOwnProperty(name):f!==opf)){break;}}while(base=_31c[++pos]);}}f=base&&f||op[name];}else{if(_31f.c!==_31d){pos=0;meta=_31c[0]._meta;if(meta&&meta.ctor!==_31d){_31b=meta.chains;if(!_31b||_31b.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_31c[++pos]){meta=base._meta;if(meta&&meta.ctor===_31d){break;}}pos=base?pos:-1;}}while(base=_31c[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_31f.c=f;_31f.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _320(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _321(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _322=dojo.config.isDebug?_321:_31a;function _323(cls){var _324=this.constructor._meta.bases;for(var i=0,l=_324.length;i<l;++i){if(_324[i]===cls){return true;}}return this instanceof cls;};function _325(_326,_327){for(var name in _327){if(name!=_311&&_327.hasOwnProperty(name)){_326[name]=_327[name];}}if(has("bug-for-in-skips-shadowed")){for(var _328=lang._extraNames,i=_328.length;i;){name=_328[--i];if(name!=_311&&_327.hasOwnProperty(name)){_326[name]=_327[name];}}}};function _329(_32a,_32b){var name,t;for(name in _32b){t=_32b[name];if((t!==op[name]||!(name in op))&&name!=_311){if(opts.call(t)=="[object Function]"){t.nom=name;}_32a[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _32c=lang._extraNames,i=_32c.length;i;){name=_32c[--i];t=_32b[name];if((t!==op[name]||!(name in op))&&name!=_311){if(opts.call(t)=="[object Function]"){t.nom=name;}_32a[name]=t;}}}return _32a;};function _32d(_32e){_32f.safeMixin(this.prototype,_32e);return this;};function _330(_331,_332){return _32f([this].concat(_331),_332||{});};function _333(_334,_335){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_334.length,_336;if(!(this instanceof a.callee)){return _337(a);}if(_335&&(a0&&a0.preamble||this.preamble)){_336=new Array(_334.length);_336[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_334[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_336[i]=a;}}for(i=l-1;i>=0;--i){f=_334[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_336?_336[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _338(ctor,_339){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _337(a);}if(_339){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _33a(_33b){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _337(a);}for(;f=_33b[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _33c(name,_33d,_33e){return function(){var b,m,f,i=0,step=1;if(_33e){i=_33d.length-1;step=-1;}for(;b=_33d[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _33f(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _337(args){var ctor=args.callee,t=_33f(ctor);ctor.apply(t,args);return t;};function _32f(_340,_341,_342){if(typeof _340!="string"){_342=_341;_341=_340;_340="";}_342=_342||{};var _343,i,t,ctor,name,_344,_345,_346=1,_347=_341;if(opts.call(_341)=="[object Array]"){_344=_312(_341,_340);t=_344[0];_346=_344.length-t;_341=_344[_346];}else{_344=[0];if(_341){if(opts.call(_341)=="[object Function]"){t=_341._meta;_344=_344.concat(t?t.bases:_341);}else{err("base class is not a callable constructor.",_340);}}else{if(_341!==null){err("unknown base class. Did you use dojo.require to pull it in?",_340);}}}if(_341){for(i=_346-1;;--i){_343=_33f(_341);if(!i){break;}t=_344[i];(t._meta?_325:mix)(_343,t.prototype);ctor=new Function;ctor.superclass=_341;ctor.prototype=_343;_341=_343.constructor=ctor;}}else{_343={};}_32f.safeMixin(_343,_342);t=_342.constructor;if(t!==op.constructor){t.nom=_311;_343.constructor=t;}for(i=_346-1;i;--i){t=_344[i]._meta;if(t&&t.chains){_345=mix(_345||{},t.chains);}}if(_343["-chains-"]){_345=mix(_345||{},_343["-chains-"]);}t=!_345||!_345.hasOwnProperty(_311);_344[0]=ctor=(_345&&_345.constructor==="manual")?_33a(_344):(_344.length==1?_338(_342.constructor,t):_333(_344,t));ctor._meta={bases:_344,hidden:_342,chains:_345,parents:_347,ctor:_342.constructor};ctor.superclass=_341&&_341.prototype;ctor.extend=_32d;ctor.createSubclass=_330;ctor.prototype=_343;_343.constructor=ctor;_343.getInherited=_320;_343.isInstanceOf=_323;_343.inherited=_322;_343.__inherited=_31a;if(_340){_343.declaredClass=_340;lang.setObject(_340,ctor);}if(_345){for(name in _345){if(_343[name]&&typeof _345[name]=="string"&&name!=_311){t=_343[name]=_33c(name,_344,_345[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_32f.safeMixin=_329;dojo.declare=_32f;return _32f;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_348,dojo,_349,_34a,_34b,dom,_34c,geom,_34d,_34e){if(!dojo.isAsync){_34d(0,function(){var _34f=["./fx/Toggler"];_34e(_34f);});}var _350=dojo.fx={};var _351={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _352=function(_353){this._index=-1;this._animations=_353||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_349.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_352.prototype=new _348();lang.extend(_352,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_34a.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_34a.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_354,_355){if(!this._current){this._current=this._animations[this._index=0];}if(!_355&&this._current.status()=="playing"){return this;}var _356=_34a.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_357=_34a.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_358=_34a.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_356.remove();_357.remove();_358.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_34a.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_34a.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_34a.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_359,_35a){this.pause();var _35b=this.duration*_359;this._current=null;_349.some(this._animations,function(a){if(a.duration<=_35b){this._current=a;return true;}_35b-=a.duration;return false;});if(this._current){this._current.gotoPercent(_35b/this._current.duration,_35a);}return this;},stop:function(_35c){if(this._current){if(_35c){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_34a.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_352,_351);_350.chain=function(_35d){return new _352(_35d);};var _35e=function(_35f){this._animations=_35f||[];this._connects=[];this._finished=0;this.duration=0;_349.forEach(_35f,function(a){var _360=a.duration;if(a.delay){_360+=a.delay;}if(this.duration<_360){this.duration=_360;}this._connects.push(_34a.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _34b.Animation({curve:[0,1],duration:this.duration});var self=this;_349.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_34a.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_35e,{_doAction:function(_361,args){_349.forEach(this._animations,function(a){a[_361].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_362,args){var t=this._pseudoAnimation;t[_362].apply(t,args);},play:function(_363,_364){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_365,_366){var ms=this.duration*_365;_349.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_366);});this._call("gotoPercent",arguments);return this;},stop:function(_367){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_349.forEach(this._connects,function(_368){_368.remove();});}});lang.extend(_35e,_351);_350.combine=function(_369){return new _35e(_369);};_350.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_34b.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _36a=_34c.get(node,"height");return Math.max(_36a,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_34a.after(anim,"onStop",fini,true);_34a.after(anim,"onEnd",fini,true);return anim;};_350.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_34b.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_34a.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_34a.after(anim,"onStop",fini,true);_34a.after(anim,"onEnd",fini,true);return anim;};_350.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_34c.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_34b.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_34a.after(anim,"beforeBegin",init,true);return anim;};return _350;});},"advisor/models/WeekendIndicator":function(){define(["dojo/date/stamp","./_Model"],function(_36b,_36c){return _36c.createSubclass([],{postLoad:function(_36d){this.inherited(arguments);var _36e=this._weekendDays=[];if(_36d&&_36d.dow){_36d.dow.forEach(function(dow){_36e[dow-1]=true;});}else{console.warn("WeekendIndicator request got an empty response");}},getWeekendDays:function(){return this._weekendDays.slice();},isWeekend:function(date){date=typeof date==="string"?_36b.fromISOString(date):date;return this._weekendDays[date.getDay()]||false;},isWeekendDay:function(day){return this._weekendDays[day]||false;},_getLoadUrl:function(){return this.get("forecastContextPath")+"api/rest/weekendIndicator/v1/properties/"+this.get("propertyCode");}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_36f,_370,_371,_372,lang,_373,on,has,_374,a11y){return _370("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_375){this._set("disabled",_375);_371.set(this.focusNode,"disabled",_375);if(this.valueNode){_371.set(this.valueNode,"disabled",_375);}this.focusNode.setAttribute("aria-disabled",_375?"true":"false");if(_375){this._set("hovering",false);this._set("active",false);var _376="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_36f.forEach(lang.isArray(_376)?_376:[_376],function(_377){var node=this[_377];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _378=this.own(on(this.focusNode,"focus",function(){_379.remove();_378.remove();}))[0];var _37a=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _379=this.own(on(this.ownerDocumentBody,_37a,lang.hitch(this,function(evt){_379.remove();_378.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_374.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_372.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_37b,_37c){if(this._lastValueReported==undefined&&(_37c===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_37b;}this._pendingOnChange=this._pendingOnChange||(typeof _37b!=typeof this._lastValueReported)||(this.compare(_37b,this._lastValueReported)!=0);if((this.intermediateChanges||_37c||_37c===undefined)&&this._pendingOnChange){this._lastValueReported=_37b;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_37b);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_37d,_37e,_37f,_380,_381,lang,on,has){has.add("config-bgIframe",!has("touch"));var _382=new function(){var _383=[];this.pop=function(){var _384;if(_383.length){_384=_383.pop();_384.style.display="";}else{if(has("ie")<9){var burl=_37f["dojoBlankHtmlUrl"]||_37d.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_384=document.createElement(html);}else{_384=_380.create("iframe");_384.src="javascript:\"\"";_384.className="dijitBackgroundIframe";_384.setAttribute("role","presentation");_381.set(_384,"opacity",0.1);}_384.tabIndex=-1;}return _384;};this.push=function(_385){_385.style.display="none";_383.push(_385);};}();_37e.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _386=(this.iframe=_382.pop());node.appendChild(_386);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_381.set(_386,{width:"100%",height:"100%"});}}};lang.extend(_37e.BackgroundIframe,{resize:function(node){if(this.iframe){_381.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_382.push(this.iframe);delete this.iframe;}}});return _37e.BackgroundIframe;});},"dojox/layout/Dock":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/_base/declare","dojo/_base/fx","dojo/on","dojo/_base/array","dojo/_base/sniff","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/_TemplatedMixin","dijit/_WidgetBase","dijit/BackgroundIframe","dojo/dnd/Moveable","./ContentPane","./ResizeHandle","dojo/text!./resources/FloatingPane.html","dojo/domReady!"],function(lang,_387,_388,fx,on,_389,has,_38a,dom,_38b,_38c,_38d,_38e,_38f,_390,_391,_392,_393,_394){var Dock=_388("dojox.layout.Dock",[_38f,_38e],{templateString:"<div class=\"dojoxDock\"><ul data-dojo-attach-point=\"containerNode\" class=\"dojoxDockList\"></ul></div>",_docked:[],_inPositioning:false,autoPosition:false,addNode:function(_395){var div=_38d.create("li",null,this.containerNode),node=new _396({title:_395.title,paneRef:_395},div);node.startup();return node;},startup:function(){if(this.id=="dojoxGlobalFloatingDock"||this.isFixedDock){this.own(on(window,"resize",lang.hitch(this,"_positionDock")),on(window,"scroll",lang.hitch(this,"_positionDock")));if(has("ie")){this.own(on(this.domNode,"resize",lang.hitch(this,"_positionDock")));}}this._positionDock(null);this.inherited(arguments);},_positionDock:function(e){if(!this._inPositioning){if(this.autoPosition=="south"){setTimeout(lang.hitch(this,function(){this._inPositiononing=true;var _397=_38a.getBox();var s=this.domNode.style;s.left=_397.l+"px";s.width=(_397.w-2)+"px";s.top=(_397.h+_397.t)-this.domNode.offsetHeight+"px";this._inPositioning=false;}),125);}}}});var _396=_388("dojox.layout._DockNode",[_38f,_38e],{title:"",paneRef:null,templateString:"<li data-dojo-attach-event=\"onclick: restore\" class=\"dojoxDockNode\">"+"<span data-dojo-attach-point=\"restoreNode\" class=\"dojoxDockRestoreButton\" data-dojo-attach-event=\"onclick: restore\"></span>"+"<span class=\"dojoxDockTitleNode\" data-dojo-attach-point=\"titleNode\">${title}</span>"+"</li>",restore:function(){this.paneRef.show();this.paneRef.bringToTop();this.destroy();}});return Dock;});},"advisor/widgets/TransactionLog":function(){define(["dijit/_WidgetBase","dojo/i18n!../nls/common","dijit/form/Button","dojo/_base/lang","dojo/date","dojo/date/stamp","dojo/date/locale","dojo/dom-construct","dojo/on","dojo/store/Memory","dgrid/OnDemandGrid","dgrid/Selection","widget/OverlayMixin","../util"],function(_398,i18n,_399,lang,_39a,_39b,_39c,_39d,on,_39e,_39f,_3a0,_3a1,util){function _3a2(a,b){if(a.endTime<b.endTime){return -1;}if(a.endTime>b.endTime){return 1;}return 0;};return _398.createSubclass([_3a1],{baseClass:"transaction-log",i18n:i18n,buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;var _3a3=_39d.create("div",{className:"buttons-container"},this.domNode);_39d.create("button",{innerHTML:this.i18n.refresh,type:"button",name:"refresh"},_3a3);var self=this;var _3a4=_39f.createSubclass(_3a0);this.transactionGrid=new _3a4({className:"transaction-grid",noDataMessage:this.i18n.noTransactionResults,columns:{processName:{label:this.i18n.transactionType,formatter:function(_3a5){return self.i18n[_3a5]||_3a5;}},endTime:{label:this.i18n.time,formatter:function(_3a6){var time=_39b.fromISOString(_3a6);return _39c.format(time,{timePattern:"HH:mm",datePattern:"d MMM yyyy"});}},applicableDays:{label:this.i18n.applicableDays},status:{label:this.i18n.status,renderCell:function(item,_3a7,cell){return self._renderTransactionStatus(item,cell);}},updatedBy:{label:this.i18n.eid,renderCell:function(item,_3a8,cell){return self._renderEid(item,cell);}},runId:{label:this.i18n.runId}},sort:[{attribute:"endTime",descending:true}]});this.domNode.appendChild(this.transactionGrid.domNode);this.intermediateGrid=new _39f({className:"intermediate-grid dgrid-autoheight"});this.domNode.appendChild(this.intermediateGrid.domNode);this.detailGrid=new _39f({className:"detail-grid",noDataMessage:this.i18n.noProcessResults});this.domNode.appendChild(this.detailGrid.domNode);var _3a9=_39d.create("div",{className:"buttons-container bottom"},this.domNode);_39d.create("button",{innerHTML:this.i18n.cancel,type:"button",name:"cancel"},_3a9);},postCreate:function(){this.inherited(arguments);var self=this;this.on("button:click",function(_3aa){if(this.name==="refresh"){_3aa.stopPropagation();self.refresh();}});this.transactionGrid.on("a:click",function(_3ab){_3ab.preventDefault();var row=self.transactionGrid.row(_3ab);self.transactionGrid.select(row);if(row.data.processName==="Inventory Optimization"){self._loadIntermediateTable(row.data);}else{self._loadDetailTable(row.data);}});this.intermediateGrid.on("a:click",function(_3ac){_3ac.preventDefault();var row=self.intermediateGrid.row(_3ac);var _3ad=this.getAttribute("data-subprocess");var _3ae=this.getAttribute("data-status");self._loadInventoryOptimizationTable(row.data,_3ad,_3ae);});},refresh:function(){var self=this;var _3af=this.domNode.classList;if(_3af.contains("show-detail")||_3af.contains("show-intermediate")){_3af.remove("show-detail");_3af.remove("show-intermediate");this.emit("resized",{});}return this.showOverlay(this.model.getStatusHistory().then(function(data){self.set("data",data);}));},_getApplicableDays:function(item){function _3b0(_3b1){try{var date=_39b.fromISOString(_3b1);return _39c.format(date,{selector:"date",datePattern:"d MMM yyyy"});}catch(error){console.warn("Invalid date: "+_3b1);return _3b1;}};switch(item.processName){case "REFRESH":case "Refresh":return "through "+(item.runThrough?(item.runThrough==="KGROUP_DATE"?"KGROUP":"KDATE"):"");case "CLEAR_OVERRIDES":case "PUBLISH_HURDLE_HPP":case "PUBLISH_RSTR_MARSHA":case "IMPLEMENT":case "Inventory Optimization":case "Hurdle Optimization":case "MARSHA Restriction Publish":case "RPO Optimization as part of implement":return _3b0(item.startDate)+" - "+_3b0(item.endDate);case "ADDITIONAL_DEMAND":case "PRP_BATCH":return "through KDATE";}return "";},_renderDetailStatus:function(item,cell){switch(item.processName){case "REFRESH":case "PUBLISH_HURDLE_HPP":case "Hurdle Optimization":case "Refresh":if(item.status==="S"){cell.textContent=this.i18n.success;}else{if(item.status==="F"){cell.textContent=this.i18n.failed;cell.classList.add("failed");}}break;case "RPO Optimization as part of implement":if(item.status==="S"){cell.textContent=this.i18n.completed;}else{if(item.status==="F"){cell.textContent=this.i18n.failed;cell.classList.add("failed");}}break;case "PUBLISH_RSTR_MARSHA":case "MARSHA Restriction Publish":cell.textContent=item.numFailure+" "+(item.numFailure===1?this.i18n.failure:this.i18n.failures)+" / "+item.numSuccess+" "+(item.numSuccess===1?this.i18n.success:this.i18n.successes);break;case "ADDITIONAL_DEMAND":cell.textContent=this.i18n.success;break;}},_renderIntermediateStatus:function(item,cell,_3b2){function _3b3(cell,_3b4,_3b5,_3b6,_3b7){_3b4=_3b4||0;cell=_39d.create("span",{},cell);if(_3b4>0){cell.className=_3b7;cell=_39d.create("a",{href:"#","data-subprocess":_3b2,"data-status":_3b7[0].toUpperCase()},cell);}cell.innerHTML=_3b4+" "+(_3b4===1?_3b5:_3b6);};var _3b8=util.find(item.subProcessStatus,function(_3b9){return _3b9.subProcessName===_3b2;});if(_3b8){if(_3b8.failureCount!=null||_3b8.successCount!=null){_3b3(cell,_3b8.failureCount,this.i18n.failure,this.i18n.failures,"failed");_39d.create("span",{innerHTML:" / "},cell);_3b3(cell,_3b8.successCount,this.i18n.success,this.i18n.successes,"succeeded");}}},_renderTransactionStatus:function(item,cell){switch(item.processName){case "ADDITIONAL_DEMAND":cell.textContent=this.i18n.success;break;case "REFRESH":case "PRP_BATCH":case "CLEAR_OVERRIDES":case "RPO Optimization as part of implement":case "RPO Auto Publish":if(item.status==="S"){cell.textContent=this.i18n.success;}else{if(item.status==="F"){cell.textContent=this.i18n.failed;cell.classList.add("failed");}}break;case "Inventory Optimization":case "IMPLEMENT":var link=_39d.create("a",{href:"#"},cell);switch(item.status){case "C":link.textContent=this.i18n.completedWithFailures;link.classList.add("completed");break;case "S":link.textContent=this.i18n.success;break;case "F":link.textContent=this.i18n.failed;link.classList.add("failed");break;default:link.textContent=this.i18n.inProgress;}break;case "RPO_PROCESS":case "PRP_MRM_BATCH":case "RPO_PROCESS_LOG":case "RPO MRM":case "RPO Optimization":switch(item.status){case "S":cell.textContent=this.i18n.success;break;case "F":cell.textContent=this.i18n.failed;cell.classList.add("failed");break;default:cell.textContent=this.i18n.inProgress;}break;}},_renderEid:function(item,cell){switch(item.processName){case "ADDITIONAL_DEMAND":cell.textContent=this.i18n.system;break;case "RPO MRM":case "RPO Optimization":cell.textContent=this.i18n.system;break;case "Inventory Optimization":var _3ba=item.subProcessStatus;cell.textContent=_3ba[_3ba.length-1].updatedBy;break;default:cell.textContent=item.updatedBy;break;}},_loadIntermediateTable:function(item){function _3bb(name){var _3bc=util.find(item.subProcessStatus,function(_3bd){return _3bd.subProcessName===name;});return _3bc!=null;};var self=this;var _3be={applicableDays:{label:this.i18n.applicableDays,sortable:false,get:function(item){return self._getApplicableDays(item);}}};if(_3bb("Mini-Hotel Auth")){_3be.miniHotelAuthStatus={label:this.i18n.miniHotelAuthStatus,sortable:false,renderCell:function(item,_3bf,cell){return self._renderIntermediateStatus(item,cell,"Mini-Hotel Auth");}};}if(_3bb("Room Pool Auth")){_3be.roomPoolAuthStatus={label:this.i18n.roomPoolAuthStatus,sortable:false,renderCell:function(item,_3c0,cell){return self._renderIntermediateStatus(item,cell,"Room Pool Auth");}};}if(_3bb("Reservation")){_3be.reservationStatus={label:this.i18n.reservationStatus,sortable:false,renderCell:function(item,_3c1,cell){return self._renderIntermediateStatus(item,cell,"Reservation");}};}this.intermediateGrid.set({columns:_3be,store:new _39e({data:[item],idProperty:"startTime"})});var _3c2=this.domNode.classList;if(!_3c2.contains("show-intermediate")||_3c2.contains("show-detail")){_3c2.remove("show-detail");_3c2.add("show-intermediate");this.emit("resized",{});}},_loadDetailTable:function(item){var self=this;return this.showOverlay(this.model.getTransactionLog(item.optRunId).then(function(_3c3){_3c3.forEach(function(item,_3c4){item.applicableDays=self._getApplicableDays(item);item.id=_3c4+1;});self.detailGrid.set({columns:{processName:{label:self.i18n.process,formatter:function(_3c5){return self.i18n[_3c5]||_3c5;}},applicableDays:{label:self.i18n.applicableDays},status:{label:self.i18n.status,renderCell:function(item,_3c6,cell){return self._renderDetailStatus(item,cell);}}},store:new _39e({data:_3c3})});self.domNode.classList.remove("show-intermediate");if(!self.domNode.classList.contains("show-detail")){self.domNode.classList.add("show-detail");self.emit("resized",{});}}));},_loadInventoryOptimizationTable:function(item,_3c7,_3c8){function _3c9(_3ca){return _3ca==null?"":_3ca;};var self=this;return this.showOverlay(this.model.getInventoryOptimizationLog(item.runId,_3c7,_3c8).then(function(_3cb){_3cb.forEach(function(item,_3cc){item.id=_3cc+1;item.updateType=item.processName;if((/^reservation/i).test(item.processName)){item.startTime=item.endTime;item.totalCount=item.srcToAdd;item.totalOldCount=item.srcToRemove;}if((/^mini-hotel/i).test(item.processName)){item.fieldToUpdate=item.miniHotelCode+" - "+item.roomPool;}else{if((/^reservation/i).test(item.processName)){item.fieldToUpdate=item.confoNum+" Rm"+item.roomId;}else{if((/^room pool/i).test(item.processName)){item.fieldToUpdate=item.roomPool;}else{item.fieldToUpdate=i18n.totalHotel;}}}});self.detailGrid.set({columns:{updateType:{label:self.i18n.updateType},startTime:{label:self.i18n.timeOfAttempt,formatter:function(_3cd){if(!_3cd){return "";}var _3ce=util.parseServerTimeStamp(_3cd);if(_3ce){return _39c.format(_3ce,{selector:"date",datePattern:"d MMM yyyy, HH:mm"});}return _3cd;}},inventoryDate:{label:self.i18n.inventoryDates,formatter:function(_3cf){if(!_3cf){return "";}var _3d0=_39b.fromISOString(_3cf);if(_3d0){return _39c.format(_3d0,{selector:"date",datePattern:"d MMM yy"});}return _3cf;}},fieldToUpdate:{label:self.i18n.fieldToUpdate},totalCount:{label:self.i18n.valueSent,formatter:_3c9},totalOldCount:{label:self.i18n.originalValue,formatter:_3c9}},store:new _39e({data:_3cb})});if(!self.domNode.classList.contains("show-detail")){self.domNode.classList.add("show-detail");self.emit("resized",{});}}));},_setDataAttr:function(data){this._set("data",data);this.transactionGrid.set("store",new _39e({data:data.map(function(item,_3d1){item=lang.clone(item);if(item.subProcessStatus){var _3d2=item.subProcessStatus;item.endTime=_3d2[_3d2.length-1].endTime;}item.applicableDays=this._getApplicableDays(item);item.runId=item.runId||item.optRunId;item.id=_3d1+1;if(item.processName==="Inventory Optimization"){var _3d3=item.subProcessStatus.slice().sort(_3a2);var _3d4=_3d3[_3d3.length-1].endTime;return lang.mixin(null,item,{id:item.processName+":"+_3d4,endTime:_3d4,subProcessStatus:_3d3});}return item;},this)}));}});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_3d5,_3d6,_3d7,lang,_3d8){return _3d7("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_3d8.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_3d9){this._startupWidgets=_3d9;for(var i=0;i<_3d9.length;i++){this._processTemplateNode(_3d9[i],function(n,p){return n[p];},function(_3da,type,_3db){if(type in _3da){return _3da.connect(_3da,type,_3db);}else{return _3da.on(type,_3db,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_3dc,_3dd,_3de){if(_3dd(_3dc,"dojoType")||_3dd(_3dc,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){_3d5.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"advisor/stores/DateStore":function(){define(["dojo/Evented","dojo/store/Memory"],function(_3df,_3e0){return _3e0.createSubclass([_3df],{load:function(data){this.setData(data);this.emit("load",{detail:{data:data}});},put:function(item,_3e1){_3e1=_3e1||{};if(!item.id&&!_3e1.id){_3e1.id=(item.stayDate||item.date)+"-"+item.appId;}this.inherited(arguments,[item,_3e1]);}});});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_3e2,_3e3,lang,has,win,dom,_3e4,_3e5,_3e6,on,_3e7,dnd,_3e8){return _3e3("dojo.dnd.Mover",[_3e6],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _3e9(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_3e7.move,lang.hitch(this,"onFirstMove")),on(d,_3e7.move,lang.hitch(this,"onMouseMove")),on(d,_3e7.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_3e9),on(d.body,"selectstart",_3e9)];_3e8.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_3e8.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_3e4.getMarginBox(this.node);var b=win.doc.body;var bs=_3e5.getComputedStyle(b);var bm=_3e4.getMarginBox(b,bs);var bc=_3e4.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_3e2.forEach(this.events,function(_3ea){_3ea.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"advisor/widgets/AlertPane":function(){define(["require","dijit/_WidgetBase","dojo/_base/lang","dojo/aspect","dojo/Deferred","dijit/registry","dojo/date","dojo/date/stamp","dojo/dom-construct","dojo/i18n!../nls/common","dojo/string","widget/OverlayMixin","../util","./PriorityAndWatchDates","./Actions","./Calendar","./Dialog","dojo/query"],function(_3eb,_3ec,lang,_3ed,_3ee,_3ef,_3f0,_3f1,_3f2,i18n,_3f3,_3f4,util,_3f5,_3f6,_3f7,_3f8){return _3ec.createSubclass([_3f4],{baseClass:"alert-pane",constructor:function(){this._moduleWidgetDfd=new _3ee();},buildRendering:function(){this.inherited(arguments);var _3f9=_3f2.create("div",{className:"alert-pane-heading"},this.domNode);this.titleNode=_3f2.create("div",{className:"alert-pane-title"},_3f9);this.subtitleNode=_3f2.create("div",{className:"alert-pane-subtitle"},_3f9);this.activeAlertsNode=_3f2.create("div",{className:"alert-pane-active-alert hidden"},_3f9);this.containerNode=_3f2.create("div",{className:"alert-pane-content"},this.domNode);this._buildPriorityDates();this._buildCalendar();this._buildModuleContainer();this._buildActions();this._buildActiveAlerts();},postCreate:function(){this.inherited(arguments);var self=this;this.on("button:click",function(){switch(this.getAttribute("data-action")){case "save-date":self._saveDate();break;}});this.titleNode.textContent=this.module.name;},load:function(){return this._moduleWidgetDfd.then(function(_3fa){return _3fa.load();});},_buildActions:function(){this.actions=new _3f6({appId:this.get("appId"),model:this.get("alertActionsModel"),priorityDatesStore:this.get("priorirtyDatesStore"),watchDatesStore:this.get("watchDatesStore"),actionStore:this.get("actionStore"),selectedDate:this.get("selectedDate")});this.actions.placeAt(this.containerNode);},_buildActiveAlerts:function(){_3f2.create("span",{className:"icon alert"},this.activeAlertsNode);_3f2.create("span",{className:"active-alert-button",innerHTML:"Active Alerts"},this.activeAlertsNode);},_buildCalendar:function(){var _3fb=_3f1.fromISOString(this.get("marshaDate"));_3fb=_3f0.add(_3fb,"day",1);this.calendar=new _3f7({appId:this.get("appId"),priorityDatesStore:this.get("priorirtyDatesStore"),watchDatesStore:this.get("watchDatesStore"),weekendIndicatorModel:this.get("weekendIndicatorModel"),marshaDatePlusOne:util.toISODate(_3fb),minDate:this.get("minDate"),maxDate:this.get("maxDate"),value:new Date()});this.calendar.placeAt(this.containerNode);this.set("selectedDate",util.toISODate(this.calendar.get("value")));var self=this;this.calendar.on("date-select",function(_3fc){self.set("selectedDate",_3fc.detail.date);});},_buildModuleContainer:function(){this.moduleContainer=_3f2.create("div",{className:"module"},this.containerNode);},_buildPriorityDates:function(){this.priorityDates=new _3f5({weekendIndicatorModel:this.get("weekendIndicatorModel")});this.priorityDates.placeAt(this.containerNode);var self=this;this.priorityDates.on("priority-date-selected",function(_3fd){self._selectPriorityDate(_3fd.detail.data.date);self.actions&&self.actions.set("priority",_3fd.detail.data.priority);});this.priorityDates.on("watch-date-selected",function(_3fe){self._selectWatchDate(_3fe.detail.data.date);});},_getSaveDateButtonText:function(_3ff,step){var _400=this.watchDatesStore.get(_3ff+"-"+step);return _400?i18n.editDate:i18n.saveDate;},_saveDate:function(){var _401=100;var _402=_3f2.create("div",{className:"note-pane"});_3f2.create("p",{innerHTML:_3f3.substitute(i18n.enterNote,{maxChars:_401})},_402);var _403=_3f2.create("textarea",{maxLength:_401,value:this.actions.get("watchDateText")},_402);var self=this;var _404=self.calendar.get("selectedDate");var _405=new _3f8({content:_402,title:_3f3.substitute(i18n.watchDate,{date:_404}),okButton:i18n.save,cancelButton:i18n.cancel,onExecute:function(){self.showOverlay(self.watchDatesModel.addItem({appId:self.get("appId"),appName:self.get("appName"),date:_404,notes:_403.value}));}});_405.show();},_selectPriorityDate:function(date){this._settingPriorityDate=true;this.set("selectedDate",date);this._settingPriorityDate=false;},_selectWatchDate:function(date){this._settingWatchDate=true;this.set("selectedDate",date);this._settingWatchDate=false;},_setActiveAlertsModelAttr:function(_406){this._set("activeAlertsModel",_406);var self=this;_406.on("load-complete",function(){self.set("activeAlertStatus",_406.hasAlerts(self.appId));});},_setAppIdAttr:function(_407){this._set("appId",_407);this.calendar&&this.calendar.set("appId",_407);this.actions&&this.actions.set("appId",_407);this.priorityDates&&this.priorityDates.set("appId",_407);},_setAppNameAttr:function(app){this._set("appName",app);this.domNode.setAttribute("data-app-name",app);},_setDateModel:function(_408,type){var _409=type+"DatesModel";this._set(_409,_408);this.set(type+"DatesStore",_408.get("store"));this.priorityDates&&this.priorityDates.set(_409,_408);var self=this;_408.on("load-complete",function(){setTimeout(function(){if(self.calendar){self.calendar.selectInitialDate();}});});},_setDateStore:function(_40a,type){function _40b(){self.calendar&&self.calendar.set(_40c,_40a);self.actions&&self.actions.set(_40c,_40a);self._moduleWidget&&self._moduleWidget.set(_40c,_40a);};var self=this;var _40c=type+"DatesStore";this._set(_40c,_40a);_40b();if(_40a){_40a.on("load",_40b);}},_setMinDateAttr:function(_40d){if(typeof _40d==="string"){_40d=_3f1.fromISOString(_40d);}this._set("minDate",_40d);if(this.calendar){this.calendar.set("minDate",_40d);}},_setMaxDateAttr:function(_40e){if(typeof _40e==="string"){_40e=_3f1.fromISOString(_40e);}this._set("maxDate",_40e);if(this.calendar){this.calendar.set("maxDate",_40e);}},_setModuleAttr:function(_40f){this._set("module",_40f);if(!_40f){return;}_3ef.findWidgets(this.moduleContainer).forEach(function(_410){_410.destroyRecursive();});this.moduleContainer.innerHTML="";this.set("appId",_40f.step);this.set("minDate",_40f.minDate);this.set("maxDate",_40f.maxDate);this.set("priorityDatesSort",_40f.priorityDatesSort);var self=this;_3eb([_40f.moduleId],function(_411){var mod=new _411(lang.mixin(null,_40f.properties,{appName:self.get("appName"),appId:self.get("appId"),minDate:_40f.minDate,maxDate:_40f.maxDate,priorityDatesModel:self.get("priorityDatesModel"),weekendIndicatorModel:self.get("weekendIndicatorModel"),uiOrderModel:self.get("uiOrderModel"),propertyCode:self.get("propertyCode"),loginName:self.get("loginName"),updatePrivilege:self.get("updatePrivilege"),contextPath:_40f.contextPath,forecastContextPath:self.get("forecastContextPath"),miosContextPath:self.get("miosContextPath"),dataDate:self.get("dataDate"),marshaDate:self.get("marshaDate"),selectedDate:self.get("selectedDate")}));mod.placeAt(self.moduleContainer,"first");var _412=mod.get("subtitle");if(_412){self.set("subtitle",_412);}if(self.moduleProperties){mod.set(self.moduleProperties);}self._moduleWidget=mod;self._moduleWidgetDfd.resolve(mod);mod.watch("subtitle",function(name,_413,_414){self.set("subtitle",_414);});mod.on("date-range-select",function(_415){self.calendar.set("selectedDateRange",_415.detail.range);});mod.on("calendar-reset",function(){self.calendar.selectInitialDate();});mod.on("priority-date-filter",function(_416){self.calendar&&self.calendar.set("priorityDateFilter",_416.detail.filter);self.actions&&self.actions.set("priorityDateFilter",_416.detail.filter);self.priorityDates&&self.priorityDates.set("priorityDateFilter",_416.detail.filter);});mod.on("load-complete",function(){if(self.priorityDates&&mod.getPriorityDateLabel){self.priorityDates.set("heading",mod.getPriorityDateLabel());}});mod.on("load-start",function(_417){self.showOverlay(_417.detail.promise);});if(self.calendar&&!_40f.disableWatchDates){var _418=_3f2.create("div",{className:"button-container"},self.moduleContainer);self.saveDateButton=_3f2.create("button",{innerHTML:self._getSaveDateButtonText(self.selectedDate,_40f.step),"data-action":"save-date"},_418);}if(self.priorityDates){self.priorityDates.set("disableWatchDates",_40f.disableWatchDates);}});},_setModulePropertiesAttr:function(_419){this._set("moduleProperties",_419);this._moduleWidget&&this._moduleWidget.set(_419);},_setPriorityDateItemAttr:function(item){this._moduleWidget&&this._moduleWidget.set("priorityDateItem",item);this.set("selectedDate",item.date);},_setPriorityDatesSortAttr:function(_41a){this._set("priorityDatesSort",_41a);this.priorityDates&&this.priorityDates.set("priorityDatesSort",_41a);this.calendar&&this.calendar.set("priorityDatesSort",_41a);},_setPriorityDatesModelAttr:function(_41b){this._setDateModel(_41b,"priority");},_setPriorityDatesStoreAttr:function(_41c){this._setDateStore(_41c,"priority");},_setSelectedDateAttr:function(date){if(this._settingSelectedDate){return;}this._settingSelectedDate=true;if(this.calendar&&this.calendar.get("selectedDate")!==date){this.calendar.set("selectedDate",date);}if(this.priorityDates&&this.priorityDates.get("selectedDate")!==date){this.priorityDates.set("selectedDate",date);}if(this.saveDateButton){this.saveDateButton.innerHTML=this._getSaveDateButtonText(date,this.module.step);}this.actions&&this.actions.set("selectedDate",date);if(this._moduleWidget){var type;if(this._settingPriorityDate){type="priority";}else{if(this._settingWatchDate){type="watch";}}this._moduleWidget.set({selectedDateType:type,selectedDate:date});}this._settingSelectedDate=false;this._set("selectedDate",date);},_setActiveAlertStatusAttr:function(_41d){this.activeAlertsNode.classList[_41d?"remove":"add"]("hidden");},_setSubtitleAttr:function(_41e){_3ef.findWidgets(this.subtitleNode).forEach(function(_41f){_41f.destroyRecursive();});this.subtitleNode.innerHTML="";if(_41e){if(typeof _41e==="string"){_3f2.create("span",{className:"subtitle",innerHTML:_41e},this.subtitleNode);}else{if(_41e.domNode){_41e.placeAt(this.subtitleNode);}else{this.subtitleNode.appendChild(_41e);}}}},_setWatchDatesModelAttr:function(_420){this._setDateModel(_420,"watch");},_setWatchDatesStoreAttr:function(_421){this._setDateStore(_421,"watch");},_setWeekendIndicatorModelAttr:function(_422){this._set("weekendIndicatorModel",_422);this.calendar&&this.calendar.set("weekendIndicatorModel",_422);this._moduleWidget&&this._moduleWidget.set("weekendIndicatorModel",_422);},_setActionStore:function(_423){this._set("actionStore",_423);this.actions&&this.actions.set("actionStore",_423);},_setUiOrderModel:function(_424){this._set("uiOrderModel",_424);this._moduleWidget&&this._moduleWidget.set("uiOrderModel",_424);}});});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_425,lang,_426,when){return _425("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_427){if(_427){this.set(_427);}},_get:function(name,_428){return typeof this[_428.g]==="function"?this[_428.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_429){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _42a=this._getAttrNames(name),_42b=this._get(name,_42a),_42c=this[_42a.s],_42d;if(typeof _42c==="function"){_42d=_42c.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_429;}if(this._watchCallbacks){var self=this;when(_42d,function(){self._watchCallbacks(name,_42b,_429);});}return this;},_changeAttrValue:function(name,_42e){var _42f=this.get(name);this[name]=_42e;if(this._watchCallbacks){this._watchCallbacks(name,_42f,_42e);}return this;},watch:function(name,_430){var _431=this._watchCallbacks;if(!_431){var self=this;_431=this._watchCallbacks=function(name,_432,_433,_434){var _435=function(_436){if(_436){_436=_436.slice();for(var i=0,l=_436.length;i<l;i++){_436[i].call(self,name,_432,_433);}}};_435(_431["_"+name]);if(!_434){_435(_431["*"]);}};}if(!_430&&typeof name==="function"){_430=name;name="*";}else{name="_"+name;}var _437=_431[name];if(typeof _437!=="object"){_437=_431[name]=[];}_437.push(_430);var _438={};_438.unwatch=_438.remove=function(){var _439=_426.indexOf(_437,_430);if(_439>-1){_437.splice(_439,1);}};return _438;}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_43a,lang,when){var _43b=function(_43c){if(!_43c){return _43c;}var _43d=!!_43c.then;if(_43d){_43c=lang.delegate(_43c);}function _43e(_43f){_43c[_43f]=function(){var args=arguments;var _440=when(_43c,function(_441){Array.prototype.unshift.call(args,_441);return _43b(_43a[_43f].apply(_43a,args));});if(_43f!=="forEach"||_43d){return _440;}};};_43e("forEach");_43e("filter");_43e("map");if(_43c.total==null){_43c.total=when(_43c,function(_442){return _442.length;});}return _43c;};lang.setObject("dojo.store.util.QueryResults",_43b);return _43b;});},"widget/MessageConsole":function(){define("widget/MessageConsole",["dojo","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/layout/FloatingPane","dijit/form/Button","dojo/_base/lang","dojo/aspect","widget/MessageConsolePane"],function(dojo,_443,_444,_445,_446,_447,lang,_448,_449){dojo.declare("widget.MessageConsole",[dijit._WidgetBase,dijit._TemplatedMixin,dijit._WidgetsInTemplateMixin],{label:"",count:0,consolePane:null,consoleDock:null,widgetsInTemplate:true,templateString:"<span><div data-dojo-type='widget.MessageConsolePane' data-dojo-attach-point='consolePane'></div>"+"<div data-dojo-type='dijit.form.Button' data-dojo-attach-point='consoleDock' label='0 Message(s)' style='font-size: 0.625em; z-index: 9999; "+"position: fixed; bottom: 0px; right: 0px;' data-dojo-attach-event='onClick: undock'></div></span>",focus:function(){this.inherited(arguments);},preamble:function(){this.inherited(arguments);},constructor:function(){},postMixInProperties:function(){this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);},startup:function(){_448.around(this.consolePane,"minimize",lang.hitch(this,function(_44a){var _44b=this.consolePane;return lang.hitch(_44b,function(){_44b.domNode.style.display="none";});}));this.inherited(arguments);this.dock();},addMessages:function(_44c,show,_44d){if(_44d){this.consolePane.destroyDescendants();this.count=0;}if(dojo.isArray(_44c)){dojo.forEach(_44c,dojo.hitch(this,function(msg,i){var a=document.createElement("div");dojo.html.set(a,msg);this.consolePane.containerNode.appendChild(a);this.count++;}));}else{var a=document.createElement("div");dojo.html.set(a,_44c);this.consolePane.containerNode.appendChild(a);this.count++;}this.consolePane.set("title",this.count+" message(s)");this.consoleDock.set("label",this.count+" message(s)");if(show){this.undock();}},dock:function(){this.consolePane.domNode.style.display="none";},undock:function(){var size={w:395,h:195};var _44e=dojo.window.getBox();var x=(_44e.w/2)-(size.w/2);var y=(_44e.h/2)-(size.h/2);dojo.style(this.consolePane.domNode,{top:y+"px",left:x+"px",width:"405px",height:"205px",zIndex:1500,display:"block"});this.consolePane.resize({w:"405",h:"205"});dojo.window.scrollIntoView(this.consolePane.domNode);}});return widget.MessageConsole;});},"advisor/widgets/Advisor":function(){define(["dijit/_WidgetBase","dijit/registry","dojo/_base/lang","dojo/dom-construct","dojo/i18n!../nls/common","dojo/promise/all","./AlertPane","./MultiAlertPane","./DetailPane","./Dialog","./Tab","./TransactionLog","../models/PriorityDates","../models/WatchDates","../models/UiOrder","../models/AlertActions","../models/ActiveAlerts","../models/TransactionLog","../models/WeekendIndicator","widget/OverlayMixin","dojo/query"],function(_44f,_450,lang,_451,i18n,all,_452,_453,_454,_455,Tab,_456,_457,_458,_459,_45a,_45b,_45c,_45d,_45e){return _44f.createSubclass([_45e],{baseClass:"advisor",constructor:function(){this._detailPanes={};this._advisorId=0;this._detailProperties={};},buildRendering:function(){this.inherited(arguments);var _45f=this.containerNode=this.domNode;var _460=_451.create("div",{className:"tab-area"},_45f);this.tabs=_451.create("div",{className:"tabs"},_460);this.tabButtons=_451.create("div",{className:"tab-buttons"},_460);this.transactionLogButton=_451.create("span",{className:"icon alert-button","data-advisor-action":"toggle-transaction-log"},this.tabButtons);this.tabContainer=_451.create("div",{className:"tab-container"},_45f);var _461=_451.create("div",{className:"tab-container-inner"},this.tabContainer);this.previousAlertPane=_451.create("div",{className:"sidebar sidebar-left"},_461);var _462=_451.create("div",{className:"arrow-container","data-advisor-action":"previous-advisor"},this.previousAlertPane);_451.create("span",{className:"icon left-arrow-large"},_462);_451.create("div",{className:"arrow-heading",innerHTML:i18n.previous},_462);this.previousAlertPaneLabel=_451.create("div",{className:"arrow-label"},_462);this.alertPaneContainer=_451.create("div",{className:"alert-panes"},_461);this.nextAlertPane=_451.create("div",{className:"sidebar sidebar-right"},_461);_462=_451.create("div",{className:"arrow-container","data-advisor-action":"next-advisor"},this.nextAlertPane);_451.create("span",{className:"icon right-arrow-large"},_462);_451.create("div",{className:"arrow-heading",innerHTML:i18n.next},_462);this.nextAlertPaneLabel=_451.create("div",{className:"arrow-label"},_462);var _463=this.openCloseBar=_451.create("div",{className:"open-close-bar"},this.tabContainer);var _464=this.detailOpener=_451.create("div",{className:"detail-opener","data-advisor-action":"toggle-detail"},_463);var _465=_451.create("div",{className:"detail-opener-action"},_464);_451.create("span",{className:"detail-opener-label",innerHTML:i18n.goTo},_465);_451.create("span",{className:"detail-refresh-label",innerHTML:i18n.refresh},_465);_451.create("span",{className:"icon down-arrow-large"},_464);this.openDetailName=_451.create("span",{className:"detail-opener-app"},_464);this.refreshDetailName=_451.create("span",{className:"detail-opener-refresh-app"},_464);_451.create("span",{className:"icon up-arrow-small","data-advisor-action":"collapse-advisor"},_463);this.detailContainer=_451.create("div",{className:"detail-container"},_45f);},postCreate:function(){this.inherited(arguments);var self=this;this.on("[data-advisor-action]:mousedown",function(_466){_466.preventDefault();});this.on("[data-advisor-action]:click",function(){if(this.classList.contains("disabled")){return;}switch(this.getAttribute("data-advisor-action")){case "previous-advisor":self._selectPreviousAlertPane();break;case "next-advisor":self._selectNextAlertPane();break;case "collapse-advisor":self._setAlertPaneCollapsed(true);break;case "toggle-detail":if(self._detailNeedsRefresh()){self._refreshDetailPane();}else{self._toggleDetailPane();}break;case "toggle-transaction-log":self.emit("toggle-transaction-log",{});break;}});this.on(".active-alert-button:click",function(){self._toggleTransactionLog();});this.on("toggle-transaction-log",function(){self._toggleTransactionLog();});this.on("navigate-to",function(_467){var item=_467.detail.priorityDateItem;var _468=self._getAdvisorId(item.appId);self._selectAlertPane(_468);var _469=self._getAlertPane();_469.set("priorityDateItem",item);});this.on("date-select",function(_46a){var _46b=self._getAdvisorId(_46a.detail.appId);var _46c=self.domNode.getAttribute("data-selected-detail");if(_46c===_46b){var _46d=self._getAdvisorConfig(_46b);switch(_46d.detail.refreshOnDateChange){case true:self._setDetailNeedsRefresh(true);break;case "immediate":self._refreshDetailPane();break;}}});this.on("detail-properties",function(_46e){var _46f=self._getAdvisorId(_46e.detail.widget.appId);var _470=self._detailProperties[_46f];self._detailProperties[_46f]=lang.mixin(_470,_46e.detail.properties);var _471=self.domNode.getAttribute("data-selected-detail");if(_471===_46f){self._setDetailNeedsRefresh(true);}});this.on("navigate-step",function(_472){var _473=_472.detail.step;var _474=self._getAdvisorId(_473);self._selectAlertPane(_474);var _475=self._getAlertPane();_475.set("selectedDate",_472.detail.date);self._selectTab(_474);var _476=self._getDetailPane();_476.set("selectedDate",_472.detail.date);});this.on("implement",function(){self.transactionLogButton.classList.add("on");});},startup:function(){if(!this._started){this.inherited(arguments);var _477=this.domNode;_477.classList.add("advisor-loading");var self=this;this.showOverlay(all([this.uiOrderModel.load(),this.priorityDatesModel.load(),this.watchDatesModel.load(),this.activeAlertsModel.load()])).always(function(){_477.classList.remove("advisor-loading");self.weekendIndicatorModel.load();self._getAdvisorIds().forEach(function(id){self._getAlertPane(id).load();});});}},_createAlertPane:function(_478){var self=this;var _479=_478.name||_478.module.name;var _47a={index:Number(_478._id)+1,advisorId:_478._id,activeAlertsModel:this.activeAlertsModel,priorityDatesStore:this.priorityDatesModel.get("store"),label:_479,disabled:_478.detail==null};var _47b={appName:_479,alertActionsModel:this.alertActionsModel,activeAlertsModel:this.activeAlertsModel,uiOrderModel:this.uiOrderModel,priorityDatesModel:this.priorityDatesModel,watchDatesModel:this.watchDatesModel,weekendIndicatorModel:this.weekendIndicatorModel,propertyCode:this.config.propertyCode,loginName:this.config.loginName,updatePrivilege:this.config.updatePrivilege,marshaDate:this.config.marshaDate,forecastContextPath:this.config.forecastContextPath,miosContextPath:this.config.miosContextPath,dataDate:this.config.dataDate};var _47c;if(_478.modules){_47b.modules=_478.modules;_47c=new _453(_47b);if(_478.name==="Rates"&&this.config.isPRPProperty==="N"){_47c.domNode.classList.add("nonPRP");}_47a.appName=_478.modules.map(function(_47d){return _47d.name;});_47a.appId=_478.modules.map(function(_47e){return _47e.step;});}else{_47b.module=_478.module;_47c=new _452(_47b);_47a.appName=_479;_47a.appId=_478.module.step;}var tab=new Tab(_47a);tab.on("click-tab",function(){if(!self._isAlertPaneCollapsed()){self._selectAlertPane(tab.get("advisorId"));}self._selectTab(tab.get("advisorId"));});tab.on("click-alert",function(){self._selectAlertPane(tab.get("advisorId"));});tab.placeAt(this.tabs);_47c.domNode.setAttribute("data-advisor-id",_478._id);_47c.placeAt(this.alertPaneContainer);},_createDetailPane:function(_47f){var pane=new _454(_47f.detail);var _480=this._getAlertPane(_47f._id);var _481=lang.mixin(null,pane.get("context"),{marshaDate:this.config.marshaDate,kGroup:this.config.kGroup,kDate:this.config.kDate,propertyCode:this.config.propertyCode,loginName:this.config.loginName,userId:this.config.userId,privilegeLevel:this.config.privilegeLevel,digest:this.config.digest,updatePrivilege:this.config.updatePrivilege});pane.set({context:_481,selectedDate:_480.get("selectedDate")});pane.domNode.setAttribute("data-advisor-id",_47f._id);pane.placeAt(this.detailContainer);pane.startup();pane.on("app-properties-change",function(_482){_480.set("moduleProperties",_482.detail.properties);});var self=this;pane.loaded().then(function(){var _483=self._detailProperties[_47f._id];if(_483){pane.set("appProperties",_483);}});},_detailNeedsRefresh:function(){return this.domNode.classList.contains("detail-expanded")&&this.domNode.classList.contains("detail-refresh");},_getAdvisorConfig:function(id){var _484=this.config;if(_484&&_484.advisors){for(var i=0;i<_484.advisors.length;i++){if(_484.advisors[i]._id===id){return _484.advisors[i];}}}},_getAdvisorId:function(_485){var _486=this.config;if(_486&&_486.advisors){for(var i=0;i<_486.advisors.length;i++){var _487=_486.advisors[i];if(_487.step===_485||(_487.module&&_487.module.step===_485)){return _487._id;}else{if(_487.modules&&_487.modules.some(function(_488){return _488.step===_485;})){return _487._id;}}}}},_getAdvisorIds:function(){if(!this._advisorIds){var _489=this.config;if(_489&&_489.advisors){this._advisorIds=_489.advisors.map(function(_48a){return _48a._id;});}else{this._advisorIds=[];}}return this._advisorIds;},_getDetailPane:function(_48b){if(_48b==null){_48b=this.domNode.getAttribute("data-selected-detail");}var _48c=this.detailContainer.querySelector("[data-advisor-id=\""+_48b+"\"]");if(_48c){return _450.byNode(_48c);}},_getAlertPane:function(_48d){if(_48d==null){_48d=this.domNode.getAttribute("data-selected-alert");}var _48e=this.alertPaneContainer.querySelector("[data-advisor-id=\""+_48d+"\"]");if(_48e){var _48f=_450.byNode(_48e);return _48f;}},_refreshDetailPane:function(){var _490=this._getDetailPane();var _491=this._getAlertPane();var _492=_490.domNode.getAttribute("data-advisor-id");if(_491.domNode.getAttribute("data-advisor-id")===_492){_490.set("selectedDate",_491.get("selectedDate"));}var _493=this._detailProperties[_492];if(_493){_490.set("appProperties",_493);}this._setDetailNeedsRefresh(false);},_selectAlertPane:function(id){this.domNode.setAttribute("data-selected-alert",id);this._setAlertPaneCollapsed(false);var _494=this._getAdvisorConfig(id);if(_494.detail){this.domNode.classList.remove("alert-only");this.openDetailName.textContent=_494.detail.name||_494.name;}else{this.domNode.classList.add("alert-only");}var pane=_450.byNode(this.domNode.querySelector(".alert-panes [data-advisor-id=\""+id+"\"]"));this._paneHandle&&this._paneHandle.remove();this._paneHandle=pane.watch("selectedPane",function(attr,_495,_496){if(_496&&_496.params&&_496.params.module&&_496.params.module.hideDetail){this.domNode.classList.add("alert-only");}else{this.domNode.classList.remove("alert-only");}}.bind(this));var _497=pane.get("selectedPane");if(_497&&_497.module&&_497.module.hideDetail){this.domNode.classList.add("alert-only");}var ids=this._getAdvisorIds();var _498=ids.indexOf(id);this._updatePreviousAndNext(_498);var _499=this.tabs.querySelectorAll(".active");for(var i=0;i<_499.length;i++){_499[i].classList.remove("active");}this.tabs.querySelector("[data-advisor-id=\""+id+"\"]").classList.add("active");this._refreshStyles();},_selectDetailPane:function(id){this.domNode.classList.remove("detail-refresh");if(id==null){id=this.domNode.getAttribute("data-selected-alert");}var _49a=this._getDetailPane();if(_49a){if(_49a.isDirty&&_49a.isDirty()){if(confirm(i18n.unsavedChanges)){_49a.revert&&_49a.revert();}else{return;}}_49a.removeTopButtons();}this.domNode.setAttribute("data-selected-detail",id);var _49b=this._getDetailPane(id);if(!_49b){this._createDetailPane(this._getAdvisorConfig(id));_49b=this._getDetailPane(id);}var self=this;_49b.loaded().then(function(){var id=self.domNode.getAttribute("data-selected-detail");var _49c=self._getAdvisorConfig(id);if(_49c.detail.name===_49b.get("name")){_49b.addTopButtons(self.tabButtons);}if(_49c.detail.revertOnLoad){return _49b.revert();}}).then(function(){self._refreshDetailPane();});this._refreshStyles();},_refreshStyles:function(){if(this.domNode.classList.contains("detail-expanded")&&this.domNode.getAttribute("data-selected-detail")!==this.domNode.getAttribute("data-selected-alert")){this.domNode.classList.add("mismatch");}else{this.domNode.classList.remove("mismatch");}},_selectPreviousAlertPane:function(){var ids=this._getAdvisorIds();if(!ids){return;}var _49d=this.domNode.getAttribute("data-selected-alert");if(_49d){var _49e=ids.indexOf(_49d);if(_49e>0){_49e--;this._selectAlertPane(ids[_49e]);}}},_selectNextAlertPane:function(){var ids=this._getAdvisorIds();if(!ids){return;}var _49f=this.domNode.getAttribute("data-selected-alert");if(_49f){var _4a0=ids.indexOf(_49f);if(_4a0<ids.length-1){_4a0++;this._selectAlertPane(ids[_4a0]);}}else{this._selectAlertPane(ids[0]);}},_selectTab:function(id){this.domNode.classList.add("detail-expanded");this._selectDetailPane(id);},_setAlertPaneCollapsed:function(_4a1){this.domNode.classList[_4a1?"remove":"add"]("alert-expanded");},_isAlertPaneCollapsed:function(){return !this.domNode.classList.contains("alert-expanded");},_setConfigAttr:function(_4a2){this._set("config",_4a2);this._advisorIds=null;if(_4a2&&_4a2.advisors){var _4a3;var _4a4;var _4a5={};var _4a6={};var _4a7={};this.priorityDatesModel=new _457(lang.clone(_4a2));this.watchDatesModel=new _458(lang.clone(_4a2));this.uiOrderModel=new _459(lang.clone(_4a2));this.alertActionsModel=new _45a(lang.clone(_4a2));this.activeAlertsModel=new _45b(lang.clone(_4a2));this.weekendIndicatorModel=new _45d(lang.clone(_4a2));_4a2.advisors.forEach(function(_4a8){function _4a9(_4aa){var _4ab=_4aa.minDate;if(_4ab){if(!_4a3||_4ab<_4a3){_4a3=_4ab;}}var _4ac=_4aa.maxDate;if(_4ac){if(!_4a4||_4ac>_4a4){_4a4=_4ac;}}if(_4aa.step){_4a5[_4aa.step]=_4aa.name;_4a6[_4aa.step]=_4aa.minDate;_4a7[_4aa.step]=_4aa.maxDate;}};_4a8._id=String(this._advisorId++);this._createAlertPane(_4a8);if(_4a8.module){_4a9(_4a8.module);}else{_4a8.modules.forEach(_4a9);}},this);this._selectAlertPane("0");this.domNode.classList.add("alert-expanded");var self=this;this.activeAlertsModel.on("load-complete",function(){var _4ad=self.activeAlertsModel.getAllStepsWithAlerts().map(function(_4ae){return self._getAdvisorId(_4ae);}).sort()[0];_4ad&&self._selectAlertPane(_4ad);});var _4af={appNames:_4a5,minDates:_4a6,maxDates:_4a7,minDate:_4a3,maxDate:_4a4};this.priorityDatesModel.set(_4af);this.watchDatesModel.set(_4af);}},_setDetailNeedsRefresh:function(_4b0){if(_4b0){var _4b1=this._getDetailPane();this.refreshDetailName.textContent=_4b1.get("name");}this.domNode.classList[_4b0?"add":"remove"]("detail-refresh");},_toggleDetailPane:function(){if(this.domNode.classList.contains("detail-expanded")){this.domNode.classList.remove("detail-expanded");var _4b2=this._getDetailPane();if(_4b2){_4b2.removeTopButtons();}}else{this.domNode.classList.add("detail-expanded");this._selectDetailPane();}},_toggleTransactionLog:function(){var _4b3=this.publishStatusDialog;var _4b4=this.transactionLogView;if(!_4b3){_4b4=this.transactionLogView=new _456({model:new _45c(lang.clone(this.config))});_4b3=this.publishStatusDialog=new _455({className:"transactionLogDialog",content:_4b4,title:i18n.transactionHistory});this.own(_4b3);_4b3.startup();_4b4.on("resized",function(){_4b3.resize();});}_4b4.refresh().then(function(){_4b3.resize();});_4b3.show();this.transactionLogButton.classList.remove("on");this.get("activeAlertsModel").clearAlerts();},_updatePreviousAndNext:function(_4b5){function _4b6(node,_4b7){var _4b8=_4b7?"add":"remove";node.classList[_4b8](_4b9);node.querySelector(".icon").classList[_4b8](_4b9);};function _4ba(_4bb){var id=ids[_4bb];if(id){return self._getAdvisorConfig(id).name;}return "";};var self=this;var ids=this._getAdvisorIds();var _4b9="disabled";_4b6(this.previousAlertPane,_4b5===0);_4b6(this.nextAlertPane,_4b5===ids.length-1);this.nextAlertPaneLabel.textContent=_4ba(_4b5+1);this.previousAlertPaneLabel.textContent=_4ba(_4b5-1);}});});},"dojox/layout/ResizeHandle":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/event","dojo/_base/fx","dojo/_base/window","dojo/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/declare","dojo/touch","dijit/_base/manager","dijit/_Widget","dijit/_TemplatedMixin"],function(_4bc,lang,_4bd,_4be,_4bf,_4c0,_4c1,_4c2,_4c3,_4c4,_4c5,_4c6,_4c7,_4c8,_4c9,_4ca,_4cb){_4bc.experimental("dojox.layout.ResizeHandle");var _4cc=_4c7("dojox.layout._ResizeHelper",_4ca,{show:function(){_4c6.set(this.domNode,"display","");},hide:function(){_4c6.set(this.domNode,"display","none");},resize:function(dim){_4c5.setMarginBox(this.domNode,dim);}});var _4cd=_4c7("dojox.layout.ResizeHandle",[_4ca,_4cb],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function(){this.connect(this.resizeHandle,_4c8.press,"_beginSizing");if(!this.activeResize){this._resizeHelper=_4c9.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new _4cc({id:"dojoxGlobalResizeHelper"}).placeAt(_4c1.body());_4c4.add(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _4ce=lang.partial(_4c4.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_4ce("dojoxResizeNW");break;case "x":this._resizeX=true;_4ce("dojoxResizeW");break;case "y":this._resizeY=true;_4ce("dojoxResizeN");break;}},_beginSizing:function(e){if(this._isSizing){return;}_4bd.publish(this.startTopic,[this]);this.targetWidget=_4c9.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:_4c3.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return;}if(!this.activeResize){var c=_4c5.position(this.targetDomNode,true);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();if(!this.isLeftToRight()){this._resizeHelper.startPosition={l:c.x,t:c.y};}}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var _4cf=_4c6.getComputedStyle(this.targetDomNode),_4d0=_4c5.boxModel==="border-model",_4d1=_4d0?{w:0,h:0}:_4c5.getPadBorderExtents(this.targetDomNode,_4cf),_4d2=_4c5.getMarginExtents(this.targetDomNode,_4cf);this.startSize={w:_4c6.get(this.targetDomNode,"width",_4cf),h:_4c6.get(this.targetDomNode,"height",_4cf),pbw:_4d1.w,pbh:_4d1.h,mw:_4d2.w,mh:_4d2.h};if(!this.isLeftToRight()&&_4c6.get(this.targetDomNode,"position")=="absolute"){var p=_4c5.position(this.targetDomNode,true);this.startPosition={l:p.x,t:p.y};}this._pconnects=[_4bd.connect(_4c1.doc,_4c8.move,this,"_updateSizing"),_4bd.connect(_4c1.doc,_4c8.release,this,"_endSizing")];_4bf.stop(e);},_updateSizing:function(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e,"border",this._resizeHelper.startPosition);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function(e,box,_4d3){try{if(!e.clientX||!e.clientY){return false;}}catch(err){return false;}this._activeResizeLastEvent=e;var dx=(this.isLeftToRight()?1:-1)*(this.startPoint.x-e.clientX),dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0),r=this._checkConstraints(newW,newH);_4d3=(_4d3||this.startPosition);if(_4d3&&this._resizeX){r.l=_4d3.l+dx;if(r.w!=newW){r.l+=(newW-r.w);}r.t=_4d3.t;}switch(box){case "margin":r.w+=this.startSize.mw;r.h+=this.startSize.mh;case "border":r.w+=this.startSize.pbw;r.h+=this.startSize.pbh;break;}return r;},_checkConstraints:function(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var w=this.startSize.w,h=this.startSize.h,_4d4=w*newH-h*newW;if(_4d4<0){newW=newH*w/h;}else{if(_4d4>0){newH=newW*h/w;}}}return {w:newW,h:newH};},_changeSizing:function(e){var _4d5=this.targetWidget&&lang.isFunction(this.targetWidget.resize),tmp=this._getNewCoords(e,_4d5&&"margin");if(tmp===false){return;}if(_4d5){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=_4c2[this.animateMethod]([_4c0.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w}},duration:this.animateDuration}),_4c0.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h}},duration:this.animateDuration})]);anim.play();}else{_4c6.set(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function(e){_4be.forEach(this._pconnects,_4bd.disconnect);var pub=lang.partial(_4bd.publish,this.endTopic,[this]);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);setTimeout(pub,this.animateDuration+15);}else{pub();}this._isSizing=false;this.onResize(e);},onResize:function(e){}});return _4cd;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_4d6,dom,_4d7,lang,on,has,_4d8,_4d9,win){var _4da=has("touch");var ios4=has("ios")<5;var _4db=navigator.pointerEnabled||navigator.msPointerEnabled,_4dc=(function(){var _4dd={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_4dd[type]=!navigator.pointerEnabled?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _4dd;})();var _4de,_4df,_4e0,_4e1,_4e2,_4e3,_4e4,_4e5;var _4e6;function _4e7(_4e8,_4e9,_4ea){if(_4db&&_4ea){return function(node,_4eb){return on(node,_4ea,_4eb);};}else{if(_4da){return function(node,_4ec){var _4ed=on(node,_4e9,function(evt){_4ec.call(this,evt);_4e6=(new Date()).getTime();}),_4ee=on(node,_4e8,function(evt){if(!_4e6||(new Date()).getTime()>_4e6+1000){_4ec.call(this,evt);}});return {remove:function(){_4ed.remove();_4ee.remove();}};};}else{return function(node,_4ef){return on(node,_4e8,_4ef);};}}};function _4f0(node){do{if(node.dojoClick!==undefined){return node.dojoClick;}}while(node=node.parentNode);};function _4f1(e,_4f2,_4f3){_4df=!e.target.disabled&&_4f0(e.target);if(_4df){_4e0=e.target;_4e1=e.changedTouches?e.changedTouches[0].pageX:e.clientX;_4e2=e.changedTouches?e.changedTouches[0].pageY:e.clientY;_4e3=(typeof _4df=="object"?_4df.x:(typeof _4df=="number"?_4df:0))||4;_4e4=(typeof _4df=="object"?_4df.y:(typeof _4df=="number"?_4df:0))||4;if(!_4de){_4de=true;win.doc.addEventListener(_4f2,function(e){_4df=_4df&&(e.changedTouches?e.changedTouches[0].target:e.target)==_4e0&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_4e1)<=_4e3&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_4e2)<=_4e4;},true);win.doc.addEventListener(_4f3,function(e){if(_4df){_4e5=(new Date()).getTime();var _4f4=e.target;if(_4f4.tagName==="LABEL"){_4f4=dom.byId(_4f4.getAttribute("for"))||_4f4;}var src=(e.changedTouches)?e.changedTouches[0]:e;var _4f5=document.createEvent("MouseEvents");_4f5._dojo_click=true;_4f5.initMouseEvent("click",true,true,e.view,e.detail,src.screenX,src.screenY,src.clientX,src.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);setTimeout(function(){on.emit(_4f4,"click",_4f5);},0);}},true);function _4f6(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_4e5+1000&&!(e.target.tagName=="INPUT"&&_4d7.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_4f6("click");_4f6("mousedown");_4f6("mouseup");}}};var _4f7;if(_4da){if(_4db){_4d9(function(){win.doc.addEventListener(_4dc.down,function(evt){_4f1(evt,_4dc.move,_4dc.up);},true);});}else{_4d9(function(){_4f7=win.body();win.doc.addEventListener("touchstart",function(evt){_4e6=(new Date()).getTime();var _4f8=_4f7;_4f7=evt.target;on.emit(_4f8,"dojotouchout",{relatedTarget:_4f7,bubbles:true});on.emit(_4f7,"dojotouchover",{relatedTarget:_4f8,bubbles:true});_4f1(evt,"touchmove","touchend");},true);function _4f9(evt){var _4fa=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_4fa.touches=evt.touches;_4fa.altKey=evt.altKey;_4fa.changedTouches=evt.changedTouches;_4fa.ctrlKey=evt.ctrlKey;_4fa.metaKey=evt.metaKey;_4fa.shiftKey=evt.shiftKey;_4fa.targetTouches=evt.targetTouches;}return _4fa;};on(win.doc,"touchmove",function(evt){_4e6=(new Date()).getTime();var _4fb=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_4fb){if(_4f7!==_4fb){on.emit(_4f7,"dojotouchout",{relatedTarget:_4fb,bubbles:true});on.emit(_4fb,"dojotouchover",{relatedTarget:_4f7,bubbles:true});_4f7=_4fb;}if(!on.emit(_4fb,"dojotouchmove",_4f9(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_4e6=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_4f9(evt));});});}}var _4fc={press:_4e7("mousedown","touchstart",_4dc.down),move:_4e7("mousemove","dojotouchmove",_4dc.move),release:_4e7("mouseup","dojotouchend",_4dc.up),cancel:_4e7(_4d8.leave,"touchcancel",_4da?_4dc.cancel:null),over:_4e7("mouseover","dojotouchover",_4dc.over),out:_4e7("mouseout","dojotouchout",_4dc.out),enter:_4d8._eventHandler(_4e7("mouseover","dojotouchover",_4dc.over)),leave:_4d8._eventHandler(_4e7("mouseout","dojotouchout",_4dc.out))};1&&(dojo.touch=_4fc);return _4fc;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_4fd,_4fe,dom,_4ff,has,lang,on,_500,_501,win,_502,_503){var _504=_4fe("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_4fd.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_505){if(!this.disabled){switch(_505.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _506=this.baseClass.split(" ");function _507(_508){_506=_506.concat(_4fd.map(_506,function(c){return c+_508;}),"dijit"+_508);};if(!this.isLeftToRight()){_507("Rtl");}var _509=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_507(_509);}if(this.state){_507(this.state);}if(this.selected){_507("Selected");}if(this._opened){_507("Opened");}if(this.disabled){_507("Disabled");}else{if(this.readOnly){_507("ReadOnly");}else{if(this.active){_507("Active");}else{if(this.hovering){_507("Hover");}}}}if(this.focused){_507("Focused");}var tn=this.stateNode||this.domNode,_50a={};_4fd.forEach(tn.className.split(" "),function(c){_50a[c]=true;});if("_stateClasses" in this){_4fd.forEach(this._stateClasses,function(c){delete _50a[c];});}_4fd.forEach(_506,function(c){_50a[c]=true;});var _50b=[];for(var c in _50a){_50b.push(c);}tn.className=_50b.join(" ");this._stateClasses=_506;},_subnodeCssMouseEvent:function(node,_50c,evt){if(this.disabled||this.readOnly){return;}function _50d(_50e){_4ff.toggle(node,_50c+"Hover",_50e);};function _50f(_510){_4ff.toggle(node,_50c+"Active",_510);};function _511(_512){_4ff.toggle(node,_50c+"Focused",_512);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_50d(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_50d(false);_50f(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_50f(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_50f(false);break;case "focus":case "focusin":_511(true);break;case "blur":case "focusout":_511(false);break;}},_trackMouseState:function(node,_513){node._cssState=_513;}});_500(function(){function _514(evt,_515,_516){if(_516&&dom.isDescendant(_516,_515)){return;}for(var node=_515;node&&node!=_516;node=node.parentNode){if(node._cssState){var _517=_503.getEnclosingWidget(node);if(_517){if(node==_517.domNode){_517._cssMouseEvent(evt);}else{_517._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_518;on(body,_501.over,function(evt){_514(evt,evt.target,evt.relatedTarget);});on(body,_501.out,function(evt){_514(evt,evt.target,evt.relatedTarget);});on(body,_502.press,function(evt){_518=evt.target;_514(evt,_518);});on(body,_502.release,function(evt){_514(evt,_518);_518=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _519=_503.getEnclosingWidget(node);if(_519){_519._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _504;});},"xstyle/css":function(){define(["require"],function(_51a){"use strict";function _51b(tag,id,_51c){var _51d=document.documentElement;var _51e=_51d.insertBefore(document.createElement(tag),_51d.firstChild);_51e.id=id;var _51f=(_51e.currentStyle||getComputedStyle(_51e,null))[_51c];_51d.removeChild(_51e);return _51f;};return {load:function(_520,_521,_522,_523){var url=_521.toUrl(_520);var _524=_521.cache&&_521.cache["url:"+url];if(_524){if(_524.xCss){var _525=_524.parser;var xCss=_524.xCss;_524=_524.cssText;}_51a(["./util/createStyleSheet"],function(_526){_526(_524);});if(xCss){}return _527();}function _527(){var _528=_51b("x-parse",null,"content");if(_528&&_528!="none"){_521([eval(_528)],_522);}else{_522();}};var _529=_51b("div",_520.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_529=="none"){return _527();}_51a(["./core/load-css"],function(load){load(url,_527);});}};});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_52a=function(){var n=null,_52b=arguments,uri=[_52b[0]];for(var i=1;i<_52b.length;i++){if(!_52b[i]){continue;}var _52c=new _52a(_52b[i]+""),_52d=new _52a(uri[0]+"");if(_52c.path==""&&!_52c.scheme&&!_52c.authority&&!_52c.query){if(_52c.fragment!=n){_52d.fragment=_52c.fragment;}_52c=_52d;}else{if(!_52c.scheme){_52c.scheme=_52d.scheme;if(!_52c.authority){_52c.authority=_52d.authority;if(_52c.path.charAt(0)!="/"){var path=_52d.path.substring(0,_52d.path.lastIndexOf("/")+1)+_52c.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_52c.path=segs.join("/");}}}}uri=[];if(_52c.scheme){uri.push(_52c.scheme,":");}if(_52c.authority){uri.push("//",_52c.authority);}uri.push(_52c.path);if(_52c.query){uri.push("?",_52c.query);}if(_52c.fragment){uri.push("#",_52c.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_52a.prototype.toString=function(){return this.uri;};return dojo._Url=_52a;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_52e,_52f,_530,_531,has,_532,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_52f.blankGif||_52e.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_531.getComputedStyle(div),_533=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_533&&(_533=="none"||_533=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_532(function(){if(has("highcontrast")){_530.add(win.body(),"dj_a11y");}});return has;});},"dojo/domReady":function(){define(["./has"],function(has){var _534=(function(){return this;})(),doc=document,_535={"loaded":1,"complete":1},_536=typeof doc.readyState!="string",_537=!!_535[doc.readyState],_538=[],_539;function _53a(_53b){_538.push(_53b);if(_537){_53c();}};_53a.load=function(id,req,load){_53a(load);};_53a._Q=_538;_53a._onQEmpty=function(){};if(_536){doc.readyState="loading";}function _53c(){if(_539){return;}_539=true;while(_538.length){try{(_538.shift())(doc);}catch(err){console.error(err,"in domReady callback",err.stack);}}_539=false;_53a._onQEmpty();};if(!_537){var _53d=[],_53e=function(evt){evt=evt||_534.event;if(_537||(evt.type=="readystatechange"&&!_535[doc.readyState])){return;}if(_536){doc.readyState="complete";}_537=1;_53c();},on=function(node,_53f){node.addEventListener(_53f,_53e,false);_538.push(function(){node.removeEventListener(_53f,_53e,false);});};if(!has("dom-addeventlistener")){on=function(node,_540){_540="on"+_540;node.attachEvent(_540,_53e);_538.push(function(){node.detachEvent(_540,_53e);});};var div=doc.createElement("div");try{if(div.doScroll&&_534.frameElement===null){_53d.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_534,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_536){_53d.push(function(){return _535[doc.readyState];});}}if(_53d.length){var _541=function(){if(_537){return;}var i=_53d.length;while(i--){if(_53d[i]()){_53e("poller");return;}}setTimeout(_541,30);};_541();}}return _53a;});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_542,_543,_544,has,_545,lang,_546,_547,_548,_549){if(has("dijit-legacy-requires")){_546(0,function(){var _54a=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_542(_54a);});}var _54b=_543("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_547,_548],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_549,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_54c){if(_54c&&(!this.params||!("label" in this.params))){var _54d=lang.trim(_54c.innerHTML);if(_54d){this.label=_54d;}}},_setShowLabelAttr:function(val){if(this.containerNode){_544.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_54e){_545.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_54e);},_setLabelAttr:function(_54f){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_54b=_543("dijit.form.Button",_54b,{_setLabelAttr:function(_550){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_551){if(this._created&&this.textDir!=_551){this._set("textDir",_551);this._setLabelAttr(this.label);}}});}return _54b;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_552,_553,_554,_555,lang,_556,on,_557,_558){var _559=lang.delegate(_557,{"mouseenter":_556.enter,"mouseleave":_556.leave,"keypress":_554._keypress});var _55a;var _55b=_555("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_55c){var node=_55c;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_55c){return;}while(!node.nextSibling){node=node.parentNode;if(node==_55c){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_55d,_55e,_55f){var ret=true;var _560=this.attachScope||this,_561=_55e(_55d,"dojoAttachPoint")||_55e(_55d,"data-dojo-attach-point");if(_561){var _562,_563=_561.split(/\s*,\s*/);while((_562=_563.shift())){if(lang.isArray(_560[_562])){_560[_562].push(_55d);}else{_560[_562]=_55d;}ret=(_562!="containerNode");this._attachPoints.push(_562);}}var _564=_55e(_55d,"dojoAttachEvent")||_55e(_55d,"data-dojo-attach-event");if(_564){var _565,_566=_564.split(/\s*,\s*/);var trim=lang.trim;while((_565=_566.shift())){if(_565){var _567=null;if(_565.indexOf(":")!=-1){var _568=_565.split(":");_565=trim(_568[0]);_567=trim(_568[1]);}else{_565=trim(_565);}if(!_567){_567=_565;}this._attachEvents.push(_55f(_55d,_565,lang.hitch(_560,_567)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_55a||(_55a=_552("./a11yclick"));}else{type=_559[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _569=this.attachScope||this;_553.forEach(this._attachPoints,function(_56a){delete _569[_56a];});this._attachPoints=[];_553.forEach(this._attachEvents,function(_56b){_56b.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_558,{dojoAttachEvent:"",dojoAttachPoint:""});return _55b;});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_56c,_56d,_56e,_56f,keys,lang,_570,_571,_572,_573){return _56d("dijit._KeyNavContainer",[_572,_573,_571],{connectKeyNavHandlers:function(_574,_575){var _576=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_56c.forEach(_574,function(code){_576[code]=prev;});_56c.forEach(_575,function(code){_576[code]=next;});_576[keys.HOME]=lang.hitch(this,"focusFirstChild");_576[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_56f.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_56c.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_577,_578){this.inherited(arguments);this._startupChild(_577);},_startupChild:function(_579){_579.set("tabIndex","-1");},_getFirst:function(){var _57a=this.getChildren();return _57a.length?_57a[0]:null;},_getLast:function(){var _57b=this.getChildren();return _57b.length?_57b[_57b.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_570.byNode(node);return node&&node.getParent()==this;}});});},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_57c,_57d,_57e){var _57f={};lang.setObject("dojo.dnd.autoscroll",_57f);_57f.getViewport=_57e.getBox;_57f.V_TRIGGER_AUTOSCROLL=32;_57f.H_TRIGGER_AUTOSCROLL=32;_57f.V_AUTOSCROLL_VALUE=16;_57f.H_AUTOSCROLL_VALUE=16;var _580,doc=win.doc,_581=Infinity,_582=Infinity;_57f.autoScrollStart=function(d){doc=d;_580=_57e.getBox(doc);var html=win.body(doc).parentNode;_581=Math.max(html.scrollHeight-_580.h,0);_582=Math.max(html.scrollWidth-_580.w,0);};_57f.autoScroll=function(e){var v=_580||_57e.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_57f.H_TRIGGER_AUTOSCROLL){dx=-_57f.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_57f.H_TRIGGER_AUTOSCROLL){dx=Math.min(_57f.H_AUTOSCROLL_VALUE,_582-html.scrollLeft);}}if(e.clientY<_57f.V_TRIGGER_AUTOSCROLL){dy=-_57f.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_57f.V_TRIGGER_AUTOSCROLL){dy=Math.min(_57f.V_AUTOSCROLL_VALUE,_581-html.scrollTop);}}window.scrollBy(dx,dy);};_57f._validNodes={"div":1,"p":1,"td":1};_57f._validOverflow={"auto":1,"scroll":1};_57f.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_583,_584;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _57f._validNodes)){var s=_57d.getComputedStyle(n),_585=(s.overflow.toLowerCase() in _57f._validOverflow),_586=(s.overflowX.toLowerCase() in _57f._validOverflow),_587=(s.overflowY.toLowerCase() in _57f._validOverflow);if(_585||_586||_587){b=_57c.getContentBox(n,s);t=_57c.position(n,true);}if(_585||_586){w=Math.min(_57f.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_583=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_585||_587){h=Math.min(_57f.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_584=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_57f.autoScroll(e);};return _57f;});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_588,_589,_58a,keys,lang,on,_58b,_58c){return _589("dijit._KeyNavMixin",_58c,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_58a.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _58d=this._keyNavCodes={};_58d[keys.HOME]=lang.hitch(this,"focusFirstChild");_58d[keys.END]=lang.hitch(this,"focusLastChild");_58d[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_58d[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_58d[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_58d[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_58e=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_58e,"focusin"),function(evt){self._onChildFocus(_58b.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_58f,last){if(!_58f){return;}if(this.focusedChild&&_58f!==this.focusedChild){this._onChildBlur(this.focusedChild);}_58f.set("tabIndex",this.tabIndex);_58f.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_58a.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_58a.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_590){if(_590&&_590!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_590.set("tabIndex",this.tabIndex);this.lastFocused=_590;this._set("focusedChild",_590);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_591,_592){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_593){var _594=item.domNode,text=item.label||(_594.focusNode?_594.focusNode.label:"")||_594.innerText||_594.textContent||"",_595=text.replace(/^\s+/,"").substr(0,_593.length).toLowerCase();return (!!_593.length&&_595==_593)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_596){var _597=null,_598,_599=0,_59a=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_596;var _59b=/^(.)\1*$/.test(this._searchString);var _59c=_59b?1:this._searchString.length;_598=this._searchString.substr(0,_59c);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _59d=this.focusedChild||null;if(_59c==1||!_59d){_59d=this._getNextFocusableChild(_59d,1);if(!_59d){return;}}var stop=_59d;do{var rc=this._keyboardSearchCompare(_59d,_598);if(!!rc&&_599++==0){_597=_59d;}if(rc==-1){_599=-1;break;}_59d=this._getNextFocusableChild(_59d,1);}while(_59d!=stop);});_59a();this.onKeyboardSearch(_597,evt,_598,_599);},_onChildBlur:function(){},_getNextFocusableChild:function(_59e,dir){var _59f=_59e;do{if(!_59e){_59e=this[dir>0?"_getFirst":"_getLast"]();if(!_59e){break;}}else{_59e=this._getNext(_59e,dir);}if(_59e!=null&&_59e!=_59f&&_59e.isFocusable()){return _59e;}}while(_59e!=_59f);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_5a0,dir){if(_5a0){_5a0=_5a0.domNode;while(_5a0){_5a0=_5a0[dir<0?"previousSibling":"nextSibling"];if(_5a0&&"getAttribute" in _5a0){var w=_58b.byNode(_5a0);if(w){return w;}}}}return null;}});});},"advisor/models/ActiveAlerts":function(){define(["./_Model"],function(_5a1){return _5a1.createSubclass([],{statusCode:"F",postLoad:function(_5a2){var _5a3=this._activeAlerts={};if(_5a2){_5a2.forEach(function(item){if(!(item.step in _5a3)){_5a3[item.step]=[];}_5a3[item.step].push(item);});}this.inherited(arguments);},clearAlerts:function(){this._activeAlerts={};this.emit("load-complete",{});},getAlerts:function(step){return this._activeAlerts[step];},getAllStepsWithAlerts:function(){return Object.keys(this._activeAlerts);},hasAlerts:function(step){return step in this._activeAlerts;},_getLoadUrl:function(){return this.contextPath+"api/rest/activeAlerts/v1/properties/"+this.propertyCode+"/datadate/"+this.dataDate+"/status/"+this.statusCode;}});});},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(_5a4,has,win,_5a5){var _5a6={},hash={};var _5a7={length:0,add:function(_5a8){if(hash[_5a8.id]){throw new Error("Tried to register widget with id=="+_5a8.id+" but that id is already registered");}hash[_5a8.id]=_5a8;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_5a9){var id;do{id=_5a9+"_"+(_5a9 in _5a6?++_5a6[_5a9]:_5a6[_5a9]=0);}while(hash[id]);return _5a5._scopeName=="dijit"?id:_5a5._scopeName+"_"+id;},findWidgets:function(root,_5aa){var _5ab=[];function _5ac(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _5ad=node.getAttribute("widgetId");if(_5ad){var _5ae=hash[_5ad];if(_5ae){_5ab.push(_5ae);}}else{if(node!==_5aa){_5ac(node);}}}}};_5ac(root);return _5ab;},_destroyAll:function(){_5a5._curFocus=null;_5a5._prevFocus=null;_5a5._activeStack=[];_5a4.forEach(_5a7.findWidgets(win.body()),function(_5af){if(!_5af._destroyed){if(_5af.destroyRecursive){_5af.destroyRecursive();}else{if(_5af.destroy){_5af.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_5a5.registry=_5a7;return _5a7;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_5b0,_5b1,_5b2){return _5b2("dijit.Destroyable",null,{destroy:function(_5b3){this._destroyed=true;},own:function(){_5b0.forEach(arguments,function(_5b4){var _5b5="destroyRecursive" in _5b4?"destroyRecursive":"destroy" in _5b4?"destroy":"remove";var odh=_5b1.before(this,"destroy",function(_5b6){_5b4[_5b5](_5b6);});var hdh=_5b1.after(_5b4,_5b5,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_5b7,_5b8,lang,_5b9,_5ba){var _5bb={};_5b7.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_5bb[name]=_5b9[name];});lang.mixin(_5bb,{defaultDuration:_5b8["defaultDuration"]||200});lang.mixin(_5ba,_5bb);return _5ba;});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_5bc,_5bd){var _5be=dojo.Color=function(_5bf){if(_5bf){this.setColor(_5bf);}};_5be.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_5bd.transparentColor||[0,0,0,0]};lang.extend(_5be,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_5c0){if(lang.isString(_5c0)){_5be.fromString(_5c0,this);}else{if(lang.isArray(_5c0)){_5be.fromArray(_5c0,this);}else{this._set(_5c0.r,_5c0.g,_5c0.b,_5c0.a);if(!(_5c0 instanceof _5be)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_5bc.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_5c1){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_5c1?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_5be.blendColors=dojo.blendColors=function(_5c2,end,_5c3,obj){var t=obj||new _5be();_5bc.forEach(["r","g","b","a"],function(x){t[x]=_5c2[x]+(end[x]-_5c2[x])*_5c3;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_5be.fromRgb=dojo.colorFromRgb=function(_5c4,obj){var m=_5c4.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_5be.fromArray(m[1].split(/\s*,\s*/),obj);};_5be.fromHex=dojo.colorFromHex=function(_5c5,obj){var t=obj||new _5be(),bits=(_5c5.length==4)?4:8,mask=(1<<bits)-1;_5c5=Number("0x"+_5c5.substr(1));if(isNaN(_5c5)){return null;}_5bc.forEach(["b","g","r"],function(x){var c=_5c5&mask;_5c5>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_5be.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _5be();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_5be.fromString=dojo.colorFromString=function(str,obj){var a=_5be.named[str];return a&&_5be.fromArray(a,obj)||_5be.fromRgb(str,obj)||_5be.fromHex(str,obj);};return _5be;});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_5c6,_5c7,lang,_5c8,dom,_5c9,_5ca,put){return _5c7([List,_5c6],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_5ca.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_5c9(this.bodyNode,"scroll",_5ca[this.pagingMethod](function(_5cb){self._processScroll(_5cb);},null,this.pagingDelay));},renderQuery:function(_5cc,_5cd,_5ce){var self=this,_5cf={query:_5cc,count:0,node:_5cd,options:_5ce},_5d0=this.preload,_5d1;if(!_5cd){var _5d2={node:put(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:_5cc,next:_5cf,options:_5ce};_5d2.node.style.height="0";_5cf.node=_5cd=put(this.contentNode,"div.dgrid-preload");_5cf.previous=_5d2;}_5cd.rowIndex=this.minRowsPerPage;if(_5d0){if((_5cf.next=_5d0.next)&&_5cd.offsetTop>=_5d0.node.offsetTop){_5cf.previous=_5d0;}else{_5cf.next=_5d0;_5cf.previous=_5d0.previous;}_5cf.previous.next=_5cf;_5cf.next.previous=_5cf;}else{this.preload=_5cf;}var _5d3=put(_5cd,"-div.dgrid-loading"),_5d4=put(_5d3,"div.dgrid-below");_5d4.innerHTML=this.loadingMessage;function _5d5(err){put(_5d3,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_5ce=lang.mixin(this.get("queryOptions"),_5ce,{start:0,count:this.minRowsPerPage},"level" in _5cc?{queryLevel:_5cc.level}:null);this._trackError(function(){return _5d1=_5cc(_5ce);});if(typeof _5d1==="undefined"){_5d5();return;}_5c8.when(self.renderArray(_5d1,_5cd,_5ce),function(trs){var _5d6=typeof _5d1.total==="undefined"?_5d1.length:_5d1.total;return _5c8.when(_5d6,function(_5d7){var _5d8=trs.length,_5d9=_5cd.parentNode,_5da=self.noDataNode;put(_5d3,"!");if(!("queryLevel" in _5ce)){self._total=_5d7;}if(_5d7===0){if(_5da){put(_5da,"!");delete self.noDataNode;}self.noDataNode=_5da=put("div.dgrid-no-data");_5d9.insertBefore(_5da,self._getFirstRowSibling(_5d9));_5da.innerHTML=self.noDataMessage;}var _5db=0;for(var i=0;i<_5d8;i++){_5db+=self._calcRowHeight(trs[i]);}if(_5d8&&_5db){self.rowHeight=_5db/_5d8;}_5d7-=_5d8;_5cf.count=_5d7;_5cd.rowIndex=_5d8;if(_5d7){_5cd.style.height=Math.min(_5d7*self.rowHeight,self.maxEmptySpace)+"px";}else{_5cd.style.display="none";_5ce.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_5d1);delete self._refreshDeferred;}return trs;},_5d5);},_5d5);return _5d1;},refresh:function(_5dc){var self=this,keep=(_5dc&&_5dc.keepScrollPosition),dfd,_5dd;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _5c8();_5dd=self.renderQuery(function(_5de){return self.store.query(self.query,_5de);});if(typeof _5dd==="undefined"){dfd.reject();}return dfd.then(function(_5df){setTimeout(function(){_5c9.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_5df});},0);delete self._refreshDeferred;return _5df;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_5e0){return _5e0.lastChild;},_calcRowHeight:function(_5e1){var _5e2=_5e1.previousSibling;if(_5e2&&!/\bdgrid-preload\b/.test(_5e2.className)){return _5e1.offsetTop-_5e2.offsetTop;}return _5e1.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_5e3=grid.bodyNode,_5e4=(evt&&evt.scrollTop)||this.getScrollPosition().y,_5e5=_5e3.offsetHeight+_5e4,_5e6,_5e7,_5e8=grid.preload,_5e9=grid.lastScrollTop,_5ea=grid.bufferRows*grid.rowHeight,_5eb=_5ea-grid.rowHeight,_5ec,_5ed,_5ee,_5ef=true;var _5f0=1;grid.lastScrollTop=_5e4;function _5f1(_5f2,_5f3,_5f4,_5f5){var _5f6=grid.farOffRemoval,_5e7=_5f2.node;if(_5f3>2*_5f6){var row,_5f7=_5e7[_5f4];var _5f8=0;var _5f9=0;var _5fa=[];while((row=_5f7)){var _5fb=grid._calcRowHeight(row);if(_5f8+_5fb+_5f6>_5f3||(_5f7.className.indexOf("dgrid-row")<0&&_5f7.className.indexOf("dgrid-loading")<0)){break;}var _5f7=row[_5f4];_5f8+=_5fb;_5f9+=row.count||1;grid.removeRow(row,true);_5fa.push(row);}_5f2.count+=_5f9;if(_5f5){_5e7.rowIndex-=_5f9;_5fc(_5f2);}else{_5e7.style.height=(_5e7.offsetHeight+_5f8)+"px";}var _5fd=put("div",_5fa);setTimeout(function(){put(_5fd,"!");},1);}};function _5fc(_5fe,_5ff){_5fe.node.style.height=Math.min(_5fe.count*grid.rowHeight,_5ff?Infinity:grid.maxEmptySpace)+"px";};function _600(_601,_602){do{_601=_602?_601.next:_601.previous;}while(_601&&!_601.node.offsetWidth);return _601;};while(_5e8&&!_5e8.node.offsetWidth){_5e8=_5e8.previous;}while(_5e8&&_5e8!=_5e6){_5e6=grid.preload;grid.preload=_5e8;_5e7=_5e8.node;var _603=_5e7.offsetTop;var _604;if(_5e5+_5f0+_5eb<_603){_5e8=_600(_5e8,(_5ef=false));}else{if(_5e4-_5f0-_5eb>(_603+(_604=_5e7.offsetHeight))){_5e8=_600(_5e8,(_5ef=true));}else{var _605=((_5e7.rowIndex?_5e4-_5ea:_5e5)-_603)/grid.rowHeight;var _606=(_5e5-_5e4+2*_5ea)/grid.rowHeight;var _607=Math.max(Math.min((_5e4-_5e9)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);_606+=Math.min(Math.abs(_607),10);if(_5e7.rowIndex==0){_605-=_606;}_605=Math.max(_605,0);if(_605<10&&_605>0&&_606+_605<grid.maxRowsPerPage){_606+=Math.max(0,_605);_605=0;}_606=Math.min(Math.max(_606,grid.minRowsPerPage),grid.maxRowsPerPage,_5e8.count);if(_606==0){_5e8=_600(_5e8,_5ef);continue;}_606=Math.ceil(_606);_605=Math.min(Math.floor(_605),_5e8.count-_606);var _608=lang.mixin(grid.get("queryOptions"),_5e8.options);_5e8.count-=_606;var _609=_5e7,_60a,_60b=grid.queryRowsOverlap,_60c=_5e7.rowIndex>0&&_5e8;if(_60c){var _60d=_5e8.previous;if(_60d){_5f1(_60d,_5e4-(_60d.node.offsetTop+_60d.node.offsetHeight),"nextSibling");if(_605>0&&_60d.node==_5e7.previousSibling){_605=Math.min(_5e8.count,_605);_5e8.previous.count+=_605;_5fc(_5e8.previous,true);_5e7.rowIndex+=_605;_60b=0;}else{_606+=_605;}_5e8.count-=_605;}_608.start=_5e7.rowIndex-_60b;_608.count=Math.min(_606+_60b,grid.maxRowsPerPage);_5e7.rowIndex=_608.start+_608.count;}else{if(_5e8.next){_5f1(_5e8.next,_5e8.next.node.offsetTop-_5e5,"previousSibling",true);var _609=_5e7.nextSibling;if(_609==_5e8.next.node){_5e8.next.count+=_5e8.count-_605;_5e8.next.node.rowIndex=_605+_606;_5fc(_5e8.next);_5e8.count=_605;_60b=0;}else{_60a=true;}}_608.start=_5e8.count;_608.count=Math.min(_606+_60b,grid.maxRowsPerPage);}if(_60a&&_609&&_609.offsetWidth){_60a=_609.offsetTop;}_5fc(_5e8);if("level" in _5e8.query){_608.queryLevel=_5e8.query.level;}if(!("queryLevel" in _608)&&(_608.start>grid._total||_608.count<0)){continue;}var _60e=put(_609,"-div.dgrid-loading[style=height:"+_606*grid.rowHeight+"px]"),_60f=put(_60e,"div.dgrid-"+(_60c?"below":"above"));_60f.innerHTML=grid.loadingMessage;_60e.count=_606;var _610=_5e8.query(_608),_611=grid._trackError(function(){return _610;});if(_611===undefined){put(_60e,"!");return;}(function(_612,_613,_614,_615){_5ee=_5c8.when(grid.renderArray(_615,_612,_608),function(rows){_5ed=_615;_609=_612.nextSibling;put(_612,"!");if(_614&&_609&&_609.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_609.offsetTop-_614,preserveMomentum:true});}_5c8.when(_615.total||_615.length,function(_616){if(!("queryLevel" in _608)){grid._total=_616;}if(_613){_613.count=_616-_613.node.rowIndex;if(_613.count===0){_608.count++;}_5fc(_613);}});grid._processScroll();return rows;},function(e){put(_612,"!");throw e;});}).call(this,_60e,_60c,_60a,_610);_5e8=_5e8.previous;}}}if(_5ee&&(_5ec=this._refreshDeferred)){delete this._refreshDeferred;_5c8.when(_5ee,function(){_5ec.resolve(_5ed);});}},removeRow:function(_617,_618){function _619(_61a,_61b){return _61a!=null?_61a:_61b;};if(_617){var _61c=_617.previousSibling,_61d=_617.nextSibling,_61e=_61c&&_619(_61c.observerIndex,_61c.previousObserverIndex),_61f=_61d&&_619(_61d.observerIndex,_61d.nextObserverIndex),_620=_617.observerIndex;_617.observerIndex=undefined;if(_618){_617.nextObserverIndex=_61f;_617.previousObserverIndex=_61e;}if(this.cleanEmptyObservers&&_620>-1&&_620!==_61e&&_620!==_61f){var _621=this.observers;var _622=_621[_620];if(_622){if(!_618){var rows=_622.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_617&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_622.cancel();this._numObservers--;_621[_620]=0;}}}this.inherited(arguments);}});});},"dojox/date/timezone":function(){define(["dojo","dojo/date","dojo/date/locale","dojo/_base/array","dojo/_base/xhr"],function(dojo,_623,_624){dojo.experimental("dojox.date.timezone");dojo.getObject("date.timezone",true,dojox);var cfg=dojo.config;var _625=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"];var _626=1835,_627=2038;var _628={},_629={},_62a={},_62b={};var _62c=cfg.timezoneLoadingScheme||"preloadAll";var _62d=cfg.defaultZoneFile||((_62c=="preloadAll")?_625:"northamerica");dojo._contentHandlers["olson-zoneinfo"]=function(xhr){var str=dojo._contentHandlers["text"](xhr),s="",_62e=str.split("\n"),arr=[],_62f="",zone=null,rule=null,ret={zones:{},rules:{}};for(var i=0;i<_62e.length;i++){var l=_62e[i];if(l.match(/^\s/)){l="Zone "+zone+l;}l=l.split("#")[0];if(l.length>3){arr=l.split(/\s+/);_62f=arr.shift();switch(_62f){case "Zone":zone=arr.shift();if(arr[0]){if(!ret.zones[zone]){ret.zones[zone]=[];}ret.zones[zone].push(arr);}break;case "Rule":rule=arr.shift();if(!ret.rules[rule]){ret.rules[rule]=[];}ret.rules[rule].push(arr);break;case "Link":if(ret.zones[arr[1]]){throw new Error("Error with Link "+arr[1]);}ret.zones[arr[1]]=arr[0];break;case "Leap":break;default:break;}}}return ret;};function _630(data){data=data||{};_629=dojo.mixin(_629,data.zones||{});_62b=dojo.mixin(_62b,data.rules||{});};function _631(_632){_628[_632]=true;dojo.xhrGet({url:require.toUrl((cfg.timezoneFileBasePath||"dojox/date/zoneinfo")+"/"+_632),sync:true,handleAs:"olson-zoneinfo",load:_630,error:function(e){console.error("Error loading zone file:",e);throw e;}});};var _633={"jan":0,"feb":1,"mar":2,"apr":3,"may":4,"jun":5,"jul":6,"aug":7,"sep":8,"oct":9,"nov":10,"dec":11},_634={"sun":0,"mon":1,"tue":2,"wed":3,"thu":4,"fri":5,"sat":6},_635={"EST":"northamerica","MST":"northamerica","HST":"northamerica","EST5EDT":"northamerica","CST6CDT":"northamerica","MST7MDT":"northamerica","PST8PDT":"northamerica","America":"northamerica","Pacific":"australasia","Atlantic":"europe","Africa":"africa","Indian":"africa","Antarctica":"antarctica","Asia":"asia","Australia":"australasia","Europe":"europe","WET":"europe","CET":"europe","MET":"europe","EET":"europe"},_636={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/Cordoba":"southamerica","America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica","America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica","America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica","America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica","America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica","America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica","America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica","America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica","America/Montevideo":"southamerica","America/Caracas":"southamerica"},_637={"US":"S","Chatham":"S","NZ":"S","NT_YK":"S","Edm":"S","Salv":"S","Canada":"S","StJohns":"S","TC":"S","Guat":"S","Mexico":"S","Haiti":"S","Barb":"S","Belize":"S","CR":"S","Moncton":"S","Swift":"S","Hond":"S","Thule":"S","NZAQ":"S","Zion":"S","ROK":"S","PRC":"S","Taiwan":"S","Ghana":"GMT","SL":"WAT","Chicago":"S","Detroit":"S","Vanc":"S","Denver":"S","Halifax":"S","Cuba":"S","Indianapolis":"S","Starke":"S","Marengo":"S","Pike":"S","Perry":"S","Vincennes":"S","Pulaski":"S","Louisville":"S","CA":"S","Nic":"S","Menominee":"S","Mont":"S","Bahamas":"S","NYC":"S","Regina":"S","Resolute":"ES","DR":"S","Toronto":"S","Winn":"S"};function _638(t){throw new Error("Timezone \""+t+"\" is either incorrect, or not loaded in the timezone registry.");};function _639(tz){var ret=_636[tz];if(!ret){var reg=tz.split("/")[0];ret=_635[reg];if(!ret){var link=_629[tz];if(typeof link=="string"){return _639(link);}else{if(!_628.backward){_631("backward");return _639(tz);}else{_638(tz);}}}}return ret;};function _63a(str){var pat=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([su])?$/;var hms=str.match(pat);if(!hms){return null;}hms[1]=parseInt(hms[1],10);hms[2]=hms[2]?parseInt(hms[2],10):0;hms[3]=hms[3]?parseInt(hms[3],10):0;return hms;};function _63b(y,m,d,h,mn,s,off){return Date.UTC(y,m,d,h,mn,s)+((off||0)*60*1000);};function _63c(m){return _633[m.substr(0,3).toLowerCase()];};function _63d(str){var off=_63a(str);if(off===null){return 0;}var adj=str.indexOf("-")===0?-1:1;off=adj*(((off[1]*60+off[2])*60+off[3])*1000);return -off/60/1000;};function _63e(rule,year,off){var _63f=_63c(rule[3]),day=rule[4],time=_63a(rule[5]);if(time[4]=="u"){off=0;}var d,_640,incr;if(isNaN(day)){if(day.substr(0,4)=="last"){day=_634[day.substr(4,3).toLowerCase()];d=new Date(_63b(year,_63f+1,1,time[1]-24,time[2],time[3],off));_640=_623.add(d,"minute",-off).getUTCDay();incr=(day>_640)?(day-_640-7):(day-_640);if(incr!==0){d=_623.add(d,"hour",incr*24);}return d;}else{day=_634[day.substr(0,3).toLowerCase()];if(day!="undefined"){if(rule[4].substr(3,2)==">="){d=new Date(_63b(year,_63f,parseInt(rule[4].substr(5),10),time[1],time[2],time[3],off));_640=_623.add(d,"minute",-off).getUTCDay();incr=(day<_640)?(day-_640+7):(day-_640);if(incr!==0){d=_623.add(d,"hour",incr*24);}return d;}else{if(day.substr(3,2)=="<="){d=new Date(_63b(year,_63f,parseInt(rule[4].substr(5),10),time[1],time[2],time[3],off));_640=_623.add(d,"minute",-off).getUTCDay();incr=(day>_640)?(day-_640-7):(day-_640);if(incr!==0){d=_623.add(d,"hour",incr*24);}return d;}}}}}else{d=new Date(_63b(year,_63f,parseInt(day,10),time[1],time[2],time[3],off));return d;}return null;};function _641(zone,year){var _642=[];dojo.forEach(_62b[zone[1]]||[],function(r){for(var i=0;i<2;i++){switch(r[i]){case "min":r[i]=_626;break;case "max":r[i]=_627;break;case "only":break;default:r[i]=parseInt(r[i],10);if(isNaN(r[i])){throw new Error("Invalid year found on rule");}break;}}if(typeof r[6]=="string"){r[6]=_63d(r[6]);}if((r[0]<=year&&r[1]>=year)||(r[0]==year&&r[1]=="only")){_642.push({r:r,d:_63e(r,year,zone[0])});}});return _642;};function _643(tz,_644){var zr=_62a[tz]=[];for(var i=0;i<_644.length;i++){var z=_644[i];var r=zr[i]=[];var _645=null;var _646=null;var _647=[];if(typeof z[0]=="string"){z[0]=_63d(z[0]);}if(i===0){r[0]=Date.UTC(_626,0,1,0,0,0,0);}else{r[0]=zr[i-1][1];_645=_644[i-1];_646=zr[i-1];_647=_646[2];}var _648=new Date(r[0]).getUTCFullYear();var _649=z[3]?parseInt(z[3],10):_627;var rlz=[];var j;for(j=_648;j<=_649;j++){rlz=rlz.concat(_641(z,j));}rlz.sort(function(a,b){return _623.compare(a.d,b.d);});var rl;for(j=0,rl;(rl=rlz[j]);j++){var _64a=j>0?rlz[j-1]:null;if(rl.r[5].indexOf("u")<0&&rl.r[5].indexOf("s")<0){if(j===0&&i>0){if(_647.length){rl.d=_623.add(rl.d,"minute",_647[_647.length-1].r[6]);}else{if(_623.compare(new Date(_646[1]),rl.d,"date")===0){rl.d=new Date(_646[1]);}else{rl.d=_623.add(rl.d,"minute",_63d(_645[1]));}}}else{if(j>0){rl.d=_623.add(rl.d,"minute",_64a.r[6]);}}}}r[2]=rlz;if(!z[3]){r[1]=Date.UTC(_627,11,31,23,59,59,999);}else{var year=parseInt(z[3],10),_64b=_63c(z[4]||"Jan"),day=parseInt(z[5]||"1",10),time=_63a(z[6]||"0");var _64c=r[1]=_63b(year,_64b,day,time[1],time[2],time[3],((time[4]=="u")?0:z[0]));if(isNaN(_64c)){_64c=r[1]=_63e([0,0,0,z[4],z[5],z[6]||"0"],year,((time[4]=="u")?0:z[0])).getTime();}var _64d=dojo.filter(rlz,function(rl,idx){var o=idx>0?rlz[idx-1].r[6]*60*1000:0;return (rl.d.getTime()<_64c+o);});if(time[4]!="u"&&time[4]!="s"){if(_64d.length){r[1]+=_64d[_64d.length-1].r[6]*60*1000;}else{r[1]+=_63d(z[1])*60*1000;}}}}};function _64e(dt,tz){var t=tz;var _64f=_629[t];while(typeof _64f=="string"){t=_64f;_64f=_629[t];}if(!_64f){if(!_628.backward){var _650=_631("backward",true);return _64e(dt,tz);}_638(t);}if(!_62a[tz]){_643(tz,_64f);}var _651=_62a[tz];var tm=dt.getTime();for(var i=0,r;(r=_651[i]);i++){if(tm>=r[0]&&tm<r[1]){return {zone:_64f[i],range:_651[i],idx:i};}}throw new Error("No Zone found for \""+tz+"\" on "+dt);};function _652(dt,_653){var _654=-1;var _655=_653.range[2]||[];var tsp=dt.getTime();var zr=_653.range;for(var i=0,r;(r=_655[i]);i++){if(tsp>=r.d.getTime()){_654=i;}}if(_654>=0){return _655[_654].r;}return null;};function _656(tz,_657,rule){var res;var zone=_657.zone;var base=zone[2];if(base.indexOf("%s")>-1){var repl;if(rule){repl=rule[7];if(repl=="-"){repl="";}}else{if(zone[1] in _637){repl=_637[zone[1]];}else{if(_657.idx>0){var pz=_629[tz][_657.idx-1];var pb=pz[2];if(pb.indexOf("%s")<0){if(base.replace("%s","S")==pb){repl="S";}else{repl="";}}else{repl="";}}else{repl="";}}}res=base.replace("%s",repl);}else{if(base.indexOf("/")>-1){var bs=base.split("/");if(rule){res=bs[rule[6]===0?0:1];}else{res=bs[0];}}else{res=base;}}return res;};dojo.setObject("dojox.date.timezone",{getTzInfo:function(dt,tz){if(_62c=="lazyLoad"){var _658=_639(tz);if(!_658){throw new Error("Not a valid timezone ID.");}else{if(!_628[_658]){_631(_658);}}}var _659=_64e(dt,tz);var off=_659.zone[0];var rule=_652(dt,_659);if(rule){off+=rule[6];}else{if(_62b[_659.zone[1]]&&_659.idx>0){off+=_63d(_629[tz][_659.idx-1][1]);}else{off+=_63d(_659.zone[1]);}}var abbr=_656(tz,_659,rule);return {tzOffset:off,tzAbbr:abbr};},loadZoneData:function(data){_630(data);},getAllZones:function(){var arr=[];for(var z in _629){arr.push(z);}arr.sort();return arr;}});if(typeof _62d=="string"&&_62d){_62d=[_62d];}if(dojo.isArray(_62d)){dojo.forEach(_62d,_631);}var _65a=_624.format,_65b=_624._getZone;_624.format=function(_65c,_65d){_65d=_65d||{};if(_65d.timezone&&!_65d._tzInfo){_65d._tzInfo=dojox.date.timezone.getTzInfo(_65c,_65d.timezone);}if(_65d._tzInfo){var _65e=_65c.getTimezoneOffset()-_65d._tzInfo.tzOffset;_65c=new Date(_65c.getTime()+(_65e*60*1000));}return _65a.call(this,_65c,_65d);};_624._getZone=function(_65f,_660,_661){if(_661._tzInfo){return _660?_661._tzInfo.tzAbbr:_661._tzInfo.tzOffset;}return _65b.call(this,_65f,_660,_661);};});},"dojo/request":function(){define(["./request/default!"],function(_662){return _662;});},"advisor/models/PriorityDates":function(){define(["dojo/date","dojo/date/stamp","./_DateStoreModel"],function(_663,_664,_665){return _665.createSubclass([],{deleteItem:function(item){var _666=this.get("store");return this._requestPost(this.contextPath+"api/rest/priorityDates",{data:{dataDate:this.get("dataDate"),stayDate:item.date,propCode:this.get("propertyCode"),advisorStep:item.appId,delForDayFlag:"Y",lastUpdatedBy:this.get("loginName")}}).then(function(){_666.remove(item.id);});},postLoad:function(_667){var _668=[];if(_667&&Array.isArray(_667.advisorSteps)){var _669=this.appNames;var _66a=this.minDates;var _66b=this.maxDates;_667.advisorSteps.forEach(function(step){function _66c(_66d,_66e){_66d.forEach(function(_66f){_66f.priorityDates.forEach(function(item){item.appId=step.advisorStep;item.appName=_669[step.advisorStep];item.id=item.stayDate+"-"+item.appId+"-"+_66f.priority;item.priority=_66f.priority;item.date=item.stayDate;if(_66e){item.roomPoolCollection=_66e;}if(step.advisorStep=="H"){var _670=_664.fromISOString(item.date);var _671=_664.fromISOString(_66a[step.advisorStep]);var _672=_664.fromISOString(_66b[step.advisorStep]);if(_670>=_671&&_670<=_672){_668.push(item);}}else{_668.push(item);}});});};if(step.roomPoolCollections){step.roomPoolCollections.forEach(function(_673){_66c(_673.priorities,_673.roomPoolCollection);});}else{_66c(step.priorities);}});}this._setStoreData(_668);},_getLoadUrl:function(){return this.contextPath+"api/rest/priorityDates/v1/properties/"+this.propertyCode+"/stays";}});});},"advisor/models/TransactionLog":function(){define(["./_Model","dojo/promise/all"],function(_674,all){return _674.createSubclass([],{getInventoryOptimizationLog:function(_675,_676,_677){function _678(type){return self.get("contextPath")+"api/rest/transactionlogs.io."+type+"/v1/properties/"+self.get("propertyCode")+"/runs/"+_675+"/status/"+_677;};function _679(_67a,_67b){_67b=_67b||"startTime";return _67a.then(function(data){return data.sort(function(a,b){if(a[_67b]<b[_67b]){return -1;}if(a[_67b]>b[_67b]){return 1;}return 0;});});};var self=this;switch(_676){case "Mini-Hotel Auth":return _679(this._requestGet(_678("minihotel")));case "Room Pool Auth":return _679(all([this._requestGet(_678("roomauth")),this._requestGet(_678("tha"))]).then(function(_67c){var data;if(_67c){data=_67c[0];if(_67c[1]){data=data.concat(_67c[1]);}}return data;}));case "Reservation":return _679(this._requestGet(_678("reservation")),"endTime");default:throw new Error("Unknown subprocess name "+_676);}},getStatusHistory:function(){var url=this.get("contextPath")+"api/rest/statusHistory/v1/properties/"+this.get("propertyCode")+"/datadate/"+this.get("dataDate");return this._requestGet(url);},getTransactionLog:function(_67d){var url=this.get("contextPath")+"api/rest/transactionLogs/v1/properties/"+this.get("propertyCode");return this._requestGet(url,{query:{optrunid:_67d}});},_contextPathGetter:function(){return this.forecastContextPath;}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_67e,_67f,_680,on,has,_681,List,_682,put){has.add("dom-comparedocumentposition",function(_683,doc,_684){return !!_684.compareDocumentPosition;});has.add("pointer",function(_685,doc,_686){return "onpointerdown" in _686?"pointer":"onmspointerdown" in _686?"MSPointer":false;});has.add("css-user-select",function(_687,doc,_688){var _689=_688.style,_68a=["Khtml","O","ms","Moz","Webkit"],i=_68a.length,name="userSelect";do{if(typeof _689[name]!=="undefined"){return name;}}while(i--&&(name=_68a[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _68b=has("mac")?"metaKey":"ctrlKey",_68c=has("css-user-select"),_68d=has("pointer"),_68e=_68d&&_68d.slice(0,2)==="MS",_68f=_68d?_68d+(_68e?"Down":"down"):"mousedown",_690=_68d?_68d+(_68e?"Up":"up"):"mouseup";function _691(node,_692){var _693=node.unselectable=_692?"on":"",_694=node.getElementsByTagName("*"),i=_694.length;while(--i){if(_694[i].tagName==="INPUT"||_694[i].tagName==="TEXTAREA"){continue;}_694[i].unselectable=_693;}};function _695(grid,_696){var node=grid.bodyNode,_697=_696?"text":has("ff")<21?"-moz-none":"none";if(_68c&&_68c!=="msUserSelect"){node.style[_68c]=_697;}else{if(has("dom-selectstart")){if(!_696&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_696&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_691(node,!_696);if(!_696&&!grid._unselectableHandle){grid._unselectableHandle=_681.after(grid,"renderRow",function(row){_691(row,true);return row;});}else{if(_696&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _67f(null,{selectionDelegate:".dgrid-row",selectionEvents:_68f+","+_690+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_682.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _698=this.selectionMode;this.selectionMode="";this._setSelectionMode(_698);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_67e.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(_699){if(typeof _699!=="undefined"){_695(this,_699);}else{_695(this,this.selectionMode==="none");}this.allowTextSelection=_699;},_handleSelect:function(_69a,_69b){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_69b))||(_69a.type==="dgrid-cellfocusin"&&_69a.parentType==="mousedown")||(_69a.type===_690&&_69b!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=_69a;if(!_69a.keyCode||!_69a.ctrlKey||_69a.keyCode==32){if(!_69a.shiftKey&&_69a.type===_68f&&this.isSelected(_69b)){this._waitForMouseUp=_69b;}else{this[this._selectionHandlerName](_69a,_69b);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(_69c,_69d){var _69e=_69c.keyCode?_69c.ctrlKey:_69c[_68b];if(this._lastSelected===_69d){this.select(_69d,null,!_69e||!this.isSelected(_69d));}else{this.clearSelection();this.select(_69d);this._lastSelected=_69d;}},_multipleSelectionHandler:function(_69f,_6a0){var _6a1=this._lastSelected,_6a2=_69f.keyCode?_69f.ctrlKey:_69f[_68b],_6a3;if(!_69f.shiftKey){_6a3=_6a2?null:true;_6a1=null;}this.select(_6a0,_6a1,_6a3);if(!_6a1){this._lastSelected=_6a0;}},_extendedSelectionHandler:function(_6a4,_6a5){if(_6a4.button===2?!this.isSelected(_6a5):!(_6a4.keyCode?_6a4.ctrlKey:_6a4[_68b])){this.clearSelection(null,true);}this._multipleSelectionHandler(_6a4,_6a5);},_toggleSelectionHandler:function(_6a6,_6a7){this.select(_6a7,null,null);},_initSelectionEvents:function(){var grid=this,_6a8=this.contentNode,_6a9=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_6a8,_682.selector(_6a9,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_6a8,on.selector(_6a9,this.selectionEvents),function(_6aa){if(grid._ignoreMouseSelect!==this){grid._handleSelect(_6aa,this);}else{if(_6aa.type===_690){grid._ignoreMouseSelect=null;}}});}else{on(_6a8,on.selector(_6a9,this.selectionEvents),function(_6ab){grid._handleSelect(_6ab,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(_6ac){grid._handleSelect(_6ac,_6ac.target);});}if(this.allowSelectAll){this.on("keydown",function(_6ad){if(_6ad[_68b]&&_6ad.keyCode==65&&!/\bdgrid-input\b/.test(_6ad.target.className)){_6ad.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_681.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,_6ae=this.store,_6af,_6b0;function _6b1(_6b2,_6b3,_6b4){var id=_6b3||(_6b2&&_6b2[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_6b5=row&&self.selection[row.id];if(_6b5){self[_6b4](row,null,_6b5);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(_6ae&&_6ae.notify){_6af=_681.before(_6ae,"notify",function(_6b6,_6b7){if(!_6b6){_6b1(_6b6,_6b7,"deselect");}});_6b0=_681.after(_6ae,"notify",function(_6b8,_6b9){_6b1(_6b8,_6b9,"select");},true);this._removeDeselectSignals=function(){_6af.remove();_6b0.remove();};}else{_6af=_681.before(this,"removeRow",function(_6ba,_6bb){var row;if(!_6bb){row=this.row(_6ba);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_6af.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var _6bc=this._selectionEventQueues[type],_6bd=this._selectionTriggerEvent,_6be;_6be={bubbles:true,grid:this};if(_6bd){_6be.parentType=_6bd.type;}_6be[this._selectionTargetType]=_6bc;on.emit(this.contentNode,"dgrid-"+type,_6be);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _6bf=this._selectionEventQueues,type;for(type in _6bf){if(_6bf[type].length){this._fireSelectionEvent(type);}}},_select:function(row,_6c0,_6c1){var _6c2,_6c3,_6c4,_6c5,_6c6;if(typeof _6c1==="undefined"){_6c1=true;}if(!row.element){row=this.row(row);}if(_6c1===false||this.allowSelect(row)){_6c2=this.selection;_6c3=!!_6c2[row.id];if(_6c1===null){_6c1=!_6c3;}_6c4=row.element;if(!_6c1&&!this.allSelected){delete this.selection[row.id];}else{_6c2[row.id]=_6c1;}if(_6c4){if(_6c1){put(_6c4,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_6c4,"!dgrid-selected!ui-state-active");}}if(_6c1!==_6c3&&_6c4){this._selectionEventQueues[(_6c1?"":"de")+"select"].push(row);}if(_6c0){if(!_6c0.element){_6c0=this.row(_6c0);}if(!_6c0){this._lastSelected=_6c4;console.warn("The selection range has been reset because the "+"beginning of the selection is no longer in the DOM. "+"If you are using OnDemandList, you may wish to increase "+"farOffRemoval to avoid this, but note that keeping more nodes "+"in the DOM may impact performance.");return;}_6c5=_6c0.element;if(_6c5){_6c6=this._determineSelectionDirection(_6c4,_6c5);if(!_6c6){_6c5=document.getElementById(_6c5.id);_6c6=this._determineSelectionDirection(_6c4,_6c5);}while(row.element!=_6c5&&(row=this[_6c6](row))){this._select(row,null,_6c1);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _6c7=to.compareDocumentPosition(from);if(_6c7&1){return false;}return _6c7===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,_6c8,_6c9){this._select(row,_6c8,_6c9);this._fireSelectionEvents();},deselect:function(row,_6ca){this.select(row,_6ca,false);},clearSelection:function(_6cb,_6cc){this.allSelected=false;for(var id in this.selection){if(_6cb!==id){this._select(id,null,false);}}if(!_6cc){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_6cd){if(typeof _6cd==="undefined"||_6cd===null){return false;}if(!_6cd.element){_6cd=this.row(_6cd);}return (_6cd.id in this.selection)?!!this.selection[_6cd.id]:this.allSelected&&(!_6cd.data||this.allowSelect(_6cd));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_680.when(rows,function(rows){var _6ce=grid.selection,i,row,_6cf;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_6cf=row.id in _6ce?_6ce[row.id]:grid.allSelected;if(_6cf){grid._select(row,null,_6cf);}}grid._fireSelectionEvents();});return rows;}});});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_6d0,dom,_6d1,_6d2,lang,has,_6d3){var _6d4;var a11y={_isElementShown:function(elem){var s=_6d2.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_6d1.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _6d1.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _6d5=elem.contentDocument;if("designMode" in _6d5&&_6d5.designMode=="on"){return true;}body=_6d5.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_6d1.get(elem,"disabled")){return _6d4;}else{if(_6d1.has(elem,"tabIndex")){return +_6d1.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_6d4;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _6d6,last,_6d7,_6d8,_6d9,_6da,_6db={};function _6dc(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _6dd=a11y._isElementShown,_6de=a11y.effectiveTabIndex;var _6df=function(_6e0){for(var _6e1=_6e0.firstChild;_6e1;_6e1=_6e1.nextSibling){if(_6e1.nodeType!=1||(has("ie")<=9&&_6e1.scopeName!=="HTML")||!_6dd(_6e1)){continue;}var _6e2=_6de(_6e1);if(_6e2>=0){if(_6e2==0){if(!_6d6){_6d6=_6e1;}last=_6e1;}else{if(_6e2>0){if(!_6d7||_6e2<_6d8){_6d8=_6e2;_6d7=_6e1;}if(!_6d9||_6e2>=_6da){_6da=_6e2;_6d9=_6e1;}}}var rn=_6dc(_6e1);if(_6d1.get(_6e1,"checked")&&rn){_6db[rn]=_6e1;}}if(_6e1.nodeName.toUpperCase()!="SELECT"){_6df(_6e1);}}};if(_6dd(root)){_6df(root);}function rs(node){return _6db[_6dc(node)]||node;};return {first:rs(_6d6),last:rs(last),lowest:rs(_6d7),highest:rs(_6d9)};},getFirstInTabbingOrder:function(root,doc){var _6e3=a11y._getTabNavigable(dom.byId(root,doc));return _6e3.lowest?_6e3.lowest:_6e3.first;},getLastInTabbingOrder:function(root,doc){var _6e4=a11y._getTabNavigable(dom.byId(root,doc));return _6e4.last?_6e4.last:_6e4.highest;}};1&&lang.mixin(_6d3,a11y);return a11y;});},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_6e5,_6e6,_6e7,_6e8){return _6e8("dojox.layout.ContentPane",_6e6,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_6e5.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _6e9=this._contentSetter;if(!(_6e9&&_6e9 instanceof _6e7._ContentSetter)){_6e9=this._contentSetter=new _6e7._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _6ea=this.onContentError(e);try{this.containerNode.innerHTML=_6ea;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments);},destroy:function(){var _6eb=this._contentSetter;if(_6eb){_6eb.tearDown();}this.inherited(arguments);}});});},"put-selector/put":function(){(function(_6ec){var _6ed,_6ee=/[-+,> ]/;_6ec([],_6ed=function(doc,_6ef){"use strict";_6ee=_6ef||_6ee;var _6f0=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_6f1,_6f2,_6f3=false,doc=doc||document,_6f4=typeof doc.createElement=="object";function _6f5(_6f6,text){_6f6.appendChild(doc.createTextNode(text));};function put(_6f7){var _6f8,_6f9,_6fa,_6fb,_6fc,args=arguments,_6fd=args[0];function _6fe(){if(_6fc&&_6fb&&_6fc!=_6fb){(_6fb==_6f7&&(_6f8||(_6f8=_6ee.test(_6ff)&&doc.createDocumentFragment()))?_6f8:_6fb).insertBefore(_6fc,_6fa||null);}};for(var i=0;i<args.length;i++){var _6ff=args[i];if(typeof _6ff=="object"){_6f9=false;if(_6ff instanceof Array){_6fc=doc.createDocumentFragment();for(var key=0;key<_6ff.length;key++){_6fc.appendChild(put(_6ff[key]));}_6ff=_6fc;}if(_6ff.nodeType){_6fc=_6ff;_6fe();_6fb=_6ff;_6fa=0;}else{for(var key in _6ff){_6fc[key]=_6ff[key];}}}else{if(_6f9){_6f9=false;_6f5(_6fc,_6ff);}else{if(i<1){_6f7=null;}_6f9=true;var _700=_6ff.replace(_6f0,function(t,_701,_702,_703,_704,_705){if(_701){_6fe();if(_701=="-"||_701=="+"){_6fb=(_6fa=(_6fc||_6fb)).parentNode;_6fc=null;if(_701=="+"){_6fa=_6fa.nextSibling;}}else{if(_701=="<"){_6fb=_6fc=(_6fc||_6fb).parentNode;}else{if(_701==","){_6fb=_6f7;}else{if(_6fc){_6fb=_6fc;}}_6fc=null;}_6fa=0;}if(_6fc){_6fb=_6fc;}}var tag=!_702&&_703;if(tag||(!_6fc&&(_702||_704))){if(tag=="$"){_6f5(_6fb,args[++i]);}else{tag=tag||put.defaultTag;var _706=_6f4&&args[i+1]&&args[i+1].name;if(_706){tag="<"+tag+" name=\""+_706+"\">";}_6fc=_6f3&&~(_6f2=tag.indexOf("|"))?doc.createElementNS(_6f3[tag.slice(0,_6f2)],tag.slice(_6f2+1)):doc.createElement(tag);}}if(_702){if(_703=="$"){_703=args[++i];}if(_702=="#"){_6fc.id=_703;}else{var _707=_6fc.className;var _708=_707&&(" "+_707+" ").replace(" "+_703+" "," ");if(_702=="."){_6fc.className=_707?(_708+_703).substring(1):_703;}else{if(_6ff=="!"){var _709;if(_6f4){put("div",_6fc,"<").innerHTML="";}else{if(_709=_6fc.parentNode){_709.removeChild(_6fc);}}}else{_708=_708.substring(1,_708.length-1);if(_708!=_707){_6fc.className=_708;}}}}}if(_704){if(_705=="$"){_705=args[++i];}if(_704=="style"){_6fc.style.cssText=_705;}else{var _70a=_704.charAt(0)=="!"?(_704=_704.substring(1))&&"removeAttribute":"setAttribute";_705=_705===""?_704:_705;_6f3&&~(_6f2=_704.indexOf("|"))?_6fc[_70a+"NS"](_6f3[_704.slice(0,_6f2)],_704.slice(_6f2+1),_705):_6fc[_70a](_704,_705);}}return "";});if(_700){throw new SyntaxError("Unexpected char "+_700+" in "+_6ff);}_6fe();_6fb=_6fd=_6fc||_6fb;}}}if(_6f7&&_6f8){_6f7.appendChild(_6f8);}return _6fd;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_6f3||(_6f3={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_6ed;return put;});})(function(id,deps,_70b){_70b=_70b||deps;if(typeof define==="function"){define([],function(){return _70b();});}else{if(typeof window=="undefined"){require("./node-html")(module,_70b);}else{put=_70b();}}});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_70c,lang,_70d,_70e,_70f,_710,_711,_712,_713){return _70c("dijit.form.DropDownButton",[_710,_711,_712],{baseClass:"dijitDropDownButton",templateString:_713,_fillContent:function(){if(this.srcNodeRef){var _714=_70d("*",this.srcNodeRef);this.inherited(arguments,[_714[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _715=_70d("[widgetId]",this.dropDownContainer)[0];if(_715){this.dropDown=_70e.byNode(_715);}delete this.dropDownContainer;}if(this.dropDown){_70f.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _716=this.dropDown;return (!!_716&&(!_716.href||_716.isLoaded));},loadDropDown:function(_717){var _718=this.dropDown;var _719=_718.on("load",lang.hitch(this,function(){_719.remove();_717();}));_718.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_71a,_71b,_71c,has,_71d,_71e,_71f,_720,_721){if(has("dijit-legacy-requires")){_71e(0,function(){var _722=["dijit/form/RadioButton"];_71a(_722);});}return _71b("dijit.form.CheckBox",[_71f,_720],{templateString:_721,baseClass:"dijitCheckBox",_setValueAttr:function(_723,_724){if(typeof _723=="string"){this.inherited(arguments);_723=true;}if(this._created){this.set("checked",_723,_724);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_71d("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_71d("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_725,_726,_727,dom,_728,_729,_72a,keys,lang,on,has,win,_72b,pm,_72c,_72d){if(has("dijit-legacy-requires")){_72d(0,function(){var _72e=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_725(_72e);});}return _727("dijit.Menu",_72c,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_726.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_72f){return _72b.get(this._iframeContentDocument(_72f))||this._iframeContentDocument(_72f)["__parent__"]||(_72f.name&&document.frames[_72f.name])||null;},_iframeContentDocument:function(_730){return _730.contentDocument||(_730.contentWindow&&_730.contentWindow.document)||(_730.name&&document.frames[_730.name]&&document.frames[_730.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _731=node,_732=this._iframeContentWindow(_731);cn=win.body(_732.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _733={node:node,iframe:_731};_728.set(node,"_dijitMenu"+this.id,this._bindings.push(_733));var _734=lang.hitch(this,function(cn){var _735=this.selector,_736=_735?function(_737){return on.selector(_735,_737);}:function(_738){return _738;},self=this;return [on(cn,_736(this.leftClickToOpen?"click":"contextmenu"),function(evt){evt.stopPropagation();evt.preventDefault();if((new Date()).getTime()<this._lastKeyDown+500){return;}self._scheduleOpen(this,_731,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_736("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(this.leftClickToOpen&&evt.keyCode==keys.SPACE)){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_731,null,evt.target);this._lastKeyDown=(new Date()).getTime();}})];});_733.connects=cn?_734(cn):[];if(_731){_733.onloadHandler=lang.hitch(this,function(){var _739=this._iframeContentWindow(_731),cn=win.body(_739.document);_733.connects=_734(cn);});if(_731.addEventListener){_731.addEventListener("load",_733.onloadHandler,false);}else{_731.attachEvent("onload",_733.onloadHandler);}}},unBindDomNode:function(_73a){var node;try{node=dom.byId(_73a,this.ownerDocument);}catch(e){return;}var _73b="_dijitMenu"+this.id;if(node&&_728.has(node,_73b)){var bid=_728.get(node,_73b)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _73c=b.iframe;if(_73c){if(_73c.removeEventListener){_73c.removeEventListener("load",b.onloadHandler,false);}else{_73c.detachEvent("onload",b.onloadHandler);}}_728.remove(node,_73b);delete this._bindings[bid];}},_scheduleOpen:function(_73d,_73e,_73f,_740){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_740,delegatedTarget:_73d,iframe:_73e,coords:_73f});},1);}},_openMyself:function(args){var _741=args.target,_742=args.iframe,_743=args.coords,_744=!_743;this.currentTarget=args.delegatedTarget;if(_743){if(_742){var ifc=_729.position(_742,true),_745=this._iframeContentWindow(_742),_746=_729.docScroll(_745.document);var cs=_72a.getComputedStyle(_742),tp=_72a.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_742,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_742,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_742,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_742,cs.borderTopWidth):0);_743.x+=ifc.x+left-_746.x;_743.y+=ifc.y+top-_746.y;}}else{_743=_729.position(_741,true);_743.x+=10;_743.y+=10;}var self=this;var _747=this._focusManager.get("prevNode");var _748=this._focusManager.get("curNode");var _749=!_748||(dom.isDescendant(_748,this.domNode))?_747:_748;function _74a(){if(self.refocus&&_749){_749.focus();}pm.close(self);};pm.open({popup:this,x:_743.x,y:_743.y,onExecute:_74a,onCancel:_74a,orient:this.isLeftToRight()?"L":"R"});this.focus();if(!_744){this.defer(function(){this._cleanUp(true);});}this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_726.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"advisor/models/WatchDates":function(){define(["./_DateStoreModel"],function(_74b){return _74b.createSubclass([],{addItem:function(item){var self=this;return this._requestPut(this._getAddUrl(item),{data:this._getAddData(item)}).then(function(){self.store.put(item);});},deleteItems:function(_74c){var _74d=this.get("store");return this._requestPost(this.contextPath+"api/rest/watchDates_delete",{data:{property:this.get("propertyCode"),stayDates:_74c.map(function(item){return item.date;}),advisorStep:_74c[0].appId,eid:this.get("loginName")}}).then(function(){_74c.forEach(function(item){_74d.remove(item.id);});});},postLoad:function(_74e){var _74f=[];if(_74e&&Array.isArray(_74e.advisorSteps)){var _750=this.appNames;_74e.advisorSteps.forEach(function(step){step.watchDates.forEach(function(item){item.appId=step.advisorStep;item.appName=_750[step.advisorStep];item.id=item.stayDate+"-"+item.appId;item.date=item.stayDate;item.notes=item.notesTxt;_74f.push(item);});});}this._setStoreData(_74f);},_getAddData:function(item){return {property:this.get("propertyCode"),advisorSteps:[{advisorStep:item.appId,watchDates:[{stayDate:item.date,notesTxt:item.notes,lastUpdatedBy:this.get("loginName")}]}]};},_getAddUrl:function(){return this.contextPath+"api/rest/watchDates";},_getLoadUrl:function(){return this.contextPath+"api/rest/watchDates/v1/properties/"+this.propertyCode+"/stays";}});});},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_751,lang,dom){var _752=lang.getObject("dojo.dnd",true);_752.getCopyKeyState=function(evt){return evt[has("mac")?"metaKey":"ctrlKey"];};_752._uniqueId=0;_752.getUniqueId=function(){var id;do{id=_751._scopeName+"Unique"+(++_752._uniqueId);}while(dom.byId(id));return id;};_752._empty={};_752.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _752;});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_753,lang,_754,_755,_756,on,_757,_758,_759,_75a,_75b,_75c){var _75d=_753("dijit.DialogUnderlay",[_758,_759],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_755.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_75e){this.node.className="dijitDialogUnderlay "+_75e;this._set("class",_75e);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _75f=_757.getBox(this.ownerDocument);os.top=_75f.t+"px";os.left=_75f.l+"px";is.width=_75f.w+"px";is.height=_75f.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _75a(this.domNode);var win=_757.get(this.ownerDocument);this._modalConnects=[_75b.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_75d.show=function(_760,_761){var _762=_75d._singleton;if(!_762||_762._destroyed){_762=_75c._underlay=_75d._singleton=new _75d(_760);}else{if(_760){_762.set(_760);}}_756.set(_762.domNode,"zIndex",_761);if(!_762.open){_762.show();}};_75d.hide=function(){var _763=_75d._singleton;if(_763&&!_763._destroyed){_763.hide();}};return _75d;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_764,_765){var _766=_764.NodeList,nlp=_766.prototype;nlp.connect=_766._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_766._adaptAsMap(dojo.coords);_766.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_765.forEach(_766.events,function(evt){var _767="on"+evt;nlp[_767]=function(a,b){return this.connect(_767,a,b);};});dojo.NodeList=_766;return _766;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_768,_769,_76a,_76b,win,_76c,_76d){function _76e(node,_76f,_770,_771){var view=_76c.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_768.some(_76f,function(_772){var _773=_772.corner;var pos=_772.pos;var _774=0;var _775={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_773.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_773.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_770){var res=_770(node,_772.aroundCorner,_773,_775,_771);_774=typeof res=="undefined"?0:res;}var _776=node.style;var _777=_776.display;var _778=_776.visibility;if(_776.display=="none"){_776.visibility="hidden";_776.display="";}var bb=_769.position(node);_776.display=_777;_776.visibility=_778;var _779={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_773.charAt(1)],_77a={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_773.charAt(0)],_77b=Math.max(view.l,_779),_77c=Math.max(view.t,_77a),endX=Math.min(view.l+view.w,_779+bb.w),endY=Math.min(view.t+view.h,_77a+bb.h),_77d=endX-_77b,_77e=endY-_77c;_774+=(bb.w-_77d)+(bb.h-_77e);if(best==null||_774<best.overflow){best={corner:_773,aroundCorner:_772.aroundCorner,x:_77b,y:_77c,w:_77d,h:_77e,overflow:_774,spaceAvailable:_775};}return !_774;});if(best.overflow&&_770){_770(node,best.aroundCorner,best.corner,best.spaceAvailable,_771);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_76a.get(body,"position"))){top-=_76a.get(body,"marginTop");side-=_76a.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _77f={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _780={at:function(node,pos,_781,_782,_783){var _784=_768.map(_781,function(_785){var c={corner:_785,aroundCorner:_77f[_785],pos:{x:pos.x,y:pos.y}};if(_782){c.pos.x+=_785.charAt(1)=="L"?_782.x:-_782.x;c.pos.y+=_785.charAt(0)=="T"?_782.y:-_782.y;}return c;});return _76e(node,_784,_783);},around:function(node,_786,_787,_788,_789){var _78a;if(typeof _786=="string"||"offsetWidth" in _786||"ownerSVGElement" in _786){_78a=_769.position(_786,true);if(/^(above|below)/.test(_787[0])){var _78b=_769.getBorderExtents(_786),_78c=_786.firstChild?_769.getBorderExtents(_786.firstChild):{t:0,l:0,b:0,r:0},_78d=_769.getBorderExtents(node),_78e=node.firstChild?_769.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_78a.y+=Math.min(_78b.t+_78c.t,_78d.t+_78e.t);_78a.h-=Math.min(_78b.t+_78c.t,_78d.t+_78e.t)+Math.min(_78b.b+_78c.b,_78d.b+_78e.b);}}else{_78a=_786;}if(_786.parentNode){var _78f=_76a.getComputedStyle(_786).position=="absolute";var _790=_786.parentNode;while(_790&&_790.nodeType==1&&_790.nodeName!="BODY"){var _791=_769.position(_790,true),pcs=_76a.getComputedStyle(_790);if(/relative|absolute/.test(pcs.position)){_78f=false;}if(!_78f&&/hidden|auto|scroll/.test(pcs.overflow)){var _792=Math.min(_78a.y+_78a.h,_791.y+_791.h);var _793=Math.min(_78a.x+_78a.w,_791.x+_791.w);_78a.x=Math.max(_78a.x,_791.x);_78a.y=Math.max(_78a.y,_791.y);_78a.h=_792-_78a.y;_78a.w=_793-_78a.x;}if(pcs.position=="absolute"){_78f=true;}_790=_790.parentNode;}}var x=_78a.x,y=_78a.y,_794="w" in _78a?_78a.w:(_78a.w=_78a.width),_795="h" in _78a?_78a.h:(_76b.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_78a.height+", width:"+_794+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_78a.height+", w:"+_794+" }","","2.0"),_78a.h=_78a.height);var _796=[];function push(_797,_798){_796.push({aroundCorner:_797,corner:_798,pos:{x:{"L":x,"R":x+_794,"M":x+(_794>>1)}[_797.charAt(1)],y:{"T":y,"B":y+_795,"M":y+(_795>>1)}[_797.charAt(0)]}});};_768.forEach(_787,function(pos){var ltr=_788;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _799=_76e(node,_796,_789,{w:_794,h:_795});_799.aroundNodePos=_78a;return _799;}};return _76d.place=_780;});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_79a,_79b){return _79a("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_79c){this._set("readOnly",_79c);_79b.set(this.focusNode,"readOnly",_79c);},_setLabelAttr:undefined,_getSubmitValue:function(_79d){return (_79d==null||_79d==="")?"on":_79d;},_setValueAttr:function(_79e){_79e=this._getSubmitValue(_79e);this._set("value",_79e);_79b.set(this.focusNode,"value",_79e);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_79b.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(_79f,lang,when,_7a0){var _7a1=function(_7a2){var _7a3,_7a4=[],_7a5=0;_7a2=lang.delegate(_7a2);_7a2.notify=function(_7a6,_7a7){_7a5++;var _7a8=_7a4.slice();for(var i=0,l=_7a8.length;i<l;i++){_7a8[i](_7a6,_7a7);}};var _7a9=_7a2.query;_7a2.query=function(_7aa,_7ab){_7ab=_7ab||{};var _7ac=_7a9.apply(this,arguments);if(_7ac&&_7ac.forEach){var _7ad=lang.mixin({},_7ab);delete _7ad.start;delete _7ad.count;var _7ae=_7a2.queryEngine&&_7a2.queryEngine(_7aa,_7ad);var _7af=_7a5;var _7b0=[],_7b1;_7ac.observe=function(_7b2,_7b3){if(_7b0.push(_7b2)==1){_7a4.push(_7b1=function(_7b4,_7b5){when(_7ac,function(_7b6){var _7b7=_7b6.length!=_7ab.count;var i,l,_7b2;if(++_7af!=_7a5){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _7b8,_7b9=-1,_7ba=-1;if(_7b5!==_7a3){for(i=0,l=_7b6.length;i<l;i++){var _7bb=_7b6[i];if(_7a2.getIdentity(_7bb)==_7b5){_7b8=_7bb;_7b9=i;if(_7ae||!_7b4){_7b6.splice(i,1);}break;}}}if(_7ae){if(_7b4&&(_7ae.matches?_7ae.matches(_7b4):_7ae([_7b4]).length)){var _7bc=_7b9>-1?_7b9:_7b6.length;_7b6.splice(_7bc,0,_7b4);_7ba=_7a0.indexOf(_7ae(_7b6),_7b4);_7b6.splice(_7bc,1);if((_7ab.start&&_7ba==0)||(!_7b7&&_7ba==_7b6.length)){_7ba=-1;}else{_7b6.splice(_7ba,0,_7b4);}}}else{if(_7b4){if(_7b5!==_7a3){_7ba=_7b9;}else{if(!_7ab.start){_7ba=_7a2.defaultIndex||0;_7b6.splice(_7ba,0,_7b4);}}}}if((_7b9>-1||_7ba>-1)&&(_7b3||!_7ae||(_7b9!=_7ba))){var _7bd=_7b0.slice();for(i=0;_7b2=_7bd[i];i++){_7b2(_7b4||_7b8,_7b9,_7ba);}}});});}var _7be={};_7be.remove=_7be.cancel=function(){var _7bf=_7a0.indexOf(_7b0,_7b2);if(_7bf>-1){_7b0.splice(_7bf,1);if(!_7b0.length){_7a4.splice(_7a0.indexOf(_7a4,_7b1),1);}}};return _7be;};}return _7ac;};var _7c0;function _7c1(_7c2,_7c3){var _7c4=_7a2[_7c2];if(_7c4){_7a2[_7c2]=function(_7c5){if(_7c0){return _7c4.apply(this,arguments);}_7c0=true;try{var _7c6=_7c4.apply(this,arguments);when(_7c6,function(_7c7){_7c3((typeof _7c7=="object"&&_7c7)||_7c5);});return _7c6;}finally{_7c0=false;}};}};_7c1("put",function(_7c8){_7a2.notify(_7c8,_7a2.getIdentity(_7c8));});_7c1("add",function(_7c9){_7a2.notify(_7c9);});_7c1("remove",function(id){_7a2.notify(undefined,id);});return _7a2;};lang.setObject("dojo.store.Observable",_7a1);return _7a1;});},"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","require","./_base/browser","require"],function(_7ca,has,_7cb,_7cc,lang,_7cd,_7ce,_7cf){if(_7ce.isDebug){_7cb(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_7ce.require;if(deps){deps=_7cd.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_7ca.isAsync){_7cb(deps);}else{_7cf(1,function(){_7cb(deps);});}}}return _7ca;});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_7d0,keys,_7d1,_7d2,_7d3){return _7d0("dijit.DropDownMenu",[_7d3,_7d2],{templateString:_7d1,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(evt){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_7d4,_7d5,_7d6,_7d7,has,_7d8,lang,_7d9,_7da,_7db,_7dc,_7dd,_7de){function _7df(){};function _7e0(_7e1){return function(obj,_7e2,_7e3,_7e4){if(obj&&typeof _7e2=="string"&&obj[_7e2]==_7df){return obj.on(_7e2.substring(2).toLowerCase(),lang.hitch(_7e3,_7e4));}return _7e1.apply(_7d6,arguments);};};_7d4.around(_7d6,"connect",_7e0);if(_7d8.connect){_7d4.around(_7d8,"connect",_7e0);}var _7e5=_7d7("dijit._Widget",[_7dc,_7dd,_7de],{onClick:_7df,onDblClick:_7df,onKeyDown:_7df,onKeyPress:_7df,onKeyUp:_7df,onMouseDown:_7df,onMouseMove:_7df,onMouseOut:_7df,onMouseOver:_7df,onMouseLeave:_7df,onMouseEnter:_7df,onMouseUp:_7df,constructor:function(_7e6){this._toConnect={};for(var name in _7e6){if(this[name]===_7df){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_7e6[name];delete _7e6[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_7df){return _7d6.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_7e7){_7d8.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_7e7);},attr:function(name,_7e8){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_7d8.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_7d9("[widgetId]",this.containerNode).map(_7db.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_7da(0,function(){var _7e9=["dijit/_base"];require(_7e9);});}return _7e5;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_7ea,keys,_7eb,has,_7ec){var ret=_7eb("dijit._OnDijitClickMixin",null,{connect:function(obj,_7ed,_7ee){return this.inherited(arguments,[obj,_7ed=="ondijitclick"?_7ec:_7ed,_7ee]);}});ret.a11yclick=_7ec;return ret;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_7ef,_7f0,_7f1,lang){lang.extend(_7f0,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _7f1("dijit._FocusMixin",null,{_focusManager:_7ef});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_7f2,_7f3,lang,_7f4,_7f5,_7f6,put){function noop(_7f7){return _7f7;};function _7f8(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_7f5.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _7f3(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_7f6.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_7f9){if(_7f9.set){this._columnsWithSet[_7f9.field]=_7f9;}this.inherited(arguments);},_updateNotifyHandle:function(_7fa){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_7fa&&typeof _7fa.notify==="function"){this._notifyHandle=_7f6.after(_7fa,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){console.warn("Observable store detected, but no sort order specified. "+"You may experience quirks when adding/updating items.  "+"These can be resolved by setting a sort order on the list or grid.");}}},_setStore:function(_7fb,_7fc,_7fd){this._updateNotifyHandle(_7fb);this.store=_7fb;this.dirty={};this.set("query",_7fc,_7fd);},_setQuery:function(_7fe,_7ff){var sort=_7ff&&_7ff.sort;this.query=_7fe!==undefined?_7fe:this.query;this.queryOptions=_7ff||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_800,_801,_802){_7f2.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_800,_801,_802);},setQuery:function(_803,_804){_7f2.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_803,_804);},_getQueryOptions:function(){var _805=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_805.sort=this._sort;}return _805;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_806,_807){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_808,_809){this.inherited(arguments);if(_808&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},insertRow:function(_80a,_80b,_80c,i,_80d){var _80e=this.store,_80f=this.dirty,id=_80e&&_80e.getIdentity(_80a),_810;if(id in _80f&&!(id in this._updating)){_810=_80f[id];}if(_810){_80a=lang.delegate(_80a,_810);}return this.inherited(arguments);},updateDirty:function(id,_811,_812){var _813=this.dirty,_814=_813[id];if(!_814){_814=_813[id]={};}_814[_811]=_812;},setDirty:function(id,_815,_816){_7f2.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_815,_816);},save:function(){var self=this,_817=this.store,_818=this.dirty,dfd=new _7f4(),_819=dfd.promise,_81a=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _817.get(id);}:function(){return data;};};function _81b(id,_81c){return function(_81d){var _81e=self._columnsWithSet,_81f=self._updating,key,data;if(typeof _81d.set==="function"){_81d.set(_81c);}else{for(key in _81c){_81d[key]=_81c[key];}}for(key in _81e){data=_81e[key].set(_81d);if(data!==undefined){_81d[key]=data;}}_81f[id]=true;return _7f4.when(_817.put(_81d),function(){delete _818[id];delete _81f[id];});};};for(var id in _818){var put=_81b(id,_818[id]);_819=_819.then(_81a(id)).then(put);}dfd.resolve();return _819;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _820;if(typeof func=="string"){func=lang.hitch(this,func);}try{_820=func();}catch(err){_7f8.call(this,err);}return _7f4.when(_820,noop,lang.hitch(this,_7f8));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_821,_822){var row={element:_821};if(!_822&&this.noDataMessage&&(this.up(row).element===_821)&&(this.down(row).element===_821)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_823,_824){return _823("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _825=this.checked;this._set("checked",!_825);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_825);return ret;},_setCheckedAttr:function(_826,_827){this._set("checked",_826);var node=this.focusNode||this.domNode;if(this._created){if(_824.get(node,"checked")!=!!_826){_824.set(node,"checked",!!_826);}}node.setAttribute(this._aria_attr,String(_826));this._handleOnChange(_826,_827);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_828,dom){var _829="className";var cls,_82a=/\s+/,a1=[""];function _82b(s){if(typeof s=="string"||s instanceof String){if(s&&!_82a.test(s)){a1[0]=s;return a1;}var a=s.split(_82a);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _828.filter(s,function(x){return x;});};var _82c={};cls={contains:function containsClass(node,_82d){return ((" "+dom.byId(node)[_829]+" ").indexOf(" "+_82d+" ")>=0);},add:function addClass(node,_82e){node=dom.byId(node);_82e=_82b(_82e);var cls=node[_829],_82f;cls=cls?" "+cls+" ":" ";_82f=cls.length;for(var i=0,len=_82e.length,c;i<len;++i){c=_82e[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_82f<cls.length){node[_829]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_830){node=dom.byId(node);var cls;if(_830!==undefined){_830=_82b(_830);cls=" "+node[_829]+" ";for(var i=0,len=_830.length;i<len;++i){cls=cls.replace(" "+_830[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_829]!=cls){node[_829]=cls;}},replace:function replaceClass(node,_831,_832){node=dom.byId(node);_82c[_829]=node[_829];cls.remove(_82c,_832);cls.add(_82c,_831);if(node[_829]!==_82c[_829]){node[_829]=_82c[_829];}},toggle:function toggleClass(node,_833,_834){node=dom.byId(node);if(_834===undefined){_833=_82b(_833);for(var i=0,len=_833.length,c;i<len;++i){c=_833[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_834?"add":"remove"](node,_833);}return _834;}};return cls;});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_835,_836,dom,_837,_838,_839,_83a,lang,on,_83b,has,_83c,win,_83d,a11y,_83e,_83f){var _840;var _841=_836([_83c,_83a],{curNode:null,activeStack:[],constructor:function(){var _842=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_835.before(_839,"empty",_842);_835.before(_839,"destroy",_842);},registerIframe:function(_843){return this.registerWin(_843.contentWindow,_843);},registerWin:function(_844,_845){var _846=this,body=_844.document&&_844.document.body;if(body){var mdh=on(_844.document,"mousedown, touchstart",function(evt){_846._justMouseDowned=true;setTimeout(function(){_846._justMouseDowned=false;},13);if(evt&&evt.target&&evt.target.parentNode==null){return;}_846._onTouchNode(_845||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_840=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_846._onFocusNode(_845||evt.target);}else{_846._onTouchNode(_845||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_840+100){return;}_846._onBlurNode(_845||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_838.contains(node,"dijitPopup")){node=node.firstChild;}var _847=[];try{while(node){var _848=_837.get(node,"dijitPopupParent");if(_848){node=_83e.byId(_848).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_83d.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_849=id&&_83e.byId(id);if(_849&&!(by=="mouse"&&_849.get("disabled"))){_847.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_847,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_84a,by){var _84b=this.activeStack,_84c=_84b.length-1,_84d=_84a.length-1;if(_84a[_84d]==_84b[_84c]){return;}this.set("activeStack",_84a);var _84e,i;for(i=_84c;i>=0&&_84b[i]!=_84a[i];i--){_84e=_83e.byId(_84b[i]);if(_84e){_84e._hasBeenBlurred=true;_84e.set("focused",false);if(_84e._focusManager==this){_84e._onBlur(by);}this.emit("widget-blur",_84e,by);}}for(i++;i<=_84d;i++){_84e=_83e.byId(_84a[i]);if(_84e){_84e.set("focused",true);if(_84e._focusManager==this){_84e._onFocus(by);}this.emit("widget-focus",_84e,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _84f=new _841();_83b(function(){var _850=_84f.registerWin(_83d.get(document));if(has("ie")){on(window,"unload",function(){if(_850){_850.remove();_850=null;}});}});_83f.focus=function(node){_84f.focus(node);};for(var attr in _84f){if(!/^_/.test(attr)){_83f.focus[attr]=typeof _84f[attr]=="function"?lang.hitch(_84f,attr):_84f[attr];}}_84f.watch(function(attr,_851,_852){_83f.focus[attr]=_852;});return _84f;});},"advisor/widgets/Calendar":function(){define(["dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Calendar","dojo/cldr/supplemental","dojo/dom-construct","dojo/on","dojo/aspect","dojo/date","dojo/date/locale","dojo/date/stamp","dijit/Menu","dijit/MenuItem","dijit/popup","dojo/i18n!../nls/common","dojo/text!./templates/Calendar.html","dojo/when","../util","dojo/query","dijit/form/CheckBox"],function(_853,_854,_855,_856,cldr,_857,on,_858,_859,_85a,_85b,Menu,_85c,_85d,i18n,_85e,when,util){_856=_856.createSubclass([],{buildRendering:function(){this.inherited(arguments);_857.destroy(this.domNode.querySelector(".dijitCalendarDayLabelTemplate").parentNode);var _85f=this.domNode.querySelector(".dijitCalendarMonthContainer");var days=_857.create("tr",{className:"days"},_85f,"before");var _860=this.dateLocaleModule.getNames("days","abbr","standAlone",this.lang);var _861=cldr.getFirstDayOfWeek(this.lang);var _862=this.dayNameCells=[];for(var n=0;n<_860.length;n++){_862.push(_857.create("th",{innerHTML:_860[(n+_861)%7].slice(0,2),className:"dijitCalendarDateLabel"},days));}},_createMonthWidget:function(){var _863=this.inherited(arguments);_863.dropDown.domNode.classList.add("cal-month-dropdown");return _863;}});return _853.createSubclass([_854,_855],{templateString:_85e,i18n:i18n,appId:"",minDate:null,maxDate:null,showAll:true,buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;var self=this;this.calendar=new _856({isDisabledDate:function(){return self._isDisabledDate.apply(self,arguments);},getClassForDate:function(date){date=util.toISODate(date);return self._getClassForDate.apply(self,[date].concat(Array.prototype.slice.call(arguments,1)));}},this.cal);this.domNode.classList.add("all-priority");},postCreate:function(){this.inherited(arguments);var _864=this.calendar;_864.increaseArrowNode.innerHTML="<span class=\"icon right-arrow-medium on\"></span>";_864.decreaseArrowNode.innerHTML="<span class=\"icon left-arrow-medium on\"></span>";var self=this;_858.before(_864,"_onDayClick",function(_865){var node=_865.target;while(node&&!node.dijitDateValue){node=node.parentElement;}var date=util.toISODate(new Date(node.dijitDateValue));var _866=self.priorityDatesStore.query({date:date});if(_866&&_866.length>1){if(self.get("showAll")||node.classList.contains("local")){self._openMenu(_866,node);}}});this.own(_864.watch("value",function(name,_867,_868){if(_864._ignoreNext){_864._ignoreNext=false;}else{self.set("selectedDate",util.toISODate(_868));}}));},_isLocal:function(item,_869){if(item.appId!==this.get("appId")){return false;}if(_869){for(var key in _869){if(item[key]!==_869[key]){return false;}}}return true;},isWeekend:function(date){if(typeof date==="string"){date=_85b.fromISOString(date);}return _85a.isWeekend(date);},isWeekendDay:function(day){var _86a=cldr.getWeekend();return day>=_86a.start&&day<=_86a.end;},onToggleAll:function(){var _86b=this.checkbox.get("checked");if(_86b){this.domNode.classList.remove("local-priority");this.domNode.classList.add("all-priority");}else{this.domNode.classList.add("local-priority");this.domNode.classList.remove("all-priority");}this.set("showAll",_86b);},refresh:function(){var _86c=this.calendar.get("value");this.calendar.dayNameCells.forEach(function(cell,i){var _86d=this.isWeekendDay(i);cell.classList[_86d?"add":"remove"]("weekend");},this);this.calendar._populateGrid();this._markDates("priority");this._markDates("watch");this.calendar._ignoreNext=true;this.calendar.set("value",_86c);},selectInitialDate:function(){function _86e(item){return self._isLocal(item,self.priorityDateFilter)&&item.date>=_86f&&item.date<=_870;};function _871(item){return self._isLocal(item)&&item.date>=_86f&&item.date<=_870;};var self=this;var _86f=this.minDate;var _870=this.maxDate;var sort=this.priorityDatesSort||[{attribute:"date"}];var _872=this.priorityDatesStore.query(_86e,{sort:sort});if(_872.length>0){this.set("selectedDate",_872[0].date);return;}var _873=this.watchDatesStore.query(_871,{sort:[{attribute:"date"}]});if(_873.length>0){this.set("selectedDate",_873[0].date);return;}this.set("selectedDate",this.marshaDatePlusOne||util.toISODate(new Date()));},_getClassForDate:function(date){function _874(){var _875=self.priorityDatesStore.query({date:date});if(!_875||_875.length===0){return;}_876.push("priority");var _877=_875.some(function(item){return self._isLocal(item,self.priorityDateFilter);});if(_877){_876.push("local");}if(_875.length>1||!_877){_876.push("foreign");}};function _878(){var _879=self.watchDatesStore.query({date:date});var _87a=_879.some(function(item){return self._isLocal(item);});if(_87a){_876.push("watch");}};function _87b(){var _87c=self.selectedDateRange;if(date===_87c.start){_876.push("rangeStart");}else{if(date===_87c.end){_876.push("rangeEnd");}else{if(date>_87c.start&&date<_87c.end){_876.push("rangeMiddle");}}}};var self=this;var _876=[];if(this.isWeekend(date)){_876.push("weekend");}if(this.priorityDatesStore){_874();}if(this.watchDatesStore){_878();}if(this.selectedDateRange){_87b();}return _876.join(" ");},_getSelectedDateAttr:function(){var date=this.calendar.get("value");if(date){date=util.toISODate(date);}return date;},_setSelectedDateAttr:function(date){if(this._isDisabledDate(date)){return;}this.set("selectedDateRange",null);var _87d=this.get("selectedDate");if(_87d!==date&&(_87d||date)){this.calendar.set("value",_85b.fromISOString(date));}this._set("selectedDate",date);this.emit("date-select",{detail:{date:date,appId:this.get("appId")}});},_setSelectedDateRangeAttr:function(_87e){this._set("selectedDateRange",_87e);this.refresh();},_isDisabledDate:function(date){if(typeof date==="object"){date=util.toISODate(date);}return (this.minDate&&date<this.minDate)||(this.maxDate&&date>this.maxDate);},_openMenu:function(_87f,node){function _880(){_85d.close(menu);};function _881(_882,item,_883){_883=_883||0;_882="<span class=\"label\">"+_882;if(_883===0){_882+=" - Priority";}_882+=" - "+item.priority+"</span><span class=\"arrow-box\">";if(item.item){_882+="<span class=\"icon go-arrow\"></span>";}_882+="</span>";var _884=new _85c({label:_882});if(_883>0){_884.domNode.classList.add("submenu-item");}menu.addChild(_884);if(item.children){Object.keys(item.children).forEach(function(key){_881(key,item.children[key],_883+1);});}if(item.item){_884.onClick=function(){self.emit("navigate-to",{detail:{priorityDateItem:item.item}});};}};var self=this;var menu=new Menu({baseClass:"calPopup",onBlur:_880,onClose:function(){this.destroyRecursive();}});var _885={};_87f.forEach(function(item){var _886=item.appName||item.appId;if(item.groupProperties){var menu=_885[_886];if(!menu){menu=_885[_886]={priority:item.priority};}else{menu.priority+=item.priority;}item.groupProperties.forEach(function(_887,_888){if(!menu.children){menu.children={};}if(_888===item.groupProperties.length-1){menu.children[item[_887]]={item:item,priority:item.priority};}else{menu=menu.children[item[_887]];if(menu){menu.priority+=item.priority;}else{menu=menu.children[item[_887]]={priority:item.priority};}}});}else{_885[_886]={item:item,priority:item.priority};}});Object.keys(_885).forEach(function(key){_881(key,_885[key]);});_85d.open({popup:menu,around:node,onCancel:_880,onExecute:_880});menu.focus();},_setPriorityDatesStoreAttr:function(_889){this._set("priorityDatesStore",_889);this.refresh();},_setWatchDatesStoreAttr:function(_88a){this._set("watchDatesStore",_88a);this.refresh();},_refreshDate:function(date){var node=this.calendar._getNodeByDate(_85b.fromISOString(date));if(!node){return;}["local","foreign","priority","watch"].forEach(function(_88b){node.classList.remove(_88b);});var _88c=this._getClassForDate(date);if(_88c){_88c.split(" ").forEach(function(_88d){node.classList.add(_88d);});}},_markDates:function(key){var _88e="_"+key+"Observer";if(this[_88e]){this[_88e].remove();this[_88e]=null;}var _88f=this[key+"DatesStore"];if(!_88f){return;}var self=this;var _890=_88f.query();if(_890.observe){this[_88e]=_890.observe(function(item,_891,_892){if(_891===-1){self._refreshDate(item.date);}else{if(_892===-1){self._refreshDate(item.date);}}});}return _890.forEach(function(item){self._refreshDate(item.date);});},_setMinDateAttr:function(date){if(date&&typeof date!=="string"){date=util.toISODate(date);}this._set("minDate",date);this.refresh();},_setMaxDateAttr:function(date){if(date&&typeof date!=="string"){date=util.toISODate(date);}this._set("maxDate",date);this.refresh();},_setPriorityDateFilterAttr:function(_893){this._set("priorityDateFilter",_893);this.refresh();},_setWeekendIndicatorModelAttr:function(_894){this._set("weekendIndicatorModel",_894);if(_894){var self=this;_894.loaded().then(function(){self.isWeekend=_894.isWeekend.bind(_894);self.isWeekendDay=_894.isWeekendDay.bind(_894);self.refresh();});}}});});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_895,_896,_897){var base=null;return _895("dojo.store.Memory",base,{constructor:function(_898){for(var i in _898){this[i]=_898[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_897,get:function(id){return this.data[this.index[id]];},getIdentity:function(_899){return _899[this.idProperty];},put:function(_89a,_89b){var data=this.data,_89c=this.index,_89d=this.idProperty;var id=_89a[_89d]=(_89b&&"id" in _89b)?_89b.id:_89d in _89a?_89a[_89d]:Math.random();if(id in _89c){if(_89b&&_89b.overwrite===false){throw new Error("Object already exists");}data[_89c[id]]=_89a;}else{_89c[id]=data.push(_89a)-1;}return id;},add:function(_89e,_89f){(_89f=_89f||{}).overwrite=false;return this.put(_89e,_89f);},remove:function(id){var _8a0=this.index;var data=this.data;if(id in _8a0){data.splice(_8a0[id],1);this.setData(data);return true;}},query:function(_8a1,_8a2){return _896(this.queryEngine(_8a1,_8a2)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _8a3={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_8a3[test]){_8a3[test]=true;var _8a4=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_8a5=has(_8a4[2]),_8a6=-_8a4[4];if((_8a6>0?_8a6<=_8a5&&(-_8a4[5]||_8a6)>=_8a5:!!_8a5)==!_8a4[1]){document.documentElement.className+=" has-"+test;}}}};});},"dojox/html/_base":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_8a7,_8a8,_8a9,_8aa,_8ab,lang,_8ac,has,_8ad,_8ae,when,_8af){var html=_8ab.getObject("dojox.html",true);if(has("ie")){var _8b0=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _8b1=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _8b2=html._adjustCssPaths=function(_8b3,_8b4){if(!_8b4||!_8b3){return;}if(_8b0){_8b4=_8b4.replace(_8b0,function(_8b5,pre,_8b6,url,post){return pre+(new _8ad(_8b3,"./"+url).toString())+post;});}return _8b4.replace(_8b1,function(_8b7,_8b8,_8b9,_8ba,_8bb,_8bc){if(_8b9){return "@import \""+(new _8ad(_8b3,"./"+_8b9).toString())+"\""+_8bc;}else{return "url("+(new _8ad(_8b3,"./"+_8bb).toString())+")"+_8bc;}});};var _8bd=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _8be=html._adjustHtmlPaths=function(_8bf,cont){var url=_8bf||"./";return cont.replace(_8bd,function(tag,_8c0,name,_8c1,_8c2,_8c3,_8c4,end){return _8c0+(name?(name+"="+_8c1+(new _8ad(url,_8c2).toString())+_8c1):("style="+_8c3+_8b2(url,_8c4)+_8c3))+end;});};var _8c5=html._snarfStyles=function(_8c6,cont,_8c7){_8c7.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_8c8){return _8c8.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_8c9,_8ca,_8cb,_8cc,_8cd,href){var i,attr=(_8ca||_8cc||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_8cb){i=_8c7.push(_8c6?_8b2(_8c6,_8cb):_8cb);}else{i=_8c7.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _8ce={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_8ce[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_8c7.attributes[i-1]=_8ce;}return "";});};var _8cf=html._snarfScripts=function(cont,_8d0){_8d0.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_8d1){return _8d1.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _8d2(src){if(_8d0.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_8ae.get({url:src,sync:true,load:function(code){_8d0.code+=code+";";},error:_8d0.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_8d3,_8d4,src,code){if(src){_8d2(src);}else{_8d0.code+=code;}return "";});};var _8d5=html.evalInGlobal=function(code,_8d6){_8d6=_8d6||_8af.doc.body;var n=_8d6.ownerDocument.createElement("script");n.type="text/javascript";_8d6.appendChild(n);n.text=code;};html._ContentSetter=_8a7(_8aa._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_8d7){this._styleNodes=[];var st,att,_8d8,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_8d7.length;i<e;i++){_8d8=_8d7[i];att=_8d7.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_8d8;}else{st.appendChild(doc.createTextNode(_8d8));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _8d9=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_8be(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_8c5(this.referencePath,cont,_8d9);}if(this.executeScripts){var _8da=this;var _8db={downloadRemote:true,errBack:function(e){_8da._onError.call(_8da,"Exec","Error downloading remote script in \""+_8da.id+"\"",e);}};cont=_8cf(cont,_8db);this._code=_8db.code;}}this.content=cont;},onEnd:function(){var code=this._code,_8dc=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_8a9.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_8dc&&_8dc.length){this._renderStyles(_8dc);}var d=new _8a8();var _8dd=this.getInherited(arguments),args=arguments,_8de=lang.hitch(this,function(){_8dd.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_8d5(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}_8ac(_8de);}else{_8de();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_8a9.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_8df){if(!_8df){return _8aa._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_8df,{content:cont,node:node}));return op.set();}};return html;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_8e0,dom,has,_8e1){var _8e2=_8e0("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _8e3=e.defaultPrevented;if(!_8e3&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _8e4=_8e1.byNode(node);if(_8e4&&typeof _8e4._onSubmit=="function"){_8e4._onSubmit(e);e.preventDefault();_8e3=true;break;}}}return !_8e3;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_8e5){this._set("label",_8e5);var _8e6=this.containerNode||this.focusNode;_8e6.innerHTML=_8e5;}});if(has("dojo-bidi")){_8e2=_8e0("dijit.form._ButtonMixin",_8e2,{_setLabelAttr:function(){this.inherited(arguments);var _8e7=this.containerNode||this.focusNode;this.applyTextDir(_8e7);}});}return _8e2;});},"advisor/widgets/DetailPane":function(){define(["require","dijit/_WidgetBase","dijit/registry","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom-construct","dojo/i18n!../nls/common","dojo/request","dojo/Deferred","dojo/topic","dojo/when","../util"],function(_8e8,_8e9,_8ea,lang,_8eb,_8ec,_8ed,_8ee,i18n,_8ef,_8f0,_8f1,when,util){return _8e9.createSubclass([],{baseClass:"detail-pane",context:null,configUrl:null,name:null,selectedDate:null,constructor:function(){this._loadDfd=new _8f0();},buildRendering:function(){this.inherited(arguments);var _8f2=this.containerNode=this.domNode;this.appNode=_8ee.create("div",{className:"detail-loading",innerHTML:i18n.loading+"..."},_8f2);},addTopButtons:function(node){if(!this.appWidget){return;}_8ee.place(this._appWidgetButtons,node,"last");},isDirty:function(){if(this.app&&this.app.isDirty){return this.app.isDirty();}if(this.appWidget&&this.appWidget.isDirty){return this.appWidget.isDirty();}},loaded:function(){return this._loadDfd.promise;},revert:function(){if(this.app&&this.app.revert){return this.app.revert();}if(this.appWidget&&this.appWidget.revert){return this.appWidget.revert();}},startup:function(){if(this._started){return;}this.inherited(arguments);var self=this;this._appWidgetButtons=_8ee.create("div",{className:"buttons-wrapper"});_8ef.get(this.configUrl,{handleAs:"json"}).then(function(_8f3){var deps=["core/Config",_8f3.main];if(self.mockServer){deps.push(self.mockServer);}_8e8({packages:_8f3.packages},deps,function(_8f4,app,_8f5){self.app=app;function _8f6(node,_8f7){_8f7.split(" ").forEach(function(_8f8){node.classList.add(_8f8);});};var _8f9=_8eb.add(_8ed.fromISOString(self.context.marshaDate),"day",1);var _8fa=lang.mixin(_8f3.context,self.context,{contextPath:_8f3.contextPath,embedded:"advisor",marshaDatePlusOneObj:_8f9,marshaDatePlusOne:_8ec.format(_8f9,{selector:"date",datePattern:"M/d/y"}),targetDate:self._toDateObject(self.selectedDate),propertyCode:self.context.propertyCode});if(_8fa.contextPath[_8fa.contextPath.length-1]!=="/"){_8fa.contextPath+="/";}_8f4.set(_8f3.contextName,_8fa);_8fa=_8f4.get(_8f3.contextName);if(_8f5){_8f5.start(_8fa);}["choice","confirm","showDialog","message"].forEach(function(_8fb){_8f1.subscribe("/"+self.moduleId+"/"+_8fb,function(){_8f1.publish.apply(_8f1.publish,["/advisor/"+_8fb].concat(Array.prototype.slice.call(arguments)));});});if(_8f3.cssClass){_8f6(self.domNode,_8f3.cssClass);_8f6(self._appWidgetButtons,_8f3.cssClass);}var _8fc=new _8f0();if(_8f3.stylesheet){var _8fd=util.find(document.styleSheets,function(item){if(item.href){return item.href.indexOf("advisor/main.css")!==-1;}});var _8fe=self._styleSheetNode=_8ee.create("link",{rel:"stylesheet",type:"text/css",href:_8f3.stylesheet},_8fd.ownerNode,"after");_8fe.addEventListener("load",function(){_8fc.resolve();});}else{_8fc.resolve();}_8fc.then(function(){return app.startup(self.appNode,_8fa);}).then(function(_8ff){self.appWidget=_8ff;self.appWidget.on("state-change",function(_900){self.emit("app-properties-change",_900);});_8f1.subscribe("inventory/settings/update",function(_901){self.appWidget.emit("thresholds-update",{details:_901.roomPoolNThresholdsMap});});var _902=self.appWidget.domNode.querySelector(".top-bar > .buttons");if(_902){self._appWidgetButtons.appendChild(_902);}when(self.appWidget.initialized).then(function(){self._loadDfd.resolve();});});});}).otherwise(function(_903){_8ee.create("h3",{innerHTML:"Error loading"},self.appNode,"only");var _904=_8ee.create("p",{},self.appNode);_904.textContent=_903.toString();self._loadDfd.reject(_903);});},removeTopButtons:function(){if(this._appWidgetButtons&&this._appWidgetButtons.parentNode){this._appWidgetButtons.parentNode.removeChild(this._appWidgetButtons);}},unload:function(){if(this._styleSheetNode){_8ee.destroy(this._styleSheetNode);this._styleSheetNode=null;}if(this.appWidget){this.appWidget.destroyRecursive();this.appWidget=null;}this._loadDfd=new _8f0();},_toDateObject:function(date){if(typeof date==="string"){date=_8ed.fromISOString(date);}return date;},_setAppPropertiesAttr:function(_905){this.appWidget&&this.appWidget.set(_905);},_setSelectedDateAttr:function(_906){this._set("selectedDate",_906);this.appWidget&&this.appWidget.set("targetDate",this._toDateObject(_906));}});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_907,has,_908,_909,_90a,_90b,_90c,_90d){if(has("dijit-legacy-requires")){_909(0,function(){var _90e=["dijit/form/_FormValueWidget"];require(_90e);});}return _907("dijit.form._FormWidget",[_90a,_90c,_90b,_90d],{setDisabled:function(_90f){_908.deprecated("setDisabled("+_90f+") is deprecated. Use set('disabled',"+_90f+") instead.","","2.0");this.set("disabled",_90f);},setValue:function(_910){_908.deprecated("dijit.form._FormWidget:setValue("+_910+") is deprecated.  Use set('value',"+_910+") instead.","","2.0");this.set("value",_910);},getValue:function(){_908.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_911,dom,_912,_913,_914,has,lang,_915,_916,_917,_918,_919){var _91a=_911("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_915,_916,_917,_918],{templateString:_919,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _91b="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_91b=val.charAt(ndx+1);var _91c=val.substr(0,ndx);var _91d=val.substr(ndx+3);text=_91c+_91b+_91d;val=_91c+"<span class=\"dijitMenuItemShortcutKey\">"+_91b+"</span>"+_91d;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_91b);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_91e){if(_91e&&!("label" in this.params)){this._set("label",_91e.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _91f=this.id+"_text";_912.set(this.containerNode,"id",_91f);if(this.accelKeyNode){_912.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_920){_913.toggle(this.domNode,"dijitMenuItemSelected",_920);},setLabel:function(_921){_914.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_921);},setDisabled:function(_922){_914.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_922);},_setDisabledAttr:function(_923){this.focusNode.setAttribute("aria-disabled",_923?"true":"false");this._set("disabled",_923);},_setAccelKeyAttr:function(_924){if(this.accelKeyNode){this.accelKeyNode.style.display=_924?"":"none";this.accelKeyNode.innerHTML=_924;_912.set(this.containerNode,"colSpan",_924?"1":"2");}this._set("accelKey",_924);}});if(has("dojo-bidi")){_91a=_911("dijit.MenuItem",_91a,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _91a;});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_925,_926){var _927=_926.prototype.onMove;return _925("dojo.dnd.TimedMoveable",_926,{timeout:40,constructor:function(node,_928){if(!_928){_928={};}if(_928.timeout&&typeof _928.timeout=="number"&&_928.timeout>=0){this.timeout=_928.timeout;}},onMoveStop:function(_929){if(_929._timer){clearTimeout(_929._timer);_927.call(this,_929,_929._leftTop);}_926.prototype.onMoveStop.apply(this,arguments);},onMove:function(_92a,_92b){_92a._leftTop=_92b;if(!_92a._timer){var _92c=this;_92a._timer=setTimeout(function(){_92a._timer=null;_927.call(_92c,_92a,_92a._leftTop);},this.timeout);}}});});},"widget/OverlayMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom-construct"],function(_92d,lang,_92e,_92f){return _92d(null,{overlayAttachPoint:"domNode",overlayContainerNode:null,errorOverlayAttachPoint:"",errorOverlayContainerNode:null,destroy:function(){this._destroyOverlay();this.inherited(arguments);},_destroyOverlay:function(){if(this._overlayPromise&&!this._overlayPromise.isFulfilled()){this._overlayPromise.cancel();}_92f.destroy(this._overlayNode);_92f.destroy(this._errorOverlayNode);this._overlayNode=this._errorOverlayNode=null;},showOverlay:function(_930){this._destroyOverlay();var _931=this._overlayPromise=_930;var self=this;var _932=_92f.create("div",{className:"overlay overlay-loading"},this.overlayContainerNode||lang.getObject(self.overlayAttachPoint,false,self));if(this.errorOverlayContainerNode||this.errorOverlayAttachPoint){_930=_930.otherwise(function(_933){if(_933.dojoType!=="CancelError"){var node=self._errorOverlayNode=_92f.create("div",{className:"overlay alert"},this.errorOverlayContainerNode||lang.getObject(self.errorOverlayAttachPoint,false,self));node.appendChild(document.createTextNode(_933.message||_933));}throw _933;});}_930=_930.always(function(){self._overlayPromise=null;var _934=getComputedStyle(_932);var _935=_934.transitionDuration||_934.webkitTransitionDuration||"0ms";_935=_935.slice(-2)==="ms"?+_935.slice(0,-2):+_935.slice(0,-1)*1000;setTimeout(function(){_92f.destroy(_932);self._overlayNode=null;},_935);_932.className+=" overlay-hidden";});return _931;}});});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_936,_937,dom,_938,_939,lang,_93a,on,_93b,_93c,_93d,_93e,_93f,_940,_941){return _937("dijit._MenuBase",[_93e,_941,_940,_93f],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_939.toggle(this.domNode,"dijitMenuActive",val);_939.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _942=_93d.byNode(node);return node.parentNode==this.containerNode&&_942&&_942.focus;},postCreate:function(){var self=this,_943=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_943,_93a.enter),function(){self.onItemHover(_93d.byNode(this));}),on(this.containerNode,on.selector(_943,_93a.leave),function(){self.onItemUnhover(_93d.byNode(this));}),on(this.containerNode,on.selector(_943,_93c),function(evt){self.onItemClick(_93d.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_944,_945){this.inherited(arguments);if(!!item&&(_945==-1||(!!item.popup&&_945==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_946){if(!!item.shortcutKey){return _946==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _947=this._getTopMenu();if(_947&&_947._isMenuBar){_947.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _948=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_948);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_949,_94a){if(_949==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _94b=_949.popup;_94b.parentMenu=this;this.own(this._mouseoverHandle=on.once(_94b.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_949._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_94a){self.focusChild(_949);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_94a);this.currentPopupItem=_949;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_938.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_94c){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_94c){this.set("selected",null);}}});});},"advisor/widgets/Actions":function(){define(["dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/_base/lang","dojo/Evented","dojo/aspect","dojo/dom-construct","dojo/text!./templates/Actions.html","dojo/i18n!../nls/common","dojo/promise/all"],function(_94d,_94e,lang,_94f,_950,_951,_952,i18n,all){return _94d.createSubclass([_94e,_94f],{templateString:_952,i18n:i18n,appId:null,model:null,selectedDate:null,priorityDatesStore:null,watchDatesStore:null,constructor:function(){this._observers=[];this._alertRequests=[];},buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;var _953=_951.create("div",{className:"watch-notes action"},this.watchNotes);_951.create("h1",{innerHTML:i18n.watchDates},_953);this.watchNotes=_951.create("div",{},_953);},startup:function(){if(!this._started){this.inherited(arguments);this.render();}},clear:function(){this.actions.innerHTML="";this.watchNotes.innerHTML="";this.domNode.classList.remove("show-actions");this.domNode.classList.remove("show-watch-notes");},render:function(){if(this._renderTimer){return;}var self=this;this._renderTimer=setTimeout(function(){self._renderTimer=null;self._render();});},_render:function(){function _954(data){var _955=self.actions;self.domNode.classList.add("show-actions");_955.appendChild(_951.create("h1",{innerHTML:data.alertTxt}));_955.appendChild(_951.create("p",{innerHTML:data.alertDesc||""}));if(data.actions&&data.actions.length>0){_955.appendChild(_951.create("div",{innerHTML:i18n.possibleAction+":"}));var list=_951.create("ul");data.actions.forEach(function(_956){list.appendChild(_951.create("li",{innerHTML:_956.actionTxt}));});_955.appendChild(list);}};this._alertRequests.forEach(function(_957){_957.cancel();});this._alertRequests=[];this._observers.forEach(function(_958){_958.remove();});this._observers=[];this.clear();var _959=this.get("priorityDatesStore");var _95a=this.get("model");if(!_959||!_95a){return;}var self=this;var _95b=lang.mixin({date:this.get("selectedDate"),appId:this.get("appId")},this.get("priorityDateFilter"));var _95c=this.get("priority");if(_95c!=null){_95b.priority=_95c;}var _95d=_959.query(_95b);this._alertRequests=_95d.filter(function(_95e){return _95e.alerts!=null;}).map(function(_95f){return all(_95f.alerts.reduce(function(_960,_961){var _962=_961.alertId;_961.actions.forEach(function(_963){_960.push(_95a.getAlertAction(_962,_963.actionId));});return _960;},[])).then(function(_964){_964.filter(function(_965){return _965!=null;}).forEach(_954);});});if(_95d.observe){this._observers.push(_95d.observe(function(){self.render();},true));}var _966=this.get("watchDatesStore");if(_966){_95b={date:this.get("selectedDate"),appId:this.get("appId")};var _967=_966.query(_95b);_967.forEach(function(item){self.domNode.classList.add("show-watch-notes");_951.create("p",{innerHTML:item.notes},self.watchNotes);});if(_967.observe){this._observers.push(_967.observe(function(){self.render();},true));}}},_setPriorityDateFilterAttr:function(_968){this._set("priorityDateFilter",_968);this.render();},_setPriorityAttr:function(_969){this._set("priority",_969);this.render();},_setPriorityDatesStoreAttr:function(_96a){this._setStore(_96a,"priority");},_setSelectedDateAttr:function(date){this._set("selectedDate",date);this.render();},_setStore:function(_96b,type){this._set(type+"DatesStore",_96b);if(_96b){var self=this;_96b.on("load",function(){self.render();});}},_setWatchDatesStoreAttr:function(_96c){this._setStore(_96c,"watch");},_getWatchDateTextAttr:function(){return this.watchNotes.textContent.trim();}});});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_96d,_96e,when){"use strict";var some=_96d.some;return function all(_96f){var _970,_96d;if(_96f instanceof Array){_96d=_96f;}else{if(_96f&&typeof _96f==="object"){_970=_96f;}}var _971;var _972=[];if(_970){_96d=[];for(var key in _970){if(Object.hasOwnProperty.call(_970,key)){_972.push(key);_96d.push(_970[key]);}}_971={};}else{if(_96d){_971=[];}}if(!_96d||!_96d.length){return new _96e().resolve(_971);}var _973=new _96e();_973.promise.always(function(){_971=_972=null;});var _974=_96d.length;some(_96d,function(_975,_976){if(!_970){_972.push(_976);}when(_975,function(_977){if(!_973.isFulfilled()){_971[_972[_976]]=_977;if(--_974===0){_973.resolve(_971);}}},_973.reject);return _973.isFulfilled();});return _973.promise;};});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_978,_979,lang){var _97a=0,_97b=[],_97c=0,_97d=function(){_97a=1;dojo._postLoad=dojo.config.afterOnLoad=true;_97e();},_97e=function(){if(_97c){return;}_97c=1;while(_97a&&(!_979||_979._Q.length==0)&&(_978.idle?_978.idle():true)&&_97b.length){var f=_97b.shift();try{f();}catch(e){e.info=e.message;if(_978.signal){_978.signal("error",e);}else{throw e;}}}_97c=0;};_978.on&&_978.on("idle",_97e);if(_979){_979._onQEmpty=_97e;}var _97f=dojo.ready=dojo.addOnLoad=function(_980,_981,_982){var _983=lang._toArray(arguments);if(typeof _980!="number"){_982=_981;_981=_980;_980=1000;}else{_983.shift();}_982=_982?lang.hitch.apply(dojo,_983):function(){_981();};_982.priority=_980;for(var i=0;i<_97b.length&&_980>=_97b[i].priority;i++){}_97b.splice(i,0,_982);_97e();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_97f[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(0&&dojo.config.parseOnLoad&&!dojo.isAsync){_97f(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_978(["dojo/parser"]);}});}if(_979){_979(_97d);}else{_97d();}return _97f;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_984,_985,_986,lang,on,has,_987,_988){var _989=_985("dijit._TemplatedMixin",_988,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _98a=this.declaredClass,_98b=this;return _987.substitute(tmpl,this,function(_98c,key){if(key.charAt(0)=="!"){_98c=lang.getObject(key.substr(1),false,_98b);}if(typeof _98c=="undefined"){throw new Error(_98a+" template:"+key);}if(_98c==null){return "";}return key.charAt(0)=="!"?_98c:_98c.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_984(this.templatePath,{sanitize:true});}var _98d=_989.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_98d)){node=_986.toDom(this._stringRepl(_98d),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_98d);}}else{node=_98d.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_98e){var dest=this.containerNode;if(_98e&&dest){while(_98e.hasChildNodes()){dest.appendChild(_98e.firstChild);}}}});_989._templateCache={};_989.getCachedTemplate=function(_98f,_990,doc){var _991=_989._templateCache;var key=_98f;var _992=_991[key];if(_992){try{if(!_992.ownerDocument||_992.ownerDocument==(doc||document)){return _992;}}catch(e){}_986.destroy(_992);}_98f=_987.trim(_98f);if(_990||_98f.match(/\$\{([^\}]+)\}/g)){return (_991[key]=_98f);}else{var node=_986.toDom(_98f,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_98f);}return (_991[key]=node);}};if(has("ie")){on(window,"unload",function(){var _993=_989._templateCache;for(var key in _993){var _994=_993[key];if(typeof _994=="object"){_986.destroy(_994);}delete _993[key];}});}return _989;});},"advisor/models/_DateStoreModel":function(){define(["./_Model","dojo/date","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","dojo/store/Observable","../stores/DateStore","../util"],function(_995,_996,_997,_998,lang,_999,_99a,util){return _995.createSubclass([],{appNames:null,constructor:function(){this.store=_999(new _99a());},_getLoadQuery:function(){return {startdate:this.get("minDate"),enddate:this.get("maxDate"),datadate:this.get("dataDate")};},_selectedDateGetter:function(){return this.selectedDate||util.toISODate(new Date());},_setStoreData:function(data){this.store.load(data);}});});},"advisor/models/_Model":function(){define(["dojo/Deferred","dojo/Evented","dojo/Stateful","dojo/_base/lang","dojo/errors/CancelError","dojo/request","dojo/when"],function(_99b,_99c,_99d,lang,_99e,_99f,when){return _99d.createSubclass([_99c],{constructor:function(){this._initialLoadDfd=new _99b();},load:function(){var self=this;if(this.loading){this.loading.cancel();}else{this._loadDfd=this._initialLoadDfd||new _99b();this._initialLoadDfd=undefined;this.emit("load-start",{detail:{promise:this._loadDfd.promise}});}var _9a0=this._getLoadOptions()||{};var _9a1=this._getLoadQuery();if(_9a1){_9a0.query=_9a1;}this.loading=this._requestGet(this._getLoadUrl(),_9a0).then(function(_9a2){self.loading=null;var data=self.postLoad(_9a2);self.emit("load-complete",{detail:{}});self._loadDfd.resolve(data);}).otherwise(function(_9a3){if(!(_9a3 instanceof _99e)){self._loadDfd.reject(_9a3);}});return this._loadDfd.promise;},loaded:function(){if(this._initialLoadDfd){return this._initialLoadDfd.promise;}return this._loadDfd.promise;},once:function(type,_9a4){var _9a5=this.on(type,function(_9a6){_9a5.remove();_9a4(_9a6);});return _9a5;},postLoad:function(_9a7){this._response=lang.clone(_9a7);return _9a7;},postSave:function(_9a8){this.commit();return _9a8;},save:function(){var self=this;var data=this._getSaveData();if(data){return this._saveRequest(this._getSaveUrl(),{query:this._getSaveQuery(),data:data}).then(function(_9a9){self.postSave(_9a9);}).otherwise(function(_9aa){self.emit("error",{detail:{error:new Error("Error saving: "+_9aa.message)}});throw _9aa;});}else{return when();}},_getLoadOptions:function(){},_getLoadQuery:function(){},_getLoadUrl:function(){throw new Error("Models must override _getLoadUrl");},_getSaveQuery:function(){},_getSaveUrl:function(){throw new Error("Models must override _getSaveUrl");},_requestDelete:function(url,_9ab){return this._requestSend(url,_9ab,"del");},_requestGet:function(url,_9ac){_9ac=_9ac||{};var _9ad=lang.mixin(null,_9ac,{handleAs:_9ac.handleAs||"json",headers:lang.mixin({"Content-Type":"application/json"},_9ac.headers),preventCache:true,query:lang.mixin({eid:this.loginName,propcode:this.propertyCode},_9ac.query)});return _99f.get(url,_9ad).then(function(_9ae){if(typeof _9ae==="object"&&_9ae.code===5001){throw new Error(_9ae.developerMessage);}return _9ae;});},_requestPost:function(url,_9af){return this._requestSend(url,_9af,"post");},_requestPut:function(url,_9b0){return this._requestSend(url,_9b0,"put");},_requestSend:function(url,_9b1,_9b2){_9b1=_9b1||{};var _9b3=lang.mixin(null,_9b1,{handleAs:_9b1.handleAs||"json",headers:lang.mixin({"Content-Type":"application/json"},_9b1.headers),preventCache:true,query:lang.mixin({eid:this.loginName,propcode:this.propertyCode},_9b1.query)});if(typeof _9b3.data==="object"){_9b3.data=JSON.stringify(_9b3.data);}return _99f[_9b2](url,_9b3);},_saveRequest:function(url,_9b4){return this._requestPut(url,_9b4);}});});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_9b5,dom,geom,_9b6,_9b7){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_9b5.body(doc),_9b8=_9b7.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_9b7.create("div",{style:{overflow:"hidden",direction:"ltr"}},_9b8,"last"),ret=geom.position(div).x!=0;_9b8.removeChild(div);body.removeChild(_9b8);return ret;});has.add("position-fixed-support",function(win,doc){var body=_9b5.body(doc),_9b9=_9b7.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_9ba=_9b7.create("span",{style:{position:"fixed",left:"0",top:"0"}},_9b9,"last"),ret=geom.position(_9ba).x!=geom.position(_9b9).x;_9b9.removeChild(_9ba);body.removeChild(_9b9);return ret;});var _9bb={getBox:function(doc){doc=doc||_9b5.doc;var _9bc=(doc.compatMode=="BackCompat")?_9b5.body(doc):doc.documentElement,_9bd=geom.docScroll(doc),w,h;if(has("touch")){var _9be=_9bb.get(doc);w=_9be.innerWidth||_9bc.clientWidth;h=_9be.innerHeight||_9bc.clientHeight;}else{w=_9bc.clientWidth;h=_9bc.clientHeight;}return {l:_9bd.x,t:_9bd.y,w:w,h:h};},get:function(doc){if(has("ie")&&_9bb!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_9b5.doc,body=_9b5.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _9bf=doc.compatMode=="BackCompat",_9c0=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_9c1=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_9c2=(isWK||_9bf)?body:html,_9c3=pos||geom.position(node),el=node.parentNode,_9c4=function(el){return (isIE<=6||(isIE==7&&_9bf))?false:(has("position-fixed-support")&&(_9b6.get(el,"position").toLowerCase()=="fixed"));},self=this,_9c5=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_9c4(node)){return;}while(el){if(el==body){el=_9c2;}var _9c6=geom.position(el),_9c7=_9c4(el),rtl=_9b6.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_9c2){_9c6.w=_9c0;_9c6.h=_9c1;if(_9c2==html&&(isIE||has("trident"))&&rtl){_9c6.x+=_9c2.offsetWidth-_9c6.w;}if(_9c6.x<0||!isIE||isIE>=9||has("trident")){_9c6.x=0;}if(_9c6.y<0||!isIE||isIE>=9||has("trident")){_9c6.y=0;}}else{var pb=geom.getPadBorderExtents(el);_9c6.w-=pb.w;_9c6.h-=pb.h;_9c6.x+=pb.l;_9c6.y+=pb.t;var _9c8=el.clientWidth,_9c9=_9c6.w-_9c8;if(_9c8>0&&_9c9>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_9c6.x+=_9c9;}_9c6.w=_9c8;}_9c8=el.clientHeight;_9c9=_9c6.h-_9c8;if(_9c8>0&&_9c9>0){_9c6.h=_9c8;}}if(_9c7){if(_9c6.y<0){_9c6.h+=_9c6.y;_9c6.y=0;}if(_9c6.x<0){_9c6.w+=_9c6.x;_9c6.x=0;}if(_9c6.y+_9c6.h>_9c1){_9c6.h=_9c1-_9c6.y;}if(_9c6.x+_9c6.w>_9c0){_9c6.w=_9c0-_9c6.x;}}var l=_9c3.x-_9c6.x,t=_9c3.y-_9c6.y,r=l+_9c3.w-_9c6.w,bot=t+_9c3.h-_9c6.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_9c2||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_9bf)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_9c5(el,s,0);s=el.scrollLeft-old;_9c3.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_9c2||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_9c5(el,0,s);s=el.scrollTop-old;_9c3.y-=s;}el=(el!=_9c2)&&!_9c7&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_9bb);return _9bb;});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_9ca,_9cb,_9cc,has,put,List,_9cd){var _9ce=has("ie")<8&&!has("quirks");function _9cf(_9d0,_9d1){if(_9d1&&_9d1.nodeType){_9d0.appendChild(_9d1);}};function _9d2(str){return _9cd.escapeCssIdentifier(str,"-");};var Grid=_9cb(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_9d3){if(typeof _9d3!="object"){return this.columns[_9d3];}else{return this.cell(_9d3).column;}},listType:"grid",cell:function(_9d4,_9d5){if(_9d4.column&&_9d4.element){return _9d4;}if(_9d4.target&&_9d4.target.nodeType){_9d4=_9d4.target;}var _9d6;if(_9d4.nodeType){var _9d7;do{if(this._rowIdToObject[_9d4.id]){break;}var _9d8=_9d4.columnId;if(_9d8){_9d5=_9d8;_9d6=_9d4;break;}_9d4=_9d4.parentNode;}while(_9d4&&_9d4!=this.domNode);}if(!_9d6&&typeof _9d5!="undefined"){var row=this.row(_9d4),_9d9=row&&row.element;if(_9d9){var _9da=_9d9.getElementsByTagName("td");for(var i=0;i<_9da.length;i++){if(_9da[i].columnId==_9d5){_9d6=_9da[i];break;}}}}if(_9d4!=null){return {row:row||this.row(_9d4),column:_9d5&&this.column(_9d5),element:_9d6};}},createRowCells:function(tag,each,_9db,_9dc){var row=put("table.dgrid-row-table[role=presentation]"),_9dd=this.cellNavigation,_9de=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_9df,_9e0,id,_9e1,_9e2,cell,_9e3,_9e4,_9e5;_9db=_9db||this.subRows;for(si=0,sl=_9db.length;si<sl;si++){_9df=_9db[si];tr=put(_9de,"tr");if(_9df.className){put(tr,"."+_9df.className);}for(i=0,l=_9df.length;i<l;i++){_9e0=_9df[i];id=_9e0.id;_9e1=_9e0.field?".field-"+_9d2(_9e0.field):"";_9e2=typeof _9e0.className==="function"?_9e0.className(_9dc):_9e0.className;if(_9e2){_9e1+="."+_9e2;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_9d2(id):"")+_9e1.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_9ce){_9e3=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_9e3;}else{_9e3=cell;}_9e4=_9e0.colSpan;if(_9e4){cell.colSpan=_9e4;}_9e5=_9e0.rowSpan;if(_9e5){cell.rowSpan=_9e5;}each(_9e3,_9e0);tr.appendChild(cell);}}return row;},left:function(cell,_9e6){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_9e6||1),"dgrid-cell"));},right:function(cell,_9e7){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_9e7||1,"dgrid-cell"));},renderRow:function(_9e8,_9e9){var self=this;var row=this.createRowCells("td",function(td,_9ea){var data=_9e8;if(_9ea.get){data=_9ea.get(_9e8);}else{if("field" in _9ea&&_9ea.field!="_item"){data=data[_9ea.field];}}if(_9ea.renderCell){_9cf(td,_9ea.renderCell(_9e8,data,td,_9e9));}else{_9eb.call(_9ea,_9e8,data,td,_9e9);}},_9e9&&_9e9.subRows,_9e8);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_9ec=this.columns,_9ed=this.headerNode,i=_9ed.childNodes.length;_9ed.setAttribute("role","row");while(i--){put(_9ed.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_9ee){var _9ef=_9ee.headerNode=th;if(_9ce){th=th.parentNode;}var _9f0=_9ee.field;if(_9f0){th.field=_9f0;}if(_9ee.renderHeaderCell){_9cf(_9ef,_9ee.renderHeaderCell(_9ef));}else{if("label" in _9ee||_9ee.field){_9ef.appendChild(document.createTextNode("label" in _9ee?_9ee.label:_9ee.field));}}if(_9ee.sortable!==false&&_9f0&&_9f0!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_9ed.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_9cc(row,"click,keydown",function(_9f1){if(_9f1.type=="click"||_9f1.keyCode==32||(!has("opera")&&_9f1.keyCode==13)){var _9f2=_9f1.target,_9f3,sort,_9f4,_9f5;do{if(_9f2.sortable){_9f4=[{attribute:(_9f3=_9f2.field||_9f2.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_9f3&&!sort.descending}];_9f5={bubbles:true,cancelable:true,grid:grid,parentType:_9f1.type,sort:_9f4};if(_9cc.emit(_9f1.target,"dgrid-sort",_9f5)){grid._sortNode=_9f2;grid.set("sort",_9f4);}break;}}while((_9f2=_9f2.parentNode)&&_9f2!=_9ed);}});},resize:function(){var _9f6=this.headerNode.firstChild,_9f7=this.contentNode,_9f8;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_9f7.style.width="";if(_9f7&&_9f6){if((_9f8=_9f6.offsetWidth)!=_9f7.offsetWidth){_9f7.style.width=_9f8+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_9f9,_9fa){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(_9fb){var _9fc=this.columns;for(var i in _9fc){var _9fd=_9fc[i];if(_9fd.field==_9fb){return _9fd.headerNode;}}},updateSortArrow:function(sort,_9fe){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_9fe){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_9ff=this._sortNode||this._findSortArrowParent(prop),_a00;delete this._sortNode;if(_9ff){_9ff=_9ff.contents||_9ff;_a00=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_a00.innerHTML="&nbsp;";_9ff.insertBefore(_a00,_9ff.firstChild);put(_9ff,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_a01,css){return this.addCssRule("#"+_9cd.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_9d2(_a01),css);},_configColumns:function(_a02,_a03){var _a04=[],_a05=_a03 instanceof Array;function _a06(_a07,_a08){if(typeof _a07=="string"){_a03[_a08]=_a07={label:_a07};}if(!_a05&&!_a07.field){_a07.field=_a08;}_a08=_a07.id=_a07.id||(isNaN(_a08)?_a08:(_a02+_a08));if(this._configColumn){this._configColumn(_a07,_a08,_a03,_a02);_a08=_a07.id;}if(_a05){this.columns[_a08]=_a07;}_a07.grid=this;if(typeof _a07.init==="function"){_a07.init();}_a04.push(_a07);};_9cd.each(_a03,_a06,this);return _a05?_a03:_a04;},_destroyColumns:function(){var _a09=this.subRows,_a0a=_a09&&_a09.length,i,j,_a0b,len;this.cleanup();for(i=0;i<_a0a;i++){for(j=0,len=_a09[i].length;j<len;j++){_a0b=_a09[i][j];if(typeof _a0b.destroy==="function"){_a0b.destroy();}}}},configStructure:function(){var _a0c=this.subRows,_a0d=this._columns=this.columns;this.columns=!_a0d||_a0d instanceof Array?{}:_a0d;if(_a0c){for(var i=0;i<_a0c.length;i++){_a0c[i]=this._configColumns(i+"-",_a0c[i]);}}else{this.subRows=[this._configColumns("",_a0d)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_a0e){this._destroyColumns();this.subRows=null;this.columns=_a0e;this._updateColumns();},_setSubRows:function(_a0f){this._destroyColumns();this.subRows=_a0f;this._updateColumns();},setColumns:function(_a10){_9ca.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_a10);},setSubRows:function(_a11){_9ca.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_a11);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _9eb(_a12,data,td,_a13){if(this.formatter){var _a14=this.formatter,_a15=this.grid.formatterScope;td.innerHTML=typeof _a14==="string"&&_a15?_a15[_a14](data,_a12):this.formatter(data,_a12);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_9cf;Grid.defaultRenderCell=_9eb;return Grid;});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_a16,_a17,dom,_a18,_a19,_a1a,_a1b,has,keys,lang,on,_a1c,_a1d,_a1e,_a1f,_a20){return _a16("dijit._HasDropDown",_a20,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,_a1c.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _a21=this.dropDown,_a22=false;if(e&&this._opened){var c=_a1a.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_a22){if(_a19.contains(t,"dijitPopup")){_a22=true;}else{t=t.parentNode;}}if(_a22){t=e.target;if(_a21.onItemClick){var _a23;while(t&&!(_a23=_a1d.byNode(t))){t=t.parentNode;}if(_a23&&_a23.onClick&&_a23.getParent){_a23.getParent().onItemClick(_a23,e);}}return;}}}if(this._opened){if(_a21.focus&&(_a21.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_a21.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _a24={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_a19.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_a24+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _a25=this.focusNode||this.domNode;this.own(on(this._buttonNode,_a1c.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_a25,"keydown",lang.hitch(this,"_onKey")),on(_a25,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_a26=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_a26.tagName||"").toLowerCase()!=="input"||(_a26.type&&_a26.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_a27){_a27();},loadAndOpenDropDown:function(){var d=new _a17(),_a28=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_a28);}else{_a28();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _a29=this.dropDown,_a2a=_a29.domNode,_a2b=this._aroundNode||this.domNode,self=this;var _a2c=_a1f.open({parent:this,popup:_a29,around:_a2b,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_a18.set(self._popupStateNode,"popupActive",false);_a19.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_a2b.offsetWidth>_a29._popupWrapper.offsetWidth)){var _a2d=_a2b.offsetWidth-_a29._popupWrapper.offsetWidth;var _a2e={w:_a29.domNode.offsetWidth+_a2d};if(lang.isFunction(_a29.resize)){_a29.resize(_a2e);}else{_a1a.setMarginBox(_a2a,_a2e);}if(_a2c.corner[1]=="R"){_a29._popupWrapper.style.left=(_a29._popupWrapper.style.left.replace("px","")-_a2d)+"px";}}_a18.set(this._popupStateNode,"popupActive","true");_a19.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_a29.id);if(_a2a.getAttribute("role")!=="presentation"&&!_a2a.getAttribute("aria-labelledby")){_a2a.setAttribute("aria-labelledby",this.id);}return _a2c;},closeDropDown:function(_a2f){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_a2f){this.focus();}_a1f.close(this.dropDown);this._opened=false;}}});});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_a30,date,_a31,_a32,_a33,_a34,_a35,keys,lang,on,has,_a36,_a37,_a38,_a39,_a3a){var _a3b=_a32("dijit.Calendar",[_a36,_a37,_a38],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_a3c){_a35.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_a3c);},_createMonthWidget:function(){return new _a3b._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_a3d){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_a3d);var _a3e=this.dateModule.getDaysInMonth(date);var _a3f=this.currentFocus.getDate();date.setDate(Math.min(_a3f,_a3e));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_a34.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_a34.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_a34.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_a34.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_a34.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_a34.contains(node,"dijitCalendarDisabledDate")){_a34.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_a34.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _a40=-1,_a41,_a42=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_a40=1;case keys.LEFT_ARROW:_a41="day";if(!this.isLeftToRight()){_a40*=-1;}break;case keys.DOWN_ARROW:_a40=1;case keys.UP_ARROW:_a41="week";break;case keys.PAGE_DOWN:_a40=1;case keys.PAGE_UP:_a41=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_a42=this.dateModule.add(_a42,"month",1);_a41="day";case keys.HOME:_a42=new this.dateClassObj(_a42);_a42.setDate(1);break;default:return true;}if(_a41){_a42=this.dateModule.add(_a42,_a41,_a40);}this._setCurrentFocusAttr(_a42);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_a43){this.onValueSelected(_a43);},getClassForDate:function(){}});_a3b._MonthDropDownButton=_a32("dijit.Calendar._MonthDropDownButton",_a3a,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _a3b._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_a44){var _a45=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_a44);this.dropDown.set("months",_a45);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_a45[_a44.getMonth()]+"</div>";}});_a3b._MonthDropDown=_a32("dijit.Calendar._MonthDropDown",[_a37,_a39],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_a46){this.domNode.innerHTML=_a30.map(_a46,function(_a47,idx){return _a47?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_a47+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_a33.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_a34.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _a3b;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_a48,_a49,_a4a,dom,_a4b,_a4c,_a4d,_a4e,has,keys,lang,on,_a4f,_a50,_a51,_a52){function _a53(){if(this._popupWrapper){_a4c.destroy(this._popupWrapper);delete this._popupWrapper;}};var _a54=_a4a(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _a55=this._firstAroundPosition,_a56=_a4d.position(this._firstAroundNode,true),dx=_a56.x-_a55.x,dy=_a56.y-_a55.y;if(dx||dy){this._firstAroundPosition=_a56;for(var i=0;i<this._stack.length;i++){var _a57=this._stack[i].wrapper.style;_a57.top=(parseInt(_a57.top,10)+dy)+"px";if(_a57.right=="auto"){_a57.left=(parseInt(_a57.left,10)+dx)+"px";}else{_a57.right=(parseInt(_a57.right,10)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_a58){var _a59=_a58._popupWrapper,node=_a58.domNode;if(!_a59){_a59=_a4c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_a58["aria-label"]||_a58.label||_a58.name||_a58.id},_a58.ownerDocumentBody);_a59.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_a58._popupWrapper=_a59;_a49.after(_a58,"destroy",_a53,true);}return _a59;},moveOffScreen:function(_a5a){var _a5b=this._createWrapper(_a5a);var ltr=_a4d.isBodyLtr(_a5a.ownerDocument),_a5c={visibility:"hidden",top:"-9999px",display:""};_a5c[ltr?"left":"right"]="-9999px";_a5c[ltr?"right":"left"]="auto";_a4e.set(_a5b,_a5c);return _a5b;},hide:function(_a5d){var _a5e=this._createWrapper(_a5d);_a4e.set(_a5e,{display:"none",height:"auto",overflow:"visible",border:""});var node=_a5d.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _a5f=this._stack;for(var pi=_a5f.length-1;pi>0&&_a5f[pi].parent===_a5f[pi-1].widget;pi--){}return _a5f[pi];},open:function(args){var _a60=this._stack,_a61=args.popup,node=_a61.domNode,_a62=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_a4d.isBodyLtr(_a61.ownerDocument),_a63=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_a60.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_a60[_a60.length-1].widget.domNode))){this.close(_a60[_a60.length-1].widget);}var _a64=this.moveOffScreen(_a61);if(_a61.startup&&!_a61._started){_a61.startup();}var _a65,_a66=_a4d.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_a65=args.maxHeight||Infinity;}else{var _a67=_a51.getEffectiveBox(this.ownerDocument),_a68=_a63?_a4d.position(_a63,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_a65=Math.floor(Math.max(_a68.y,_a67.h-(_a68.y+_a68.h)));}if(_a66.h>_a65){var cs=_a4e.getComputedStyle(node),_a69=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_a4e.set(_a64,{overflowY:"scroll",height:_a65+"px",border:_a69});node._originalStyle=node.style.cssText;node.style.border="none";}_a4b.set(_a64,{id:id,style:{zIndex:this._beginZIndex+_a60.length},"class":"dijitPopup "+(_a61.baseClass||_a61["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_a60.length==0&&_a63){this._firstAroundNode=_a63;this._firstAroundPosition=_a4d.position(_a63,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_a61.bgIframe){_a61.bgIframe=new _a50(_a64);}var _a6a=_a61.orient?lang.hitch(_a61,"orient"):null,best=_a63?_a4f.around(_a64,_a63,_a62,ltr,_a6a):_a4f.at(_a64,args,_a62=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_a6a);_a64.style.visibility="visible";node.style.visibility="visible";var _a6b=[];_a6b.push(on(_a64,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _a6c=this.getTopPopup();if(_a6c&&_a6c.onCancel){_a6c.onCancel();}}}})));if(_a61.onCancel&&args.onCancel){_a6b.push(_a61.on("cancel",args.onCancel));}_a6b.push(_a61.on(_a61.onExecute?"execute":"change",lang.hitch(this,function(){var _a6d=this.getTopPopup();if(_a6d&&_a6d.onExecute){_a6d.onExecute();}})));_a60.push({widget:_a61,wrapper:_a64,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_a6b});if(_a61.onOpen){_a61.onOpen(best);}return best;},close:function(_a6e){var _a6f=this._stack;while((_a6e&&_a48.some(_a6f,function(elem){return elem.widget==_a6e;}))||(!_a6e&&_a6f.length)){var top=_a6f.pop(),_a70=top.widget,_a71=top.onClose;if(_a70.onClose){_a70.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_a70&&_a70.domNode){this.hide(_a70);}if(_a71){_a71();}}if(_a6f.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_a52.popup=new _a54());});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_a72,_a73,_a74,_a75,_a76,lang,_a77,has,_a78,_a79,_a7a){return _a73("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _a7b=this.getParent();this._childOfLayoutWidget=_a7b&&_a7b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_a79.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _a7c=[],_a7d=false;_a77("> *",this.containerNode).some(function(node){var _a7e=_a78.byNode(node);if(_a7e&&_a7e.resize){_a7c.push(_a7e);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_a7d=true;}}});this._singleChild=_a7c.length==1&&!_a7d?_a7c[0]:null;_a74.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_a7f,_a80){this._resizeCalled=true;this._scheduleLayout(_a7f,_a80);},_scheduleLayout:function(_a81,_a82){if(this._isShown()){this._layout(_a81,_a82);}else{this._needLayout=true;this._changeSize=_a81;this._resultSize=_a82;}},_layout:function(_a83,_a84){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_a83){_a75.setMarginBox(this.domNode,_a83);}var cn=this.containerNode;if(cn===this.domNode){var mb=_a84||{};lang.mixin(mb,_a83||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_a75.getMarginBox(cn),mb);}this._contentBox=_a7a.marginBox2contentBox(cn,mb);}else{this._contentBox=_a75.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_a75.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _a85=this.getChildren(),_a86,i=0;while(_a86=_a85[i++]){if(_a86.resize){_a86.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_a87=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_a74.contains(node,"dijitHidden")&&_a87&&_a87.style&&(_a87.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(_a88,_a89,_a8a,date,_a8b,_a8c,dom,_a8d,lang,on,has,_a8e,_a8f,_a90,_a91){var _a92=_a89("dijit.CalendarLite",[_a8f,_a90],{templateString:_a91,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(_a93){return _a93&&!isNaN(_a93)&&typeof _a93=="object"&&_a93.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _a94=this._get("value");if(_a94&&!isNaN(_a94)){var _a95=new this.dateClassObj(_a94);_a95.setHours(0,0,0,0);if(_a95.getDate()<_a94.getDate()){_a95=this.dateModule.add(_a95,"hour",1);}return _a95;}else{return null;}},_setValueAttr:function(_a96,_a97){if(typeof _a96=="string"){_a96=_a8c.fromISOString(_a96);}_a96=this._patchDate(_a96);if(this._isValidDate(_a96)&&!this.isDisabledDate(_a96,this.lang)){this._set("value",_a96);this.set("currentFocus",_a96);this._markSelectedDates([_a96]);if(this._created&&(_a97||typeof _a97=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(_a98){if(_a98){_a98=new this.dateClassObj(_a98);_a98.setHours(1,0,0,0);}return _a98;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var _a99=new this.dateClassObj(this.currentFocus);_a99.setDate(1);var _a9a=_a99.getDay(),_a9b=this.dateModule.getDaysInMonth(_a99),_a9c=this.dateModule.getDaysInMonth(this.dateModule.add(_a99,"month",-1)),_a9d=new this.dateClassObj(),_a9e=_a8a.getFirstDayOfWeek(this.lang);if(_a9e>_a9a){_a9e-=7;}if(!this.summary){var _a9f=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_a99);this.gridNode.setAttribute("summary",_a9f[_a99.getMonth()]);}this._date2cell={};_a88.forEach(this.dateCells,function(_aa0,idx){var i=idx+_a9e;var date=new this.dateClassObj(_a99),_aa1,_aa2="dijitCalendar",adj=0;if(i<_a9a){_aa1=_a9c-_a9a+i+1;adj=-1;_aa2+="Previous";}else{if(i>=(_a9a+_a9b)){_aa1=i-_a9a-_a9b+1;adj=1;_aa2+="Next";}else{_aa1=i-_a9a+1;_aa2+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_aa1);if(!this.dateModule.compare(date,_a9d,"date")){_aa2="dijitCalendarCurrentDate "+_aa2;}if(this.isDisabledDate(date,this.lang)){_aa2="dijitCalendarDisabledDate "+_aa2;_aa0.setAttribute("aria-disabled","true");}else{_aa2="dijitCalendarEnabledDate "+_aa2;_aa0.removeAttribute("aria-disabled");_aa0.setAttribute("aria-selected","false");}var _aa3=this.getClassForDate(date,this.lang);if(_aa3){_aa2=_aa3+" "+_aa2;}_aa0.className=_aa2+"Month dijitCalendarDateTemplate";var _aa4=date.valueOf();this._date2cell[_aa4]=_aa0;_aa0.dijitDateValue=_aa4;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var _aa5=new this.dateClassObj(this.currentFocus);_aa5.setDate(1);this.monthWidget.set("month",_aa5);var y=_aa5.getFullYear()-1;var d=new this.dateClassObj();_a88.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_aa6){this.dateModule=_aa6.datePackage?lang.getObject(_aa6.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_aa6.datePackage?lang.getObject(_aa6.datePackage+".locale",false):_a8b;},_createMonthWidget:function(){return _a92._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_aa7=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_aa8=_a8a.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_a8e.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _aa7[_aa8++%7];});var r=_a8e.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _aa9=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_aa9,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _aaa=lang.hitch(this,function(_aab,part,_aac){return on(this[_aab],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_aac));}));});this.own(_aaa("incrementMonth","month",1),_aaa("decrementMonth","month",-1),_aaa("nextYearLabelNode","year",1),_aaa("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_aad){var _aae=this.currentFocus,_aaf=this._getNodeByDate(_aae);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_aae,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _ab0=this._getNodeByDate(date);_ab0.setAttribute("tabIndex",this.tabIndex);if(this.focused||_aad){_ab0.focus();}if(_aaf&&_aaf!=_ab0){if(has("webkit")){_aaf.setAttribute("tabIndex","-1");}else{_aaf.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_a8d.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(_ab1){_ab1=this._patchDate(_ab1);return _ab1&&this._date2cell?this._date2cell[_ab1.valueOf()]:null;},_markSelectedDates:function(_ab2){function mark(_ab3,cell){_a8d.toggle(cell,"dijitCalendarSelectedDate",_ab3);cell.setAttribute("aria-selected",_ab3?"true":"false");};_a88.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=_a88.filter(_a88.map(_ab2,this._getNodeByDate,this),function(n){return n;});_a88.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_a92._MonthWidget=_a89("dijit.CalendarLite._MonthWidget",_a8f,{_setMonthAttr:function(_ab4){var _ab5=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_ab4),_ab6=(has("ie")==6?"":"<div class='dijitSpacer'>"+_a88.map(_ab5,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_ab6+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_ab5[_ab4.getMonth()]+"</div>";}});return _a92;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_ab7,_ab8,_ab9,_aba,_abb,_abc,dom,_abd,_abe,_abf,_ac0,_ac1,has,_ac2,lang,on,_ac3,_ac4,_ac5,win,_ac6,_ac7,_ac8){has.add("dijit-legacy-requires",!_ac2.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_ac3(0,function(){var _ac9=["dijit/_base/manager"];_ab7(_ac9);});}var _aca={};function _acb(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _acc(attr){return function(val){_abd[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};function _acd(a,b){return a===b||(a!==a&&b!==b);};var _ace=_abc("dijit._WidgetBase",[_ac4,_ac6],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_acc("lang"),dir:"",_setDirAttr:_acc("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_aba.blankGif||_ab7.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _acf=ctor.prototype,_ad0=ctor._setterAttrs=[],_ad1=(ctor._onMap={});for(var name in _acf.attributeMap){_ad0.push(name);}for(name in _acf){if(/^on/.test(name)){_ad1[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_acf.attributeMap||!(name in _acf.attributeMap)){_ad0.push(name);}}}}},postscript:function(_ad2,_ad3){this.create(_ad2,_ad3);},create:function(_ad4,_ad5){this._introspect();this.srcNodeRef=dom.byId(_ad5);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_ad4){this.params=_ad4;lang.mixin(this,_ad4);}this.postMixInProperties();if(!this.id){this.id=_ac8.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_ac8.add(this);this.buildRendering();var _ad6;if(this.domNode){this._applyAttributes();var _ad7=this.srcNodeRef;if(_ad7&&_ad7.parentNode&&this.domNode!==_ad7){_ad7.parentNode.replaceChild(this.domNode,_ad7);_ad6=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_ad6){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _ad8={};for(var key in this.params||{}){_ad8[key]=this._get(key);}_ab8.forEach(this.constructor._setterAttrs,function(key){if(!(key in _ad8)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _ad8){this.set(key,_ad8[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _ad9=this.baseClass.split(" ");if(!this.isLeftToRight()){_ad9=_ad9.concat(_ab8.map(_ad9,function(name){return name+"Rtl";}));}_abe.add(this.domNode,_ad9);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_ab8.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_ada){this._beingDestroyed=true;this.destroyDescendants(_ada);this.destroy(_ada);},destroy:function(_adb){this._beingDestroyed=true;this.uninitialize();function _adc(w){if(w.destroyRecursive){w.destroyRecursive(_adb);}else{if(w.destroy){w.destroy(_adb);}}};_ab8.forEach(this._connects,lang.hitch(this,"disconnect"));_ab8.forEach(this._supportingWidgets,_adc);if(this.domNode){_ab8.forEach(_ac8.findWidgets(this.domNode,this.containerNode),_adc);}this.destroyRendering(_adb);_ac8.remove(this.id);this._destroyed=true;},destroyRendering:function(_add){if(this.bgIframe){this.bgIframe.destroy(_add);delete this.bgIframe;}if(this.domNode){if(_add){_abd.remove(this.domNode,"widgetId");}else{_abf.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_add){_abf.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_ade){_ab8.forEach(this.getChildren(),function(_adf){if(_adf.destroyRecursive){_adf.destroyRecursive(_ade);}});},uninitialize:function(){return false;},_setStyleAttr:function(_ae0){var _ae1=this.domNode;if(lang.isObject(_ae0)){_ac1.set(_ae1,_ae0);}else{if(_ae1.style.cssText){_ae1.style.cssText+="; "+_ae0;}else{_ae1.style.cssText=_ae0;}}this._set("style",_ae0);},_attrToDom:function(attr,_ae2,_ae3){_ae3=arguments.length>=3?_ae3:this.attributeMap[attr];_ab8.forEach(lang.isArray(_ae3)?_ae3:[_ae3],function(_ae4){var _ae5=this[_ae4.node||_ae4||"domNode"];var type=_ae4.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_ae2)){_ae2=lang.hitch(this,_ae2);}var _ae6=_ae4.attribute?_ae4.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_ae5.tagName){_abd.set(_ae5,_ae6,_ae2);}else{_ae5.set(_ae6,_ae2);}break;case "innerText":_ae5.innerHTML="";_ae5.appendChild(this.ownerDocument.createTextNode(_ae2));break;case "innerHTML":_ae5.innerHTML=_ae2;break;case "class":_abe.replace(_ae5,_ae2,this[attr]);break;}},this);},get:function(name){var _ae7=this._getAttrNames(name);return this[_ae7.g]?this[_ae7.g]():this._get(name);},set:function(name,_ae8){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _ae9=this._getAttrNames(name),_aea=this[_ae9.s];if(lang.isFunction(_aea)){var _aeb=_aea.apply(this,Array.prototype.slice.call(arguments,1));}else{var _aec=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_aec]&&this[_aec].tagName,_aed=tag&&(_aca[tag]||(_aca[tag]=_acb(this[_aec]))),map=name in this.attributeMap?this.attributeMap[name]:_ae9.s in this?this[_ae9.s]:((_aed&&_ae9.l in _aed&&typeof _ae8!="function")||/^aria-|^data-|^role$/.test(name))?_aec:null;if(map!=null){this._attrToDom(name,_ae8,map);}this._set(name,_ae8);}return _aeb||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_aee){var _aef=this[name];this[name]=_aee;if(this._created&&!_acd(_aef,_aee)){if(this._watchCallbacks){this._watchCallbacks(name,_aef,_aee);}this.emit("attrmodified-"+name,{detail:{prevValue:_aef,newValue:_aee}});}},_get:function(name){return this[name];},emit:function(type,_af0,_af1){_af0=_af0||{};if(_af0.bubbles===undefined){_af0.bubbles=true;}if(_af0.cancelable===undefined){_af0.cancelable=true;}if(!_af0.detail){_af0.detail={};}_af0.detail.widget=this;var ret,_af2=this["on"+type];if(_af2){ret=_af2.apply(this,_af1?_af1:[_af0]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_af0);}return ret;},on:function(type,func){var _af3=this._onMap(type);if(_af3){return _ab9.after(this,_af3,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_ac8.findWidgets(this.containerNode):[];},getParent:function(){return _ac8.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_af4,_af5){return this.own(_abb.connect(obj,_af4,this,_af5))[0];},disconnect:function(_af6){_af6.remove();},subscribe:function(t,_af7){return this.own(_ac5.subscribe(t,lang.hitch(this,_af7)))[0];},unsubscribe:function(_af8){_af8.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_ac0.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_ac1.get(this.domNode,"display")!="none");},placeAt:function(_af9,_afa){var _afb=!_af9.tagName&&_ac8.byId(_af9);if(_afb&&_afb.addChild&&(!_afa||typeof _afa==="number")){_afb.addChild(this,_afa);}else{var ref=_afb?(_afb.containerNode&&!/after|before|replace/.test(_afa||"")?_afb.containerNode:_afb.domNode):dom.byId(_af9,this.ownerDocument);_abf.place(this.domNode,ref,_afa);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_afc){var _afd=setTimeout(lang.hitch(this,function(){if(!_afd){return;}_afd=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_afc||0);return {remove:function(){if(_afd){clearTimeout(_afd);_afd=null;}return null;}};}});if(has("dojo-bidi")){_ace.extend(_ac7);}return _ace;});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_afe,doc,_aff){return !!_aff.contains;});var _b00=[],_b01,_b02,_b03,_b04=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _b05(_b06){var _b07=_b00[_b06],i,l;if(_b07===undefined){return;}_b01[_b02](_b07);_b00[_b06]=undefined;for(i=_b06+1,l=_b00.length;i<l;i++){if(_b00[i]>_b07){_b00[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_b08,_b09){var ran=false;_b09=_b09||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_b08,arguments);setTimeout(function(){ran=false;},_b09);};},throttleDelayed:function(cb,_b0a,_b0b){var ran=false;_b0b=_b0b||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_b0a,a);},_b0b);};},debounce:function(cb,_b0c,_b0d){var _b0e;_b0d=_b0d||util.defaultDelay;return function(){if(_b0e){clearTimeout(_b0e);_b0e=null;}var a=arguments;_b0e=setTimeout(function(){cb.apply(_b0c,a);},_b0d);};},each:function(_b0f,_b10,_b11){var i,len;if(!_b0f){return;}if(typeof _b0f.length==="number"){for(i=0,len=_b0f.length;i<len;i++){_b10.call(_b11,_b0f[i],i,_b0f);}}else{for(i in _b0f){_b10.call(_b11,_b0f[i],i,_b0f);}}},contains:function(_b12,node){if(has("dom-contains")){return _b12.contains(node);}else{return _b12.compareDocumentPosition(node)&8;}},addCssRule:function(_b13,css){if(!_b01){_b01=put(document.getElementsByTagName("head")[0],"style");_b01=_b01.sheet||_b01.styleSheet;_b02=_b01.deleteRule?"deleteRule":"removeRule";_b03=_b01.cssRules?"cssRules":"rules";}var _b14=_b00.length;_b00[_b14]=(_b01.cssRules||_b01.rules).length;_b01.addRule?_b01.addRule(_b13,css):_b01.insertRule(_b13+"{"+css+"}",_b00[_b14]);return {get:function(prop){return _b01[_b03][_b00[_b14]].style[prop];},set:function(prop,_b15){if(typeof _b00[_b14]!=="undefined"){_b01[_b03][_b00[_b14]].style[prop]=_b15;}},remove:function(){_b05(_b14);}};},escapeCssIdentifier:function(id,_b16){return id.replace(_b04,_b16||"\\$1");}};return util;});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_b17,_b18,lang,dom,_b19,_b1a,on,_b1b,_b1c,dnd,_b1d,win){var _b1e=_b18("dojo.dnd.Moveable",[_b1a],{handle:"",delay:0,skip:false,constructor:function(node,_b1f){this.node=dom.byId(node);if(!_b1f){_b1f={};}this.handle=_b1f.handle?dom.byId(_b1f.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_b1f.delay>0?_b1f.delay:0;this.skip=_b1f.skip;this.mover=_b1f.mover?_b1f.mover:_b1d;this.events=[on(this.handle,_b1c.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_b20,node,Ctor){return new Ctor(node,_b20);},destroy:function(){_b17.forEach(this.events,function(_b21){_b21.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_b1c.move,lang.hitch(this,"onMouseMove")),on(this.handle,_b1c.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_b22){_b1b.publish("/dnd/move/start",_b22);_b19.add(win.body(),"dojoMove");_b19.add(this.node,"dojoMoveItem");},onMoveStop:function(_b23){_b1b.publish("/dnd/move/stop",_b23);_b19.remove(win.body(),"dojoMove");_b19.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_b24,_b25){this.onMoving(_b24,_b25);var s=_b24.node.style;s.left=_b25.l+"px";s.top=_b25.t+"px";this.onMoved(_b24,_b25);},onMoving:function(){},onMoved:function(){}});return _b1e;});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_b26,lang,_b27,_b28,dom,_b29,_b2a){var _b2b=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_b29.empty,_setNodeContent:function(node,cont){_b29.empty(node);if(cont){if(typeof cont=="string"){cont=_b29.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _b2c=cont.length,i=0;i<cont.length;i=_b2c==cont.length?i+1:0){_b29.place(cont[i],node,"last");}}else{_b29.place(cont,node,"last");}}return node;},_ContentSetter:_b28("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_b26._scopeName,startup:true,constructor:function(_b2d,node){lang.mixin(this,_b2d||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_b2b++].join("_");}},set:function(cont,_b2e){if(undefined!==cont){this.content=cont;}if(_b2e){this._mixin(_b2e);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _b2f=this.onContentError(e);try{node.innerHTML=_b2f;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_b27.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_b29.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _b30=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_b30){cont=_b30[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_b31){var _b32={},key;for(key in _b31){if(key in _b32){continue;}this[key]=_b31[key];}},_parse:function(){var _b33=this.node;try{var _b34={};_b27.forEach(["dir","lang","textDir"],function(name){if(this[name]){_b34[name]=this[name];}},this);var self=this;this.parseDeferred=_b2a.parse({rootNode:_b33,noStart:!this.startup,inherited:_b34,scope:this.parserScope}).then(function(_b35){return self.parseResults=_b35;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_b36){var _b37=this["on"+type+"Error"].call(this,err);if(_b36){console.error(_b36,err);}else{if(_b37){html._setNodeContent(this.node,_b37,true);}}}}),set:function(node,cont,_b38){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_b38){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_b38,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"\n\t\trole=\"presentation\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</span>\n\t</td>\n</tr>\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n/></div>\n","url:advisor/widgets/templates/Calendar.html":"<div class=\"cal\">\n\t<div data-dojo-attach-point=\"cal\"></div>\n\t<label>\n\t\t<input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"checkbox\" data-dojo-attach-event=\"change: onToggleAll\" checked>\n\t\t${i18n.showAll}\n\t</label>\n</div>\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\" aria-hidden=\"true\"\n/></span>\n","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","url:advisor/widgets/templates/Actions.html":"<div class=\"actions\">\n\t<div class=\"heading\">${i18n.actions}</div>\n\t<div class=\"actionsContainer\">\n\t\t<div data-dojo-attach-point=\"actions\" class=\"actions action\"></div>\n\t\t<div data-dojo-attach-point=\"watchNotes\"></div>\n\t</div>\n\t<div data-dojo-attach-point=\"noData\" class=\"noData\">\n\t\tNo Actions for this selected date.\n\t</div>\n</div>","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:advisor/widgets/templates/Tab.html":"<div class=\"advisorTab\">\n\t<div class=\"index\">${index}</div>\n\t<div class=\"label\">${label}</div>\n\t<div class=\"status\" data-dojo-attach-point=\"statusNode\">\n\t\t<div class=\"indicator\">\n\t\t\t<span class=\"icon arrow-circle\"></span>\n\t\t\t<span class=\"icon arrow-circle on\"></span>\n\t\t\t<span class=\"icon checkbox-in-circle\"></span>\n\t\t\t<span class=\"icon checkbox-in-circle on\"></span>\n\t\t\t<span class=\"icon alert\"></span>\n\t\t</div>\n\t\t<div class=\"count\" data-dojo-attach-point=\"countDiv\"></div>\n\t</div>\n</div>\n","url:dojox/layout/resources/FloatingPane.html":"<div class=\"dojoxFloatingPane\" id=\"${id}\">\n\t<div tabindex=\"0\" role=\"button\" class=\"dojoxFloatingPaneTitle\" dojoAttachPoint=\"focusNode\">\n\t\t<span dojoAttachPoint=\"closeNode\" dojoAttachEvent=\"onclick: close\" class=\"dojoxFloatingCloseIcon\"></span>\n\t\t<span dojoAttachPoint=\"maxNode\" dojoAttachEvent=\"onclick: maximize\" class=\"dojoxFloatingMaximizeIcon\">&thinsp;</span>\n\t\t<span dojoAttachPoint=\"restoreNode\" dojoAttachEvent=\"onclick: _restore\" class=\"dojoxFloatingRestoreIcon\">&thinsp;</span>\t\n\t\t<span dojoAttachPoint=\"dockNode\" dojoAttachEvent=\"onclick: minimize\" class=\"dojoxFloatingMinimizeIcon\">&thinsp;</span>\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitInline dijitTitleNode\"></span>\n\t</div>\n\t<div dojoAttachPoint=\"canvas\" class=\"dojoxFloatingPaneCanvas\">\n\t\t<div dojoAttachPoint=\"containerNode\" role=\"region\" tabindex=\"-1\" class=\"${contentClass}\">\n\t\t</div>\n\t\t<span dojoAttachPoint=\"resizeHandle\" class=\"dojoxFloatingResizeHandle\"></span>\n\t</div>\n</div>\n","*now":function(r){r(["dojo/i18n!*preload*advisor/nls/main*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("advisor/main",["exports","dojo/date","dojo/date/stamp","dojo/dom","dojo/topic","dojo/on","dojo/aspect","dojo/dom-construct","./widgets/Dialog","dijit/form/Button","dojo/i18n!./nls/common","widget/MessageConsole","./widgets/Advisor"],function(_b39,_b3a,_b3b,dom,_b3c,on,_b3d,_b3e,_b3f,_b40,i18n,_b41,_b42){var _b43="advisor";var _b44;var _b45;var _b46=0;function _b47(_b48){var _b49=_b48.domNode.offsetHeight;var _b4a=window.innerHeight||document.documentElement.clientHeight;if(_b4a<_b49){_b48.domNode.style.top=0;}};function _b4b(_b4c){var _b4d=_b4c.dialogWrapper;if(!_b4d){_b4d=_b4c.dialogWrapper=_b3e.create("div",{className:"dialog-wrapper"},document.body);}_b4c.on("show",function(){document.body.style.overflow="hidden";_b46++;_b4d.style.display="";});_b4c.on("hide",function(){_b4d.style.display="none";_b46--;if(!_b46){document.body.style.overflow="auto";}});_b4c.placeAt(_b4d);};_b3c.subscribe("/"+_b43+"/showDialog",function(view){var _b4e;if(!_b44){_b44=new _b3f({"class":_b43,draggable:false});document.body.style.overflow="hidden";_b4b(_b44);_b44.startup();}var _b4f=_b44.getChildren()[0];if(!_b4f||_b4f!==view){if(_b4f){_b44.containerNode.removeChild(_b4f.domNode||_b4f);if(_b4f.dialogClass){_b4f.dialogClass.split(" ").forEach(function(_b50){_b44.domNode.classList.remove(_b50);});}_b45&&_b45.remove();_b4f=null;}_b44.set("title",view.get("title"));_b44.set("content",view);_b44.onCancel=function(){view.cancel();};if(view.dialogClass){view.dialogClass.split(" ").forEach(function(_b51){_b44.domNode.classList.add(_b51);});}_b45=view.on("hide",function(){_b44.hide();_b4e.remove();});}_b44.show();_b47(_b44);_b4e=on(window,"resize",function(){_b47(_b44);});});var _b52;_b3c.subscribe("/"+_b43+"/confirm",function(args){if(!_b52){_b52=new _b3f({"class":"alert-dialog",cancelButton:args.cancelText||i18n.cancel,okButton:args.confirmText});_b52.placeAt(document.body);_b52.domNode.classList.add(_b43);_b4b(_b52);_b52.startup();}_b52.set({title:args.title,content:args.message});_b52.onCancel=function(){_b52.hide();args.onCancel&&args.onCancel(event);};_b52.onExecute=function(){_b52.hide();args.onConfirm&&args.onConfirm(event);};_b52.show();});var _b53;_b3c.subscribe("/"+_b43+"/choice",function(args){function _b54(_b55){args.onCancel&&args.onCancel(_b55);_b53.hide();};if(!_b53){_b53=new _b3f({"class":"alert-dialog"});_b53.placeAt(document.body);_b53.domNode.classList.add(_b43);_b4b(_b53);_b53.startup();}var _b56=[{label:args.cancelText||i18n.cancel,name:"cancel"}];args.choices.forEach(function(_b57){_b56.push(_b57);});_b53.set({buttons:_b56,title:args.title,content:args.message,onChoice:function(_b58){switch(_b58.detail.name){case "cancel":_b54();break;default:args.onChoice(_b58);_b53.hide();break;}}});_b53.on("Cancel",_b54);_b53.show();});var _b59;var _b5a=[];_b3c.subscribe("/"+_b43+"/message",function(_b5b,show,_b5c){if(!_b59){_b5a.push([_b5b,show,_b5c]);return;}_b59.addMessages([_b5b],show,_b5c);});_b39.startup=function(node,_b5d){if(_b5d.marshaDatePlusOne&&!_b5d.marshaDate){_b5d.marshaDate=_b3b.toISOString(_b3a.add(_b3b.fromISOString(_b5d.marshaDatePlusOne),"day",-1),{selector:"date"});}var _b5e=new _b42({config:_b5d});_b5e.placeAt(node,"replace");_b5e.startup();_b59=new _b41({"class":"advisor-message-console"}).placeAt(_b5e.domNode.parentNode);_b59.startup();if(_b5a.length){for(var i=0;i<_b5a.length;i++){_b59.addMessages.apply(_b59,[_b5a[i],true]);}}};});       \Iu\Iv?\m   K    :https://salesnet.marriott.com/oysplatform/dashboard/script/advisor/main.js strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAgAAgAAAAAAAAAAAAAAAAAAAAEAMQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAdLMIIHRzCCBi+gAwIBAgIRALCpK2PnxQkfAAAAAFDnPccwDQYJKoZIhvcNAQELBQAwgboxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAxMiBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxLjAsBgNVBAMTJUVudHJ1c3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBMMUswHhcNMTgwOTA3MTMyNDE1WhcNMjAwOTA3MTM1NDE1WjB5MQswCQYDVQQGEwJVUzERMA8GA1UECBMITWFyeWxhbmQxETAPBgNVBAcTCEJldGhlc2RhMSQwIgYDVQQKExtNYXJyaW90dCBJbnRlcm5hdGlvbmFsIEluYy4xHjAcBgNVBAMTFXNhbGVzbmV0Lm1hcnJpb3R0LmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMMMHRXSGH+X/un6H2XrmLh7xsiE5+YxtQlX57S++2Hau/2MskB5cxPVvyLyROvjvD5cY8zyEi/P0Vxz2vpKTrKsq1l16Q5O+moMDTcGEuGJAQ8lImGZNh+YjzYBubjwsju5sKtYpJ2AurwercinfXf8oO8oBnWURGp+xQKYl9LbiD4FUmkr88E3afbunhF3LdhGMBNp1Zy4QvRWWA3A2QS+kl1zxE4EtKGqX89BQ3m1vw2As1y9NDBDt6jxEy+4onczYQS7VXNpjZUQA+Ytn8OATllq3SfbTgC+808XD9Cl/ISZ2awuiS3+xWGKw49raJBD3OaqVI7r8ZI35czz1F8CAwEAAaOCA4YwggOCMCAGA1UdEQQZMBeCFXNhbGVzbmV0Lm1hcnJpb3R0LmNvbTCCAfYGCisGAQQB1nkCBAIEggHmBIIB4gHgAHUAVYHUwhaQNgFK6gubVzxT8MDkOHhwJQgXL6OqHQcT0wwAAAFltE/YDQAABAMARjBEAiBOcGVWsTskdObBqzvJ27PHkecPRQt+A3qqNaCUKI+I6QIgCQd+Bc8k5aGMbFAWut6Fdd9/GGmyt39gaxl31/6Xjc8AdwCHdb/nWXz4jEOZX73zbv9WjUdWNv9KtWDBtOr/XqCDDwAAAWW0T9gKAAAEAwBIMEYCIQD+5taiLmGr8xP+fUnK7oivZwwNWNzLxK90UVuef/ZguwIhAM+yknjipxX6j/hpsN/C6d3d7KnUPbrsa8XezM5Ml23cAHYA3esdK3oNT6Ygi4GtgWhwfi6OnQHVXIiNPRHEzbbsvswAAAFltE/YFAAABAMARzBFAiEAzbsnOD0AWdJnYJ7Q7jJzbT+KrBfec4eP1u+sXNdg8qICICaeJAfNhqpdRdII/JtsKH0DphIg9FJEZ9cMTp25vLTYAHYAu9nfvB+KcbWTlCOXqpJ7RzhXlQqrUugakJZkNo4e0YUAAAFltE/X6wAABAMARzBFAiAlV8MKR90Ty2HBPGoQOU38L3MzjOrlavDKWX/ZHtrOPgIhAKlgWAA03f3bNu/dtaZcyYbUp+PP4ZdiD8ty5ObcQktdMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC5lbnRydXN0Lm5ldC9sZXZlbDFrLmNybDBLBgNVHSAERDBCMDYGCmCGSAGG+mwKAQUwKDAmBggrBgEFBQcCARYaaHR0cDovL3d3dy5lbnRydXN0Lm5ldC9ycGEwCAYGZ4EMAQICMGgGCCsGAQUFBwEBBFwwWjAjBggrBgEFBQcwAYYXaHR0cDovL29jc3AuZW50cnVzdC5uZXQwMwYIKwYBBQUHMAKGJ2h0dHA6Ly9haWEuZW50cnVzdC5uZXQvbDFrLWNoYWluMjU2LmNlcjAfBgNVHSMEGDAWgBSConB03bxTP8971PfNf6dgxgpMvzAdBgNVHQ4EFgQUy6ugN7FNCIXuHdw2qwJ6Rz3dFQ0wCQYDVR0TBAIwADANBgkqhkiG9w0BAQsFAAOCAQEA2Ja/Dc2s8LS250Hqn+QmAxz3fl6GNvDS9pLuVfEt18moKjBiM4F/OCrfJkPVldJA6eioI+ZN0iKCz/JrPlsLEzAIYI+JrGmgucyMXDiZHqVn1PpqOxQXCfp7C7ehEDfKz7Ja5wr/9gxN8HMENaTWt6kbdm9h+a5MGKDIRl4etuOlfOEVMNC7QV9q63WPMLxaKwZkPtvNJ0SBAMnidJdTwK0lYk2uo12M+TAwhphamw0zqRYCBDEnZ1RYFIDG2Xll/vBUS1OPvCjPFARbGJFLUez4/9fmqaQz1JiQjsBkY7AnK705ve48VkqaZZfc2RfjNuwJrQMBa6Q9bsrgDzixCwAvAAMAAAAAAQEAAAAAAAAEbm9uZQAAAARub25lAZWfsWVlF0h/q5vYkTvlMZeudM2lzS9HP5b18Lf/9ixoAAAAA2YKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAAB0swggdHMIIGL6ADAgECAhEAsKkrY+fFCR8AAAAAUOc9xzANBgkqhkiG9w0BAQsFADCBujELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDEyIEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEuMCwGA1UEAxMlRW50cnVzdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEwxSzAeFw0xODA5MDcxMzI0MTVaFw0yMDA5MDcxMzU0MTVaMHkxCzAJBgNVBAYTAlVTMREwDwYDVQQIEwhNYXJ5bGFuZDERMA8GA1UEBxMIQmV0aGVzZGExJDAiBgNVBAoTG01hcnJpb3R0IEludGVybmF0aW9uYWwgSW5jLjEeMBwGA1UEAxMVc2FsZXNuZXQubWFycmlvdHQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwwwdFdIYf5f+6fofZeuYuHvGyITn5jG1CVfntL77Ydq7/YyyQHlzE9W/IvJE6+O8PlxjzPISL8/RXHPa+kpOsqyrWXXpDk76agwNNwYS4YkBDyUiYZk2H5iPNgG5uPCyO7mwq1iknYC6vB6tyKd9d/yg7ygGdZREan7FApiX0tuIPgVSaSvzwTdp9u6eEXct2EYwE2nVnLhC9FZYDcDZBL6SXXPETgS0oapfz0FDebW/DYCzXL00MEO3qPETL7iidzNhBLtVc2mNlRAD5i2fw4BOWWrdJ9tOAL7zTxcP0KX8hJnZrC6JLf7FYYrDj2tokEPc5qpUjuvxkjflzPPUXwIDAQABo4IDhjCCA4IwIAYDVR0RBBkwF4IVc2FsZXNuZXQubWFycmlvdHQuY29tMIIB9gYKKwYBBAHWeQIEAgSCAeYEggHiAeAAdQBVgdTCFpA2AUrqC5tXPFPwwOQ4eHAlCBcvo6odBxPTDAAAAWW0T9gNAAAEAwBGMEQCIE5wZVaxOyR05sGrO8nbs8eR5w9FC34Deqo1oJQoj4jpAiAJB34FzyTloYxsUBa63oV1338YabK3f2BrGXfX/peNzwB3AId1v+dZfPiMQ5lfvfNu/1aNR1Y2/0q1YMG06v9eoIMPAAABZbRP2AoAAAQDAEgwRgIhAP7m1qIuYavzE/59ScruiK9nDA1Y3MvEr3RRW55/9mC7AiEAz7KSeOKnFfqP+Gmw38Lp3d3sqdQ9uuxrxd7MzkyXbdwAdgDd6x0reg1PpiCLga2BaHB+Lo6dAdVciI09EcTNtuy+zAAAAWW0T9gUAAAEAwBHMEUCIQDNuyc4PQBZ0mdgntDuMnNtP4qsF95zh4/W76xc12DyogIgJp4kB82Gql1F0gj8m2wofQOmEiD0UkRn1wxOnbm8tNgAdgC72d+8H4pxtZOUI5eqkntHOFeVCqtS6BqQlmQ2jh7RhQAAAWW0T9frAAAEAwBHMEUCICVXwwpH3RPLYcE8ahA5TfwvczOM6uVq8MpZf9ke2s4+AiEAqWBYADTd/ds27921plzJhtSn48/hl2IPy3Lk5txCS10wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAzBgNVHR8ELDAqMCigJqAkhiJodHRwOi8vY3JsLmVudHJ1c3QubmV0L2xldmVsMWsuY3JsMEsGA1UdIAREMEIwNgYKYIZIAYb6bAoBBTAoMCYGCCsGAQUFBwIBFhpodHRwOi8vd3d3LmVudHJ1c3QubmV0L3JwYTAIBgZngQwBAgIwaAYIKwYBBQUHAQEEXDBaMCMGCCsGAQUFBzABhhdodHRwOi8vb2NzcC5lbnRydXN0Lm5ldDAzBggrBgEFBQcwAoYnaHR0cDovL2FpYS5lbnRydXN0Lm5ldC9sMWstY2hhaW4yNTYuY2VyMB8GA1UdIwQYMBaAFIKicHTdvFM/z3vU981/p2DGCky/MB0GA1UdDgQWBBTLq6A3sU0Ihe4d3DarAnpHPd0VDTAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDYlr8NzazwtLbnQeqf5CYDHPd+XoY28NL2ku5V8S3XyagqMGIzgX84Kt8mQ9WV0kDp6Kgj5k3SIoLP8ms+WwsTMAhgj4msaaC5zIxcOJkepWfU+mo7FBcJ+nsLt6EQN8rPslrnCv/2DE3wcwQ1pNa3qRt2b2H5rkwYoMhGXh6246V84RUw0LtBX2rrdY8wvForBmQ+280nRIEAyeJ0l1PArSViTa6jXYz5MDCGmFqbDTOpFgIEMSdnVFgUgMbZeWX+8FRLU4+8KM8UBFsYkUtR7Pj/1+appDPUmJCOwGRjsCcrvTm97jxWSppll9zZF+M27AmtAwFrpD1uyuAPOLELZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAFEjCCBQ4wggP2oAMCAQICDA7pTMMAAAAAUdN3hTANBgkqhkiG9w0BAQsFADCBvjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDA5IEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEyMDAGA1UEAxMpRW50cnVzdCBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IC0gRzIwHhcNMTUxMDA1MTkxMzU2WhcNMzAxMjA1MTk0MzU2WjCBujELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDEyIEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEuMCwGA1UEAxMlRW50cnVzdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEwxSzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANo/ltBNuS9E59s5XptQ7lylYdpBZ1MJqgCajld/KWvbx+EhJKo60I1HI9LtchbwkSHSXbe4S6iDj7eRMmjPziWTLLJ9l8j+wbQXugmeA5CTe3xJgyJoipveR8MxmHoufUAL0u8+07KMqo9Iqf8A6ClYBve2k1qUcyYmrVgO5UK41epzeWRoUyW4hM+Ueq4GRQyja03Qxr7qGKQ28JKyuhyIjzpSf/debYMcnfAf5cPW3aV4kj2wbSzqyc+UQRlxRGi6RzwE6V26PvA19xW2nvIuFR4/R8jIOKdzRV1NsDuxjhcpN+rdBQEiu5Q2Ko1bNf5TGS8IRsEqsxpiHU4r2RsCAwEAAaOCAQwwggEIMA4GA1UdDwEB/wQEAwIBBjASBgNVHRMBAf8ECDAGAQH/AgEAMDMGCCsGAQUFBwEBBCcwJTAjBggrBgEFBQcwAYYXaHR0cDovL29jc3AuZW50cnVzdC5uZXQwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL2NybC5lbnRydXN0Lm5ldC9nMmNhLmNybDA7BgNVHSAENDAyMDAGBFUdIAAwKDAmBggrBgEFBQcCARYaaHR0cDovL3d3dy5lbnRydXN0Lm5ldC9ycGEwHQYDVR0OBBYEFIKicHTdvFM/z3vU981/p2DGCky/MB8GA1UdIwQYMBaAFGpyJnrQHu995ztpUdRsjZ+QEmarMA0GCSqGSIb3DQEBCwUAA4IBAQA51Y6Yg2HILGPTcB0ZMMv2CazMadXJ3DdB8jIP73TDWPZ4Jwk0CJWSL9ffuKP9DoHppJzTP01oKxUxChXMUgST6JNQw9mx4uFotzoJdPE0WAo/d5hAuOZo/13kyEbF7IHXyYIYXIPOcdi8v6yZApPblJiE0pymtf5cu/BKryGswj9JJGfWLo7PrMxkFRhy5Wx301Koud2NrABKNRnUb3Ojde9rZMPgjYMSoYrnDoZN2LQgG75qpYxLaGbjK8dYC/tWENSR+x3TMVgQjETjdXsQnbU4sfaqyoFkbOjy4oFVl1F/4cInUKLJPFsAQ/ZbudWl/P8HUEBnB7BV8Ld+bi3MZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEQjCCBD4wggMmoAMCAQICBEpTjCgwDQYJKoZIhvcNAQELBQAwgb4xCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAwOSBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxMjAwBgNVBAMTKUVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMB4XDTA5MDcwNzE3MjU1NFoXDTMwMTIwNzE3NTU1NFowgb4xCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAwOSBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxMjAwBgNVBAMTKUVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuoS2ctueDGvimekwAad26jK4lUEaydphTlhyz/72gnm/c2EGCqUn2LNf00VOHHLWTjLycooP94MZ0GqAgABFHrDH55q/ElcnHKNoLwqHvWprDl5l8xx31dSFjXAhtLMy54ui1YY5ArG40kfO5MlJxDun3vtUfVe+8OhuwnmyOgtV4lCYFjITXC94VsHClLPyWuQnmp8k18bs0JslguPMwsRFxYyXegZrKhGfqQpuSDtv29QRGUL3jwe/9VNfnD70FyzmaaxOMkxid+q36OW7NLwZi66cUee3frVTsTMi5W3PcDwa+uKbZ7aD9I2lr2JMTeBYrGQ0EgP4to2UYySkcQIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUanImetAe733nO2lR1GyNn5ASZqswDQYJKoZIhvcNAQELBQADggEBAHmfHZbGtnk/Io2H04cDBGBqa5ouWYlzEaxD0fUT/405K8DyvU9wjKkv6hfEC1Se1BuWmDM8qK1iogB2q1lpbgYdfsS5RI2YrxLUYdsKGUZH8+v3Y8FABUCl0rf0tZo2v6mIdogEVQQrnId/Gjc8fi2lGtjUiV7Kvaw9bNhtr9Xzdg/NO4g4Ip1sk5rEPb+CG2U/pg9dqvzlshXKta3GvD3QhOjqBnKwTTkyeL8+EZwLpJ2aIfPwmwsweNvB3IdD/rxjmsrFwhzJx43/OxJYCOa2Pex6LE77g5bODDxph1RzpHPCk/9REKwVVAHY/AWxiaF/dIOaSdfcTnuKSG+LRfYA request-method GET response-head HTTP/1.1 200 OK
content-language: en-US
content-length: 383527
content-type: application/javascript
date: Wed, 05 Dec 2018 21:56:03 GMT
last-modified: Thu, 27 Sep 2018 13:50:12 GMT
p3p: CP="NON CUR OTPi OUR NOR UNI"
x-powered-by: Servlet/3.0
 original-response-headers content-language: en-US
content-length: 383527
content-type: application/javascript
date: Wed, 05 Dec 2018 21:56:03 GMT
last-modified: Thu, 27 Sep 2018 13:50:12 GMT
p3p: CP="NON CUR OTPi OUR NOR UNI"
x-powered-by: Servlet/3.0
Set-Cookie: PD-S-SESSION-ID=1_2_1_IRNAryPZb7gtgJM59kHonp40mlK0iuhwK7LoZbD7yRnrSr5R; Path=/; Secure
Set-Cookie: PD-ID=F1jIIXjicmb3NrUGHjNf3fFZvA4XqOfQUhTV32v5Jv5VR1m0R68TSxugsxjIeGscrN/MOZnGfBv0tSZAYTbv9jYv9OkXB5wmYhmJyu3HWfxOsljHiVifhm0uF8dc+UZRei3rcsXPaD18M2v3mNkxiE8pjlZY2/rEdm2LJWe6gbMHqtCpSLI/4v/AmZlkAOlobUMIP1CP1dLp948A/lgW5hEgelS3O4yjzxZ6UnsTqw86RqMZpEoJE/zxarqT73o9BKn/knWTZjq73UdO8LrWg1H3rVYj+kRFiXYsX1xchf7HZ0WkXecklxAW5aguPZQIDEKvDkEDvc6Ot6Hhc8d03g==; Domain=.marriott.com; Path=/; Secure
 uncompressed-len 0 net-response-time-onstart 107 net-response-time-onstop 1103  '